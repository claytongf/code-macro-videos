{"version":3,"sources":["components/SnackbarProvider.tsx","components/Page.tsx","util/http/index.ts","util/http/http-resource.ts","util/http/category-http.ts","theme.ts","components/Badge.tsx","components/Table/DebouncedTableSearch.js","components/Table/index.tsx","components/Table/FilterResetButton.tsx","util/vendor/yup.ts","store/filter/index.ts","hooks/useFilter.ts","hooks/useDeleteCollection.ts","components/DeleteDialog.tsx","components/loading/LoadingContext.tsx","pages/category/Table.tsx","pages/category/PageList.tsx","components/SubmitActions.tsx","components/DefaultForm.tsx","hooks/useSnackbarFormError.ts","pages/category/Form.tsx","pages/category/PageForm.tsx","util/http/genre-http.ts","pages/genre/Table.tsx","pages/genre/PageList.tsx","pages/genre/Form.tsx","pages/genre/PageForm.tsx","util/http/cast-member-http.ts","util/models.ts","pages/cast-member/Table.tsx","pages/cast-member/PageList.tsx","pages/cast-member/Form.tsx","pages/cast-member/PageForm.tsx","util/http/video-http.ts","pages/video/Table.tsx","pages/video/PageList.tsx","components/Rating.tsx","pages/video/Form/RatingField.tsx","components/InputFile.tsx","pages/video/Form/UploadField.tsx","components/AsyncAutocomplete.tsx","components/GridSelected.tsx","components/GridSelectedItem.tsx","hooks/useCollectionManager.ts","hooks/useHttpHandled.ts","util/model-filters.ts","pages/video/Form/CategoryField.tsx","pages/video/Form/GenreField.tsx","pages/video/Form/CastMemberField.tsx","store/upload/index.ts","store/upload/getters.ts","components/SnackbarUpload/UploadAction.tsx","components/UploadProgress.tsx","components/SnackbarUpload/UploadItem.tsx","components/SnackbarUpload/index.tsx","pages/video/Form/index.tsx","pages/video/PageForm.tsx","pages/Dashboard.tsx","pages/uploads/UploadAction.tsx","pages/uploads/UploadItem.tsx","pages/uploads/index.tsx","routes/index.tsx","components/Breadcrumbs.tsx","components/Navbar/Menu.tsx","components/Navbar/index.tsx","static/img/logo.png","routes/AppRouter.tsx","components/Spinner.tsx","components/loading/LoadingProvider.tsx","App.tsx","reportWebVitals.ts","store/upload/sagas.ts","store/root-saga.ts","store/index.ts","index.tsx"],"names":["useStyles","makeStyles","theme","variantSuccess","backgroundColor","palette","success","main","variantError","error","variantInfo","primary","SnackbarProvider","props","snackbarProviderRef","defaultProps","classes","autoHideDuration","maxSnack","anchorOrigin","horizontal","vertical","children","preventDuplicate","ref","e1","action","key","IconButton","color","style","fontSize","onClick","closeSnackbar","newProps","title","Page","Container","Typography","className","component","variant","Box","paddingTop","httpVideo","axios","create","baseURL","process","instances","HttpResource","http","resource","cancelList","options","this","cancel","CancelToken","source","config","cancelToken","token","queryParams","params","get","id","data","sendData","makeSendData","post","containsFile","getFormData","usePost","put","patch","delete","isCancel","serialize","booleansAsIntegers","Object","values","filter","File","length","categoryHttp","contrastText","secondary","dark","background","default","red","green","createMuiTheme","overrides","MUIDataTable","paper","boxShadow","MUIDataTableToolbar","root","minHeight","icon","iconActive","MUIDataTableHeadCell","fixedHeader","paddingBlock","sortActive","sortAction","alignItems","sortLabelRoot","MUIDataTableSelectCell","headerCell","MUIDataTableBodyCell","MUIDataTableToolbarSelect","iconButton","MUIDataTableBodyRow","MUIDataTablePagination","MuiChip","marginBottom","localTheme","BadgeYes","Chip","label","BadgeNo","DebouncedTableSearch","handleTextChange","event","value","target","setState","text","debouncedOnSearch","onSearch","onKeyDown","keyCode","onHide","searchText","undefined","state","debounce","bind","debounceTime","prevProps","prevState","snapshot","e","document","addEventListener","removeEventListener","Grow","appear","in","timeout","el","rootRef","searchIcon","TextField","autoFocus","InputProps","textLabels","toolbar","search","inputProps","onChange","fullWidth","inputRef","searchField","placeholder","searchPlaceholder","clearIcon","React","PureComponent","withStyles","display","flex","marginTop","marginRight","name","Table","debouncedSearchTime","columns","cloneDeep","useTheme","isSmOrDown","useMediaQuery","breakpoints","down","defaultOptions","print","download","body","noMatch","toolTip","pagination","next","previous","rowsPerPage","displayRows","downloadCsv","viewColumns","filterTable","all","reset","titleAria","selectedRows","deleteAria","customSearchRender","handleSearch","hideSearch","merge","forEach","column","width","setColumnsWith","map","omit","loading","applyLoading","responsive","originalProps","makeActionStyles","copyTheme","selector","passingBottom","FilterResetButton","Tooltip","handleClick","setLocale","mixed","required","notType","string","max","number","min","array","createActions","setSearch","setPage","setPerPage","setOrder","setReset","updateExtraFilter","Types","Creators","INITIAL_STATE","page","per_page","order","sort","dir","reducer","createReducer","SET_SEARCH","payload","SET_PAGE","SET_PER_PAGE","SET_ORDER","SET_RESET","UPDATE_EXTRA_FILTER","extraFilter","useFilter","history","useHistory","location","useLocation","locationSearch","locationPathname","pathname","locationState","rowsPerPageOptions","schema","useMemo","yup","shape","transform","isNaN","parseInt","includes","nullable","toLowerCase","createValidationSchema","stateFromURL","URLSearchParams","substr","cast","getStateFromURL","cleanSearchText","useCallback","newText","formatSearchParams","useReducer","filterState","dispatch","filterManager","FilterManager","useDebounce","debouncedFilterState","useState","totalRecords","setTotalRecords","useEffect","replace","newLocation","oldState","nextState","isEqual","push","applyOrderInColumns","tableRef","current","changePage","changeRowsPerPage","perPage","changedColumn","direction","resetTablePagination","update","sortDirection","useDeleteCollection","openDeleteDialog","setOpenDeleteDialog","rowsToDelete","setRowsToDelete","DeleteDialog","open","handleClose","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","LoadingContext","createContext","columnsDefinition","filterOptions","names","customBodyRender","tableMeta","updateValue","format","parseISO","Link","to","rowData","enqueueSnackbar","useSnackbar","subscribed","setData","getData","a","is_active","list","meta","total","console","isCancelledRequest","confirmed","ids","index","join","deleteCollection","then","response","catch","serverSide","count","onFilterChange","filterList","columnIndex","findIndex","c","changeExtraFilter","customToolbar","resetFilter","onSearchChange","changeSearch","onChangePage","onChangeRowsPerPage","onColumnSortChange","changeColumnSort","onRowsDelete","rowsDeleted","PageList","paddingBottom","Fab","size","submit","margin","spacing","SubmitActions","buttonProps","disabled","disabledButtons","handleSave","type","gridItem","padding","DefaultForm","GridContainerProps","GridItemProps","other","Grid","container","item","useSnackbarFormError","submitCount","errors","hasError","keys","Form","resolver","validationSchema","validate","abortEarly","inner","reduce","allErrors","currentError","path","message","useYupValidationResolver","useForm","defaultValues","register","handleSubmit","getValues","setValue","trigger","watch","formState","useParams","category","setCategory","onSubmit","formData","setTimeout","log","isSubscribed","xs","md","helperText","InputLabelProps","shrink","multiline","rows","FormControlLabel","control","Checkbox","checked","labelPlacement","isValid","PageForm","genreHttp","filterType","setCategories","categories","split","debouncedState","indexColumnCategories","columnCategories","categoriesFilterValue","serverSideFilterList","categories_id","genre","setGenre","promises","Promise","categoriesResponse","genreResponse","select","SelectProps","multiple","MenuItem","defaultChecked","castMemberHttp","CastMemberTypeMap","1","2","VideoFileFieldsMap","castMemberNames","indexColumnType","columnType","typeFilterValue","invert","castMember","setCastMember","FormControl","FormLabel","RadioGroup","Radio","FormHelperText","videoHttp","height","borderRadius","justifyContent","backgroundColors","Rating","rating","ratings","RatingField","FormControlProps","row","InputFile","forwardRef","fileRef","useRef","filename","setFilename","textFieldProps","TextFieldProps","readOnly","endAdornment","InputAdornment","position","ButtonFile","inputFileProps","InputFileProps","hidden","files","Array","from","file","useImperativeHandle","openWindow","click","clear","UploadField","accept","endIcon","AsyncAutocomplete","AutocompleteProps","fetchOptions","freeSolo","onOpen","onInputChange","setOpen","setSearchText","debouncedSearchText","setLoading","setOptions","autocompleteProps","loadingText","noOptionsText","inputValue","renderInput","CircularProgress","Autocomplete","createStyles","GridSelected","wrap","GridSelectedItem","onDelete","useCollectionManager","collection","setCollection","snackbar","addItem","find","i","unshift","removeItem","splice","useHttpHandled","request","getGenresFromCategory","genres","cat","genresSubtitle","grey","CategoryField","autocompleteHttp","autocompleteRef","clearOnEscape","getOptionSelected","option","getOptionLabel","genresFromCategory","noWrap","GenreField","setGenres","removeCategory","CastMemberField","castMembers","setCastMembers","addUpload","removeUpload","updateProgress","setUploadError","uploads","ADD_UPLOAD","findIndexUpload","video","progress","$splice","fileField","REMOVE_UPLOAD","upload","UPDATE_PROGRESS","videoId","findIndexUploadAndFile","indexUpload","indexFile","$apply","$set","calculateGlobalProgress","SET_UPLOAD_ERROR","findIndexFile","countFiles","sum","isFinished","obj","isUploadType","some","successIcon","errorIcon","deleteIcon","UploadAction","hover","useDispatch","show","setShow","debouncedShow","Fade","enter","ListItemSecondaryAction","edge","progressContainer","progressBackground","left","UploadProgress","uploadOrFile","exit","listItem","movieIcon","minWidth","listItemText","marginLeft","UploadItem","itemHover","setItemHover","disableFocusListener","disableTouchListener","placement","ListItem","button","onMouseOver","onMouseLeave","ListItemIcon","ListItemText","Divider","card","cardActionRoot","fontWeight","icons","expand","transition","transitions","duration","shortest","expandOpen","SnackbarUpload","expanded","setExpanded","useSelector","totalInProgress","countInProgress","Card","CardActions","classnames","Collapse","List","cardUpload","cardOpened","cardContentOpened","fileFields","description","year_launched","test","ctx","every","v","parent","cast_members","opened","setVideo","isGreaterMd","up","castMemberRef","genreRef","categoryRef","uploadsRef","zipObject","resetForm","field","cast_member","uploadFiles","persist","content","shouldValidate","CardContent","Dashboard","divider","activeActions","orientation","gridTitle","justify","panelSummary","expandedIcon","routes","exact","CategoryList","CategoryForm","GenreList","GenreForm","CastMemberList","CastMemberForm","VideoList","VideoForm","elevation","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","dense","Fragment","breadcrumbNameMap","route","linkRouter","LinkRouter","RouterLink","Breadcrumbs","pathnames","x","aria-label","last","slice","RouteParser","match","makeBreadcrumb","listRoutes","menuRoutes","Menu","anchorEl","setAnchorEl","Boolean","aria-controls","aria-haspopup","currentTarget","transformOrigin","getContentAnchorEl","routeName","flexGrow","textAlign","logo","Navbar","AppBar","Toolbar","src","alt","AppRouter","makeLocalTheme","Spinner","useContext","LinearProgress","zIndex","LoadingProvider","countRequest","setCountRequest","decrementCountRequest","prevCountRequest","requestIds","onFulfilled","onRejected","interceptors","use","addGlobalRequestInterceptor","headers","hasOwnProperty","responseIds","addGlobalResponseInterceptor","reject","eject","removeGlobalResponseInterceptor","Provider","App","CssBaseline","basename","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","uploadWatcherSaga","uploadFile","actionChannel","newFilesChannel","take","fileInfo","call","f","sendUpload","channel","eventChannel","emitter","partialUpdate","_method","onUploadProgress","progressEvent","lengthComputable","loaded","finally","END","rootSaga","sagaMiddleware","createSagaMiddleware","store","createStore","combineReducers","applyMiddleware","run","ReactDOM","render","StrictMode","getElementById"],"mappings":"8RAKMA,EAAYC,aAAW,SAACC,GAC1B,MAAO,CACHC,eAAgB,CACZC,gBAAiBF,EAAMG,QAAQC,QAAQC,MAE3CC,aAAc,CACVJ,gBAAiBF,EAAMG,QAAQI,MAAMF,MAEzCG,YAAa,CACTN,gBAAiBF,EAAMG,QAAQM,QAAQJ,UAItCK,EAAoD,SAACC,GAC9D,IAAIC,EAEEC,EAAsC,CACxCC,QAFYhB,IAGZiB,iBAAkB,IAClBC,SAAU,EACVC,aAAc,CACVC,WAAY,QACZC,SAAU,OAEdC,SAAS,GACTC,kBAAkB,EAClBC,IAAK,SAACC,GAAD,OAAQX,EAAsBW,GACnCC,OAAQ,SAACC,GAAD,OACJ,cAACC,EAAA,EAAD,CACIC,MAAO,UACPC,MAAO,CAACC,SAAU,IAClBC,QAAS,kBAAMlB,EAAoBmB,cAAcN,IAHrD,SAKI,cAAC,IAAD,QAKNO,EAAQ,2BAAOnB,GAAiBF,GACtC,OACI,cAAC,IAAD,2BAAuBqB,GAAvB,aACKrB,EAAMS,a,yEC3CbtB,EAAYC,YAAW,CACzBkC,MAAO,CACHN,MAAO,aAMFO,EAA2B,SAACvB,GACrC,IAAMG,EAAUhB,IAChB,OACI,8BACI,eAACqC,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAYC,UAAWvB,EAAQmB,MAAOK,UAAU,KAAKC,QAAQ,KAA7D,SACK5B,EAAMsB,QAEX,cAACO,EAAA,EAAD,CAAKC,WAAY,EAAjB,SACK9B,EAAMS,iB,yHClBdsB,EAAYC,IAAMC,OAAO,CAClCC,QAASC,8BAGPC,EAAY,CAACL,G,6BCFEM,E,WAIjB,WAAsBC,EAA+BC,GAAU,yBAAzCD,OAAwC,KAATC,WAAS,KAFtDC,WAAuC,K,iDAMjCC,GACPC,KAAKF,YACJE,KAAKF,WAAWG,OAAO,0BAE3BD,KAAKF,WAAaR,IAAMY,YAAYC,SAEpC,IAAMC,EAA4B,CAC9BC,YAAaL,KAAKF,WAAWQ,OAKjC,OAHGP,GAAWA,EAAQQ,cAClBH,EAAOI,OAAST,EAAQQ,aAErBP,KAAKJ,KAAKa,IAAOT,KAAKH,SAAUO,K,0BAG9BM,GACT,OAAOV,KAAKJ,KAAKa,IAAV,UAAoBT,KAAKH,SAAzB,YAAqCa,M,6BAGhCC,GACZ,IAAIC,EAAWZ,KAAKa,aAAaF,GACjC,OAAOX,KAAKJ,KAAKkB,KAAQd,KAAKH,SAAUe,K,6BAG5BF,EAAIC,EAAMZ,GACtB,IAAIa,EAAWD,EACZX,KAAKe,aAAaJ,KACjBC,EAAWZ,KAAKgB,YAAYL,IAHoF,MAK5FZ,GAAW,GAA5BH,EAL6G,EAK7GA,KAAMQ,EALuG,EAKvGA,OACb,OAAQL,GAAYH,GAASA,EAAKqB,QAE5BjB,KAAKJ,KAAKkB,KAAV,UAAqBd,KAAKH,SAA1B,YAAsCa,GAAME,EAAUR,GADtDJ,KAAKJ,KAAKsB,IAAV,UAAoBlB,KAAKH,SAAzB,YAAqCa,GAAME,EAAUR,K,oCAIxCM,EAAIC,EAAMZ,GAC7B,IAAIa,EAAWD,EACZX,KAAKe,aAAaJ,KACjBC,EAAWZ,KAAKgB,YAAYL,IAH2F,MAKnGZ,GAAW,GAA5BH,EALoH,EAKpHA,KAAMQ,EAL8G,EAK9GA,OACb,OAAQL,GAAYH,GAASA,EAAKqB,QAE5BjB,KAAKJ,KAAKkB,KAAV,UAAqBd,KAAKH,SAA1B,YAAsCa,GAAME,EAAUR,GADtDJ,KAAKJ,KAAKuB,MAAV,UAAsBnB,KAAKH,SAA3B,YAAuCa,GAAME,EAAUR,K,6BAIjDM,GACZ,OAAOV,KAAKJ,KAAKwB,OAAV,UAAuBpB,KAAKH,SAA5B,YAAwCa,M,uCAGzBH,GACtB,IAAMH,EAA4B,GAIlC,OAHGG,IACCH,EAAM,OAAaG,GAEhBP,KAAKJ,KAAKwB,OAAV,UAAuBpB,KAAKH,UAAYO,K,yCAGhClD,GACf,OAAOoC,IAAM+B,SAASnE,K,mCAGLyD,GACjB,OAAOX,KAAKe,aAAaJ,GAAQX,KAAKgB,YAAYL,GAAQA,I,kCAG1CA,GAChB,OAAOW,oBAAUX,EAAM,CAACY,oBAAoB,M,mCAG3BZ,GACjB,OAAuE,IAAhEa,OAAOC,OAAOd,GAAMe,QAAO,SAAAxD,GAAE,OAAIA,aAAcyD,QAAMC,W,KC9ErDC,EAFM,IAAIlC,EAAaN,EAAW,c,oCCC3CvC,EAA0B,CAC5BM,QAAS,CACLJ,KAAM,UACN8E,aAAa,WAEjBC,UAAW,CACP/E,KAAM,UACN8E,aAAa,UACbE,KAAM,WAEVC,WAAY,CACRC,QAAS,WAEbhF,MAAO,CACHF,KAAMmF,IAAI,MAEdpF,QAAS,CACLC,KAAMoF,IAAM,KACZN,aAAc,SAgGPnF,GA5FD0F,YAAe,CACzBvF,UACAwF,UAAW,CACPC,aAAc,CACVC,MAAO,CACHC,UAAW,SAGnBC,oBAAqB,CACjBC,KAAM,CACFC,UAAW,OACX/F,gBAAiBC,EAASmF,WAAYC,SAE1CW,KAAM,CACFvE,MAAQxB,EAASM,QAAsCJ,KACvD,6BAA8B,CAC1BsB,MAAQxB,EAASiF,UAAwCC,OAGjEc,WAAY,CACRxE,MAAQxB,EAASiF,UAAwCC,KACzD,6BAA8B,CAC1B1D,MAAQxB,EAASiF,UAAwCC,QAIrEe,qBAAsB,CAClBC,YAAa,CACT5D,WAAY,EACZ6D,aAAc,EACdpG,gBAAkBC,EAASM,QAAsCJ,KACjEsB,MAAO,UACP,eAAe,CACXzB,gBAAiB,YAGzBqG,WAAY,CACR5E,MAAO,WAEX6E,WAAY,CACRC,WAAY,UAEhBC,cAAe,CACX,QAAS,CACL/E,MAAO,wBAInBgF,uBAAwB,CACpBC,WAAY,CACR1G,gBAAkBC,EAASM,QAAsCJ,KACjE,SAAU,CACNsB,MAAO,wBAInBkF,qBAAsB,CAClBb,KAAM,CACFrE,MAAQxB,EAASiF,UAAwC/E,KACzD,6BAA8B,CAC1BsB,MAAQxB,EAASiF,UAAwC/E,QAIrEyG,0BAA2B,CACvB7E,MAAO,CACHN,MAAQxB,EAASM,QAAsCJ,MAE3D0G,WAAY,CACRpF,MAAQxB,EAASM,QAAsCJ,OAG/D2G,oBAAqB,CACjBhB,KAAM,CACF,mBAAoB,CAChB9F,gBAAiBC,EAASmF,WAAYC,WAIlD0B,uBAAwB,CACpBjB,KAAM,CACFrE,MAAQxB,EAASiF,UAAwC/E,OAGjE6G,QAAS,CACLlB,KAAM,CACFmB,aAAc,uBC5GxBC,GAAa1B,YAAe,CAC9BvF,QAAS,CACLM,QAAST,GAAMG,QAAQC,QACvBgF,UAAWpF,GAAMG,QAAQI,SAIpB8G,GAAW,WACpB,OACI,cAAC,IAAD,CAAkBrH,MAAOoH,GAAzB,SACI,cAACE,EAAA,EAAD,CAAMC,MAAM,MAAM5F,MAAM,eAKvB6F,GAAU,WACnB,OACI,cAAC,IAAD,CAAkBxH,MAAOoH,GAAzB,SACI,cAACE,EAAA,EAAD,CAAMC,MAAM,SAAM5F,MAAM,iB,oJCQ9B8F,G,oDAEF,WAAY9G,GAAO,IAAD,uBACd,cAAMA,IAYV+G,iBAAmB,SAAAC,GACf,IAAMC,EAAQD,EAAME,OAAOD,MAC3B,EAAKE,SAAS,CACVC,KAAMH,IACP,kBAAM,EAAKI,kBAAkBJ,OAjBlB,EAoBlBI,kBAAoB,SAAAJ,GAChB,EAAKjH,MAAMsH,SAASL,IArBN,EAkDlBM,UAAY,SAAAP,GACc,KAAlBA,EAAMQ,SACV,EAAKxH,MAAMyH,UApDG,IAENC,EAAe,EAAK1H,MAApB0H,WACJT,EAAQS,EAHE,OAIXA,QAAmCC,IAArBD,EAAWT,QACxBA,EAAQS,EAAWT,OAEvB,EAAKW,MAAQ,CACTR,KAAMH,GAEV,EAAKI,kBAAoBQ,oBAAS,EAAKR,kBAAkBS,KAAvB,iBAAmC,EAAK9H,MAAM+H,cAVlE,E,+DAwBCC,EAAWC,EAAWC,GAAU,IAAD,OACtCR,EAAehF,KAAK1C,MAApB0H,WACR,GAAGA,QAAmCC,IAArBD,EAAWT,OAAuBe,EAAUN,aAAehF,KAAK1C,MAAM0H,WAAW,CAC9F,IAAMT,EAAQS,EAAWT,MACzB,GAAGA,EACCvE,KAAKyE,SAAS,CACVC,KAAMH,IACP,kBAAM,EAAKjH,MAAMsH,SAASL,WAE7B,IACIvE,KAAK1C,MAAMyH,SACd,MAAMU,Q,0CAQfC,SAASC,iBAAiB,UAAW3F,KAAK6E,WAAW,K,6CAIrDa,SAASE,oBAAoB,UAAW5F,KAAK6E,WAAW,K,+BASlD,IAAD,SAC4C7E,KAAK1C,MAA9CG,EADH,EACGA,QAASsC,EADZ,EACYA,QAASgF,EADrB,EACqBA,OAAQC,EAD7B,EAC6BA,WAC9BT,EAAQvE,KAAKkF,MAAMR,KAIvB,OAHGM,QAAmCC,IAArBD,EAAWT,QACxBA,EAAQS,EAAWT,OAGvB,cAACsB,GAAA,EAAD,CAAMC,QAAM,EAACC,IAAI,EAAMC,QAAS,IAAhC,SACI,sBAAKhH,UAAWvB,EAAQT,KAAMiB,IAAK,SAAAgI,GAAE,OAAK,EAAKC,QAAUD,GAAzD,UACI,cAAC,KAAD,CAAYjH,UAAWvB,EAAQ0I,aAC/B,cAACC,GAAA,EAAD,CACIpH,UAAWvB,EAAQuH,WACnBqB,WAAW,EACXC,WAAY,CACZ,eAAgBvG,EAAQwG,WAAWC,QAAQC,QAE3CC,WAAY,CACZ,aAAc3G,EAAQwG,WAAWC,QAAQC,QAEzClC,MAAOA,GAAS,GAChBoC,SAAU3G,KAAKqE,iBACfuC,WAAW,EACXC,SAAU,SAAAZ,GAAE,OAAK,EAAKa,YAAcb,GACpCc,YAAahH,EAAQiH,oBAEzB,cAAC3I,EAAA,EAAD,CAAYW,UAAWvB,EAAQwJ,UAAWxI,QAASsG,EAAnD,SACI,cAAC,KAAD,e,GApFemC,IAAMC,eA4F1BC,iBAjHa,SAAAzK,GAAK,MAAK,CACpCK,KAAM,CACJqK,QAAS,OACTC,KAAM,YAERnB,WAAY,CACV7H,MAAO3B,EAAMG,QAAQ4H,KAAK3C,UAC1BwF,UAAW,OACXC,YAAa,OAEfxC,WAAY,CACVsC,KAAM,SAERL,UAAW,CACT,UAAW,CACT3I,MAAO3B,EAAMG,QAAQI,MAAMF,UAkGc,CAAEyK,KAAM,sBAAxCL,CAAgEhD,ICWhEsD,GAvDDR,cAAuD,SAAC5J,EAAOW,GAiCzE,IAzGwB0J,EAyEYC,EAgC9BjL,EAAQkL,qBAAiBC,gBACzBC,EAAaC,aAAcrL,EAAMsL,YAAYC,KAAK,OAElDC,GA5GkBR,EA4GkBrK,EAAMqK,oBA5GuB,CACvES,OAAO,EACPC,UAAU,EACV9B,WAAY,CACR+B,KAAM,CACFC,QAAS,6BACTC,QAAS,eAEbC,WAAY,CACRC,KAAM,uBACNC,SAAU,qBACVC,YAAa,iBACbC,YAAa,MAEjBrC,QAAS,CACLC,OAAQ,QACRqC,YAAa,eACbV,MAAO,WACPW,YAAa,cACbC,YAAa,mBAEjBtH,OAAQ,CACJuH,IAAK,QACLrK,MAAO,UACPsK,MAAO,UAEXH,YAAa,CACTnK,MAAO,cACPuK,UAAW,kCAEfC,aAAc,CACV1E,KAAM,2BACNtD,OAAQ,UACRiI,WAAY,mCAGpBC,mBAAoB,SAACtE,EACjBuE,EACAC,EACAzJ,GAEA,OAAO,cAAC,GAAD,CACHiF,WAAYA,EACZJ,SAAU2E,EACVxE,OAAQyE,EACRzJ,QAASA,EACTsF,aAAcsC,OA+DhBhJ,EAAW8K,iBACb,CAAC1J,QAAS8H,qBAAUM,IACpB7K,EACA,CAACsK,SAvC+BA,EAuCKtK,EAAMsK,QAlC/C,SAAwBA,GACpBA,EAAQ8B,SAAQ,SAACC,EAAQvL,GAClBuL,EAAOC,QACYjN,EAAM2F,UACdS,qBAAqBC,YAA/B,sBAA0D5E,EAAM,EAAhE,MAAwE,CACpEwL,MAAOD,EAAOC,WAT1BC,CAAejC,GACRA,EAAQkC,KAAI,SAAAH,GAAM,OAAII,gBAAKJ,EAAQ,gBAc9C,WACI,IAAMpD,EAAc5H,EAASoB,QAAgBwG,WAC7CA,EAAW+B,KAAKC,SAA+B,IAArB5J,EAASqL,QAAmB,gBAAkBzD,EAAW+B,KAAKC,QAwB5F0B,GApBItL,EAASoB,QAAQmK,WAAanC,EAAa,WAAa,WAuB5D,IAAMoC,EAnBK,2BACAJ,gBAAKpL,EAAU,YADtB,IAEIV,QAmBR,OACI,cAAC,IAAD,CAAkBtB,MAAOA,EAAzB,SACI,cAAC,KAAD,eAAkBwN,SAOvB,SAASC,GAAiBT,GAC7B,OAAO,SAAAhN,GACH,IAAM0N,EAAYxC,qBAAUlL,GACtB2N,EAAQ,+CAA2CX,EAA3C,MAKd,OAJCU,EAAU/H,UAAkBkB,qBAAqBb,KAAK2H,GAAY,CAC/DlL,WAAY,MACZmL,cAAe,OAEZF,G,uDCzIT5N,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnC+G,WAAa/G,EAAc2F,UAAUI,oBAAoBG,SAOhD2H,GAAsD,SAAClN,GAChE,IAAMG,EAAUhB,KAEhB,OACI,cAACgO,GAAA,EAAD,CAAS7L,MAAQ,eAAjB,SACI,cAACP,EAAA,EAAD,CAAYW,UAAWvB,EAAQiG,WAAYjF,QAASnB,EAAMoN,YAA1D,SACI,cAAC,KAAD,S,UCDhBC,aAhBa,CACTC,MAAO,CACHC,SAAU,yBACVC,QAAS,4BAEbC,OAAQ,CACJC,IAAK,sDAETC,OAAQ,CACJC,IAAK,2CAETC,MAAO,CACHD,IAAK,yD,oBCZoBE,yBAehC,CACGC,UAAW,CAAC,WACZC,QAAS,CAAC,WACVC,WAAY,CAAC,WACbC,SAAU,CAAC,WACXC,SAAU,CAAC,WACXC,kBAAmB,CAAC,aArBVC,G,GAAAA,MAAOC,G,GAAAA,SAwBRC,GAA+B,CACxCpF,OAAQ,KACRgC,WAAY,CACRqD,KAAM,EACNC,SAAU,IAEdC,MAAO,CACHC,KAAM,KACNC,IAAK,OAaEC,GATCC,yBAA8CP,IAAjC,qBACxBF,GAAMU,YAUX,WAA0F,IAAvEnH,EAAsE,uDAA9D2G,GAAe1N,EAA+C,uCACrF,OAAO,2BACA+G,GADP,IAEIuB,OAAQtI,EAAOmO,QAAQ7F,OACvBgC,WAAW,2BACJvD,EAAMuD,YADH,IAENqD,KAAM,SAjBW,eAExBH,GAAMY,UAoBX,WAAsF,IAArErH,EAAoE,uDAA5D2G,GAAe1N,EAA6C,uCAClF,OAAO,2BACC+G,GADR,IAEKuD,WAAW,2BACJvD,EAAMuD,YADH,IAENqD,KAAM3N,EAAOmO,QAAQR,YA3BJ,eAGxBH,GAAMa,cA6BX,WAA4F,IAAxEtH,EAAuE,uDAA/D2G,GAAe1N,EAAgD,uCACvF,OAAO,2BACC+G,GADR,IAEKuD,WAAW,2BACJvD,EAAMuD,YADH,IAENsD,SAAU5N,EAAOmO,QAAQP,gBArCT,eAIxBJ,GAAMc,WAsCV,WAAwF,IAAtEvH,EAAqE,uDAA7D2G,GAAe1N,EAA8C,uCACpF,OAAO,2BACA+G,GADP,IAEIuD,WAAW,2BACJvD,EAAMuD,YADH,IAENqD,KAAM,IAEVE,MAAO,CACHC,KAAM9N,EAAOmO,QAAQL,KACrBC,IAAK/N,EAAOmO,QAAQJ,UAnDH,eAKxBP,GAAMe,WAmDV,WAAyE,IAAhCvO,EAA+B,uCACrE,OAAOA,EAAOmO,QAAQpH,SAzDG,eAMxByG,GAAMgB,qBAsDV,WAA2F,IAAhEzH,EAA+D,uDAAvD2G,GAAe1N,EAAwC,uCACtF,OAAO,2BACA+G,GADP,IAEI0H,YAAY,2BACL1H,EAAM0H,aACNzO,EAAOmO,cAjEM,K,eCJd,SAASO,GAAU9M,GAC9B,IAAM+M,EAAUC,cACVC,EAAWC,cACFC,EAAoEF,EAA5EvG,OAAkC0G,EAA0CH,EAApDI,SAAmCC,EAAiBL,EAAxB9H,MACpDoI,EAAyDvN,EAAzDuN,mBAAoB1E,EAAqC7I,EAArC6I,YAAahB,EAAwB7H,EAAxB6H,QAASgF,EAAe7M,EAAf6M,YAC3CW,EAASC,mBAAQ,WACnB,OAAOC,OAAaC,MAAb,aACHjH,OAAQgH,OACHE,WAAU,SAAApJ,GAAK,OAAKA,QAAQU,KAC5B/C,QAAQ,IACbuG,WAAYgF,OAAaC,MAAM,CAC3B5B,KAAM2B,OACDE,WAAU,SAAApJ,GAAK,OAAIqJ,MAAMrJ,IAAUsJ,SAAStJ,GAAS,OAAIU,EAAYV,KACrErC,QAAQ,GACb6J,SAAU0B,OACLE,WAAU,SAAApJ,GAAK,OAAIqJ,MAAMrJ,KAAW+I,EAAmBQ,SAASD,SAAStJ,SAAUU,EAAYV,KAC/FrC,QAAQ0G,KAEjBoD,MAAOyB,OAAaC,MAAM,CACtBzB,KAAMwB,OACDM,WACAJ,WAAU,SAAApJ,GAIP,OAHoBqD,EACflG,QAAO,SAAAiI,GAAM,OAAKA,EAAO5J,UAAmC,IAAxB4J,EAAO5J,QAAQkM,QACnDnC,KAAI,SAAAH,GAAM,OAAIA,EAAOlC,QACPqG,SAASvJ,GAASA,OAAQU,KAEhD/C,QAAQ,MACbgK,IAAKuB,OACAM,WACAJ,WAAU,SAAApJ,GAAK,OAAKA,GAAU,CAAC,MAAO,QAAQuJ,SAASvJ,EAAMyJ,eAA6BzJ,OAAZU,KAC9E/C,QAAQ,SAGb0K,GAAe,CACXA,YAAaA,EAAYqB,8BAItC,CAACX,EAAoB1E,EAAahB,EAASgF,IAExCsB,EAAeV,mBAAqB,WACtC,IAAMjN,EAAc,IAAI4N,gBAAgBjB,EAAekB,OAAO,IAC9D,OAAOb,EAAOc,KAAP,aACH5H,OAAQlG,EAAYE,IAAI,UACxBgI,WAAY,CACRqD,KAAMvL,EAAYE,IAAI,QACtBsL,SAAUxL,EAAYE,IAAI,aAE9BuL,MAAO,CACHC,KAAM1L,EAAYE,IAAI,QACtByL,IAAK3L,EAAYE,IAAI,SAGrBmM,GAAe,CACXA,YAAaA,EAAY0B,gBAAgB/N,QAItD,CAAC2M,EAAgBK,EAAQX,IAEtB2B,EAAkBC,uBAAY,SAAC9J,GACjC,IAAI+J,EAAU/J,EAId,OAHGA,QAAuBO,IAAfP,EAAKH,QACZkK,EAAU/J,EAAKH,OAEZkK,IACR,IAEGC,EAAqBF,uBAAY,SAACtJ,EAAO0H,GAC3C,IAAMnG,EAAS8H,EAAgBrJ,EAAMuB,QACrC,OAAO,+DACCA,GAAqB,KAAXA,GAAiB,CAACA,OAAQA,IACV,IAA1BvB,EAAMuD,WAAWqD,MAAc,CAACA,KAAM5G,EAAMuD,WAAWqD,OACzB,KAA9B5G,EAAMuD,WAAWsD,UAAmB,CAACA,SAAU7G,EAAMuD,WAAWsD,WAEhE7G,EAAM8G,MAAMC,MAAQ,CAChBA,KAAM/G,EAAM8G,MAAMC,KAClBC,IAAKhH,EAAM8G,MAAME,MAIrBU,GAAeA,EAAY8B,mBAAmBxJ,MAGxD,CAACqJ,IAEG1C,EAAgBqC,EAvFkC,EAwFxBS,qBAAgDxC,GAASN,GAxFjC,mBAwFjD+C,EAxFiD,KAwFpCC,EAxFoC,KAyFlDC,EAAgB,IAAIC,GAAJ,2BAAsBhP,GAAtB,IAA+BmF,MAAO0J,EAAaC,WAAUtB,YAzF3B,EA0FzByB,aAAYJ,EAAa7O,EAAQsF,cAAzD4J,EA1FiD,sBA2FhBC,mBAAiB,GA3FD,mBA2FjDC,EA3FiD,KA2FnCC,EA3FmC,KAwHxD,OA3BAC,qBAAU,WACNvC,EAAQwC,QAAQ,CACZlC,SAAUD,EACV1G,OAAQ,IAAM,IAAI0H,gBAAgBO,EAAmBR,EAActB,IACnE1H,MAAOgJ,MAEZ,CAACpB,EAASK,EAAkBuB,EAAoBR,EAActB,IAEjEyC,qBAAU,WACN,IAAME,EAAc,CAChBnC,SAAUD,EACV1G,OAAQ,IAAM,IAAI0H,gBAAgBO,EAAmBO,EAAsBrC,IAC3E1H,MAAM,2BACC+J,GADF,IAEDxI,OAAQ8H,EAAgBU,EAAqBxI,WAG/C+I,EAAWnC,EACXoC,EAAYR,EACfS,mBAAQF,EAAUC,IAGrB3C,EAAQ6C,KAAKJ,KACd,CAACzC,EAASK,EAAkBE,EAAeqB,EAAoBH,EAAiBU,EAAsBrC,IAEzGkC,EAAcc,sBAEP,CACHhI,QAASkH,EAAclH,QACvB2G,kBACAO,gBACAF,cACAK,uBACAJ,WACAM,eACAC,mBAID,IAAML,GAAb,WAQI,WAAYhP,GAA+B,yBAP3CwN,YAO0C,OAN1CrI,WAM0C,OAL1C2J,cAK0C,OAJ1CjH,aAI0C,OAH1CgB,iBAG0C,OAF1CiH,cAE0C,MAC/BtC,EAA2DxN,EAA3DwN,OAAQ3F,EAAmD7H,EAAnD6H,QAASgB,EAA0C7I,EAA1C6I,YAAaiH,EAA6B9P,EAA7B8P,SAAUhB,EAAmB9O,EAAnB8O,SAAU3J,EAASnF,EAATmF,MACzDlF,KAAKuN,OAASA,EACdvN,KAAK4H,QAAUA,EACf5H,KAAK4I,YAAcA,EACnB5I,KAAK6P,SAAWA,EAChB7P,KAAK6O,SAAWA,EAChB7O,KAAKkF,MAAQA,EAfrB,mEAmBQlF,KAAK6P,SAASC,QAAQC,WAAW,GACjC/P,KAAK6P,SAASC,QAAQE,kBAAkBhQ,KAAK4I,eApBrD,mCAuBiBrE,GACTvE,KAAK6O,SAASjD,GAASP,UAAU,CAAC5E,OAAQlC,OAxBlD,iCA2BeuH,GACP9L,KAAK6O,SAASjD,GAASN,QAAQ,CAACQ,KAAMA,EAAO,OA5BrD,wCA+BsBmE,GACdjQ,KAAK6O,SAASjD,GAASL,WAAW,CAACQ,SAAUkE,OAhCrD,uCAmCqBC,EAAuBC,GACpCnQ,KAAK6O,SAASjD,GAASJ,SAAS,CAC5BS,KAAMiE,EACNhE,IAAKiE,EAAUrC,SAAS,QAAU,OAAS,SAE/C9N,KAAKoQ,yBAxCb,wCA2CsBzP,GACdX,KAAK6O,SAASjD,GAASF,kBAAkB/K,MA5CjD,oCAgDQ,IAAMkL,EAAa,2BACZ7L,KAAKuN,OAAOc,KAAK,KADL,IAEf5H,OAAQ,CAAClC,MAAO,KAAM8L,QAAQ,KAElCrQ,KAAK6O,SAASjD,GAASH,SAAS,CAC5BvG,MAAO2G,KAEX7L,KAAKoQ,yBAvDb,4CA0D0B,IAAD,OACjBpQ,KAAK4H,QAAU5H,KAAK4H,QAAQkC,KAAI,SAAAH,GAC5B,OAAOA,EAAOlC,OAAS,EAAKvC,MAAM8G,MAAMC,KAAjC,2BAEAtC,GAFA,IAGH5J,QAAQ,2BACD4J,EAAO5J,SADP,IAEHuQ,cAAe,EAAKpL,MAAM8G,MAAME,QAEpCvC,SAnEhB,KCtJe4G,GAfa,WAAO,IAAD,EACkBrB,oBAAS,GAD3B,mBACvBsB,EADuB,KACLC,EADK,OAEUvB,mBAA+C,CAAEvO,KAAM,KAFjE,mBAEvB+P,EAFuB,KAETC,EAFS,KAU9B,OANAtB,qBAAU,WACFqB,EAAa/P,KAAKiB,QACtB6O,GAAoB,KAErB,CAACC,IAEG,CACHF,mBAAkBC,sBAAqBC,eAAcC,oB,iECkB9CC,GAvBmC,SAACtT,GAAW,IAClDuT,EAAsBvT,EAAtBuT,KAAMC,EAAgBxT,EAAhBwT,YAEd,OACI,eAACC,GAAA,EAAD,CAAQF,KAAMA,EAAMG,QAAS,kBAAMF,GAAY,IAA/C,UACI,cAACG,GAAA,EAAD,uCACA,cAACC,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,6DAIJ,eAACC,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CAAQ5S,QAAS,kBAAMqS,GAAY,IAAQxS,MAAO,UAAlD,sBAGA,cAAC+S,GAAA,EAAD,CAAQ5S,QAAS,kBAAMqS,GAAY,IAAOxS,MAAO,UAAW+H,WAAS,EAArE,4BCnBDiL,GAFQC,yBAAc,GCe/BC,GAAmC,CACrC,CACI/J,KAAM,KACNvD,MAAO,KACP0F,MAAO,MACP7J,QAAS,CACLkM,MAAM,EACNvK,QAAQ,IAGhB,CACI+F,KAAM,OACNvD,MAAO,OACP0F,MAAO,MACP7J,QAAS,CACL2B,QAAQ,IAGhB,CACI+F,KAAM,YACNvD,MAAO,SACPnE,QAAS,CACL0R,cAAe,CACXC,MAAO,CAAC,MAAO,WAEnBC,iBAJK,SAIYpN,EAAOqN,EAAWC,GAC/B,OAAOtN,EAAQ,cAAC,GAAD,IAAc,cAAC,GAAD,MAGrCqF,MAAO,MAEX,CACInC,KAAM,aACNvD,MAAO,YACP0F,MAAO,MACP7J,QAAS,CACL2B,QAAQ,EACRiQ,iBAFK,SAEYpN,EAAOqN,EAAWC,GAC/B,OAAO,+BAAOC,IAAOC,IAASxN,GAAQ,mBAIlD,CACIkD,KAAM,UACNvD,MAAO,cACP0F,MAAO,MACP7J,QAAS,CACL2B,QAAQ,EACRuK,MAAM,EACN0F,iBAAkB,SAACpN,EAAOqN,GACtB,OACI,cAACvT,EAAA,EAAD,CACIC,MAAO,YACPW,UAAW+S,IACXC,GAAE,sBAAiBL,EAAUM,QAAQ,GAAnC,SAHN,SAKI,cAAC,KAAD,UAWlB5E,GAAqB,CAAC,GAAI,GAAI,IAkKrB5F,GAhKD,WAAO,IACVyK,EAAmBC,cAAnBD,gBACDE,EAAanL,UAAa,GAFhB,EAGQA,WAA2B,IAHnC,mBAGTvG,EAHS,KAGH2R,EAHG,KAIVtI,EAAU9C,aAAiBoK,IAC3BzB,EAAW3I,WALD,EAMgEqJ,KAAzEC,EANS,EAMTA,iBAAkBC,EANT,EAMSA,oBAAqBC,EAN9B,EAM8BA,aAAcC,EAN5C,EAM4CA,gBAN5C,EAQoG9D,GAAU,CAC1HjF,QAAS4J,GACTnM,aAfa,IAgBbuD,YAdY,GAeZ0E,sBACAuC,aALGjI,EARS,EAQTA,QAASkH,EARA,EAQAA,cAAeP,EARf,EAQeA,gBAAiBK,EARhC,EAQgCA,YAAaK,EAR7C,EAQ6CA,qBAAsBE,EARnE,EAQmEA,aAAcC,EARjF,EAQiFA,gBAO3FpK,EAAauJ,EAAgBK,EAAYnI,QAEzC8L,EAAUrL,cAAA,uCAAkB,2CAAAsL,EAAA,6DAAQ/L,EAAR,EAAQA,OAAQqF,EAAhB,EAAgBA,KAAMC,EAAtB,EAAsBA,SAAUE,EAAhC,EAAgCA,KAAMC,EAAtC,EAAsCA,IAAKuG,EAA3C,EAA2CA,UAA3C,kBAEL5Q,EAAa6Q,KAA6B,CAC3DnS,YAAY,aACRkG,SACAqF,OACAC,WACAE,OACAC,OAEIuG,GAAa,CAACA,UAAWA,MAVX,gBAEnB9R,EAFmB,EAEnBA,KAYJ0R,EAAWvC,UACVwC,EAAQ3R,EAAKA,MACbyO,EAAgBzO,EAAKgS,KAAKC,OACvBpC,GACCC,GAAoB,IAlBF,mDAsB1BoC,QAAQ3V,MAAR,OACG2E,EAAaiR,mBAAb,MAvBuB,mDA0B1BX,EACI,uDACA,CAACjT,QAAS,UA5BY,yDAAlB,sDA+Bd,CAACiT,EAAiB1B,EAAqBD,EAAkBpB,IAsE3D,OApEAlI,aAAgB,WAcZ,OAbAmL,EAAWvC,SAAU,EACrByC,EAAQ,aACJ9L,OAAQzB,EACR8G,KAAM8C,EAAYnG,WAAWqD,KAC7BC,SAAU6C,EAAYnG,WAAWsD,SACjCE,KAAM2C,EAAY5C,MAAMC,KACxBC,IAAK0C,EAAY5C,MAAME,KAEnB+C,EAAqBrC,aACrBqC,EAAqBrC,YAAY6F,WACjC,CAACA,UAAWxD,EAAqBrC,YAAY6F,aAG9C,WACHJ,EAAWvC,SAAU,KAG1B,CACCyC,EACAvN,EACA4J,EAAYnG,WAAWqD,KACvB8C,EAAYnG,WAAWsD,SACvB6C,EAAY5C,MACZiD,EAAqBrC,cA6CrB,eAAC,IAAD,CAAkBjQ,MAAOyN,GAAiBoH,GAAkB5P,OAAS,GAArE,UAEI,cAAC,GAAD,CAAciP,KAAML,EAAkBM,YA5C9C,SAAoBiC,GAChB,GAAIA,EAAJ,CAIA,IAAMC,EAAMtC,EACP/P,KACAmJ,KAAI,SAAAvF,GAAK,OAAI5D,EAAK4D,EAAM0O,OAAOvS,MAC/BwS,KAAK,KACVrR,EACKsR,iBAAiB,CAACH,QAClBI,MAAK,SAAAC,GAIF,GAHAlB,EACI,qCAAmC,CAACjT,QAAS,YAE9CwR,EAAa/P,KAAKiB,SAAWgN,EAAYnG,WAAWsD,UAAY6C,EAAYnG,WAAWqD,KAAO,EAAE,CAC/F,IAAMA,EAAO8C,EAAYnG,WAAWqD,KAAO,EAC3CgD,EAAciB,WAAWjE,QAEzByG,EAAQ,aACJ9L,OAAQ8H,EAAgBK,EAAYnI,QACpCqF,KAAM8C,EAAYnG,WAAWqD,KAC7BC,SAAU6C,EAAYnG,WAAWsD,SACjCE,KAAM2C,EAAY5C,MAAMC,KACxBC,IAAK0C,EAAY5C,MAAME,KAEnB+C,EAAqBrC,aACrBqC,EAAqBrC,YAAY6F,WACjC,CAACA,UAAWxD,EAAqBrC,YAAY6F,gBAK5Da,OAAM,SAACpW,GACJ2V,QAAQ3V,MAAMA,GACdiV,EACI,8CAAyC,CAACjT,QAAS,kBAlC3DuR,GAAoB,MA2CpB,cAAC,GAAD,CACI7R,MAAM,yBACNgJ,QAASA,EACTjH,KAAMA,EACNqJ,QAASA,EACTrC,oBAnIW,IAoIX1J,IAAK4R,EACL9P,QAAS,CACLwT,YAAY,EACZrJ,WAAY,WACZlF,WAAY4J,EAAYnI,OACxBqF,KAAM8C,EAAYnG,WAAWqD,KAAO,EACpClD,YAAagG,EAAYnG,WAAWsD,SACpCuB,sBACAkG,MAAOrE,EACPsE,eAAgB,SAAC9J,EAAQ+J,GACrB,IAAMC,EAAc/L,EAAQgM,WAAU,SAAAC,GAAC,OAAIA,EAAEpM,OAASkC,KACtDmF,EAAcgF,kBAAd,eACKnK,EAAmB+J,EAAWC,GAAa/R,OAAS8R,EAAWC,GAAa,GAAK,QAG1FI,cAAe,kBACX,cAAC,GAAD,CAAmBrJ,YAAa,kBAAMoE,EAAckF,kBAExDC,eAAgB,SAAC1P,GAAD,OAAWuK,EAAcoF,aAAa3P,IACtD4P,aAAc,SAACrI,GAAD,OAAUgD,EAAciB,WAAWjE,IACjDsI,oBAAqB,SAACnE,GAAD,OAAanB,EAAckB,kBAAkBC,IAClEoE,mBAAoB,SAACnE,EAAuBC,GAAxB,OAA8CrB,EAAcwF,iBAAiBpE,EAAeC,IAChHoE,aAAc,SAACC,GAEX,OADA7D,EAAgB6D,IACT,UCzNhBC,GAfE,WACb,OACI,eAAC,EAAD,CAAM7V,MAAO,sBAAb,UACI,cAACO,EAAA,EAAD,CAAK+M,IAAK,MAAOwI,cAAe,EAAhC,SACI,cAACC,EAAA,EAAD,CAAK/V,MAAM,sBAAsBN,MAAO,YAAasW,KAAK,QAAQ3V,UAAW+S,IAAMC,GAAG,qBAAtF,SACI,cAAC,IAAD,QAGR,cAAC9S,EAAA,EAAD,UACI,cAAC,GAAD,U,8BCVV1C,GAAYC,aAAW,SAACC,GAC1B,MAAO,CACHkY,OAAQ,CACJC,OAAQnY,EAAMoY,QAAQ,QA4BnBC,GAlBsC,SAAC1X,GAClD,IAEM2X,EAA2B,CAC7BjW,UAHYvC,KAGOoY,OACnBvW,MAAO,YACPY,QAAS,YACTgW,cAAoCjQ,IAA1B3H,EAAM6X,iBAAwC7X,EAAM6X,iBAGlE,OACI,eAAChW,EAAA,EAAD,CAAK+M,IAAK,MAAV,UACI,cAACmF,GAAA,EAAD,yBAAQ/S,MAAO,WAAe2W,GAA9B,IAA2CxW,QAASnB,EAAM8X,WAA1D,qBACA,cAAC/D,GAAA,EAAD,2BAAY4D,GAAZ,IAAyBI,KAAK,SAA9B,8C,qBC5BN5Y,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnC2Y,SAAU,CACNC,QAAS5Y,EAAMoY,QAAQ,EAAG,QAQrBS,GAA0C,SAAClY,GACpD,IAAMG,EAAUhB,KACTgZ,EAA+CnY,EAA/CmY,mBAAoBC,EAA2BpY,EAA3BoY,cAAkBC,EAFiB,aAERrY,EAFQ,wCAG9D,OACI,gDAAUqY,GAAV,aACI,cAACC,GAAA,EAAD,yBAAMC,WAAS,GAAKJ,GAApB,aACI,cAACG,GAAA,EAAD,yBAAME,MAAI,GAAKJ,GAAf,IAA8B1W,UAAWvB,EAAQ6X,SAAjD,SACKhY,EAAMS,mBCLZgY,GAZc,SAACC,EAAaC,GAAY,IAC5C9D,EAAmBC,cAAnBD,gBACP9C,qBAAU,WACN,IAAM6G,EAA0C,IAA/B1U,OAAO2U,KAAKF,GAAQrU,OAClCoU,EAAc,GAAKE,GAClB/D,EACI,oEAA+D,CAACjT,QAAS,YAGlF,CAAC8W,EAAaC,EAAQ9D,KCgChBiE,GAAO,WAChB,IAOMC,EAvCuB,SAAAC,GAAgB,OAC/CpP,cAAA,uCACE,WAAMvG,GAAN,eAAA6R,EAAA,+EAEyB8D,EAAiBC,SAAS5V,EAAM,CACnD6V,YAAY,IAHlB,cAEU/U,EAFV,yBAMW,CACLA,SACAwU,OAAQ,KARd,yDAWW,CACLxU,OAAQ,GACRwU,OAAQ,KAAOQ,MAAMC,QACnB,SAACC,EAAWC,GAAZ,yBAAC,eACID,GADL,kBAEGC,EAAaC,KAAO,CACnBxB,KAAI,UAAEuB,EAAavB,YAAf,QAAuB,aAC3ByB,QAASF,EAAaE,aAG1B,MArBR,yDADF,sDA2BE,CAACR,IAWgBS,CAPQ7P,WACrB,kBACEuG,KAAW,CACThG,KAAMgG,OAAavJ,MAAM,QAAQ2G,WAAWG,IAAI,SAEpD,KANkB,EAS0EgM,aAA4C,CAACX,WAAUY,cAAe,CAACxE,WAAW,KAA3KyE,EATe,EASfA,SAAUC,EATK,EASLA,aAAcC,EATT,EASSA,UAAWC,EATpB,EASoBA,SAAUC,EAT9B,EAS8BA,QAASrB,EATvC,EASuCA,OAAQ/M,EAT/C,EAS+CA,MAAOqO,EATtD,EASsDA,MAAOC,EAT7D,EAS6DA,UAEnFzB,GAAqByB,EAAUxB,YAAaC,GAXtB,IAYf9D,EAAmBC,cAAnBD,gBACDrF,EAAUC,cACTrM,EAAM+W,cAAN/W,GAde,EAeUwG,WAAgC,MAf1C,mBAefwQ,EAfe,KAeLC,EAfK,KAgBhB3N,EAAU9C,aAAiBoK,IAhBX,SAgDPsG,EAhDO,gFAgDtB,WAAwBC,EAAUvT,GAAlC,mBAAAkO,EAAA,sEAEc5S,EAAQ8X,EAER7V,EAAawO,OAAOqH,EAAShX,GAAImX,GADjChW,EAAatC,OAAOsY,GAHlC,SAKiCjY,EALjC,gBAKmBe,EALnB,EAKmBA,KACPwR,EACI,8BACA,CAACjT,QAAS,YAEd4Y,YAAW,WACPxT,EACI5D,EACMoM,EAAQwC,QAAR,sBAA+B3O,EAAKA,KAAKD,GAAzC,UACAoM,EAAQ6C,KAAR,sBAA4BhP,EAAKA,KAAKD,GAAtC,UACNoM,EAAQ6C,KAAK,kBAfjC,kDAkBQkD,QAAQkF,IAAR,MACA5F,EACI,2BACA,CAACjT,QAAS,UArBtB,2DAhDsB,sBA0EtB,OAxDAgI,aAAgB,WACZgQ,EAAS,CAACzP,KAAM,gBACjB,CAACyP,IAEJhQ,aAAgB,WACZ,IAAI8Q,GAAe,EACnB,GAAItX,EAmBJ,OAhBA,uCAAC,8BAAA8R,EAAA,+EAE4B3Q,EAAapB,IAAIC,GAF7C,gBAEcC,EAFd,EAEcA,KACJqX,IACCL,EAAYhX,EAAKA,MACjBuI,EAAMvI,EAAKA,OALtB,gDAQOkS,QAAQ3V,MAAR,MACAiV,EACI,uDACA,CAACjT,QAAS,UAXrB,yDAAD,uDAgBO,WACH8Y,GAAe,KAEpB,CAACtX,EAAIwI,EAAOiJ,IA6BX,eAAC,GAAD,CAAayF,SAAUT,EAAaS,GAAWlC,cAAe,CAAEuC,GAAI,GAAIC,GAAI,GAA5E,UACI,cAAC9R,GAAA,EAAD,CACIqB,KAAK,OACLvD,MAAM,OACN0C,WAAS,EACT1H,QAAS,WACT2H,SAAUqQ,EACVhC,SAAUlL,EACV9M,WAAuB+H,IAAhBgR,EAAOxO,KACd0Q,WAAYlC,EAAOxO,MAAQwO,EAAOxO,KAAKqP,QACvCsB,gBAAiB,CAAEC,QAAO,KAG9B,cAACjS,GAAA,EAAD,CACIqB,KAAK,cACLvD,MAAM,kBACNoU,WAAS,EACTC,KAAK,IACL3R,WAAS,EACT1H,QAAS,WACT4V,OAAQ,SACRjO,SAAUqQ,EACVhC,SAAUlL,EACVoO,gBAAiB,CAAEC,QAAO,KAE9B,cAACG,GAAA,EAAD,CACAtD,SAAUlL,EACVyO,QACI,cAACC,GAAA,EAAD,CACIjR,KAAK,YACLnJ,MAAO,UACPqI,SACI,kBAAM0Q,EAAS,aAAcD,IAAS,YAE1CuB,QAASpB,EAAM,aACfrC,SAAUlL,IAGlB9F,MAAO,SACP0U,eAAgB,QAEhB,cAAC,GAAD,CAAezD,gBAAiBnL,EAASoL,WAAY,kBAAMkC,IAAUlE,MAAK,SAAAyF,GACtEA,GAAWjB,EAASR,IAAa,gBChJlC0B,GAVE,SAACxb,GAAkB,IACzBoD,EAAM+W,cAAN/W,GAEP,OACI,cAAC,EAAD,CAAM9B,MAAQ8B,EAAyB,mBAApB,kBAAnB,SACI,cAAC,GAAD,OCPGqY,GAFG,IAAIpZ,EAAaN,EAAW,UCgBxCmS,GAAmC,CACrC,CACI/J,KAAM,KACNvD,MAAO,KACP0F,MAAO,MACP7J,QAAS,CACLkM,MAAM,EACNvK,QAAQ,IAGhB,CACI+F,KAAM,OACNvD,MAAO,OACP0F,MAAO,MACP7J,QAAS,CACL2B,QAAQ,IAGhB,CACI+F,KAAM,aACNvD,MAAO,aACPnE,QAAS,CACLiZ,WAAY,cACZvH,cAAe,CACXC,MAAO,IAEXC,iBALK,SAKYpN,EAAOqN,EAAWC,GAC/B,OAAOtN,EAAMuF,KAAI,SAACvF,GAAD,OAAgBA,EAAMkD,QAAMyL,KAAK,QAG1DtJ,MAAO,OAEX,CACInC,KAAM,YACNvD,MAAO,SACPnE,QAAS,CACL0R,cAAe,CACXC,MAAO,CAAC,MAAO,WAEnBC,iBAJK,SAIYpN,EAAOqN,EAAWC,GAC/B,OAAOtN,EAAQ,cAAC,GAAD,IAAc,cAAC,GAAD,MAGrCqF,MAAO,MAEX,CACInC,KAAM,aACNvD,MAAO,YACPnE,QAAS,CACL2B,QAAQ,EACRiQ,iBAFK,SAEYpN,EAAOqN,EAAWC,GAC/B,OAAO,+BAAOC,IAAOC,IAASxN,GAAQ,kBAG9CqF,MAAO,OAEX,CACInC,KAAM,UACNvD,MAAO,cACP0F,MAAO,MACP7J,QAAS,CACL2B,QAAQ,EACRuK,MAAM,EACN0F,iBAAkB,SAACpN,EAAOqN,GACtB,OACI,cAACvT,EAAA,EAAD,CACIC,MAAO,YACPW,UAAW+S,IACXC,GAAE,sBAAiBL,EAAUM,QAAQ,GAAnC,SAHN,SAKI,cAAC,KAAD,UAWlB5E,GAAqB,CAAC,GAAI,GAAI,IA6OrB5F,GA3OD,WAAO,IACVyK,EAAmBC,cAAnBD,gBACDE,EAAanL,UAAa,GAFhB,EAGQA,WAAwB,IAHhC,mBAGTvG,EAHS,KAGH2R,EAHG,KAIVtI,EAAU9C,aAAiBoK,IAJjB,EAKoBpK,aALpB,mBAKG+R,GALH,WAMVpJ,EAAW3I,WAND,EAOgEqJ,KAAzEC,EAPS,EAOTA,iBAAkBC,EAPT,EAOSA,oBAAqBC,EAP9B,EAO8BA,aAAcC,EAP5C,EAO4CA,gBACtD/D,EAAc1F,WAAc,iBAAO,CACrC+G,uBAAwB,WACpB,OAAOR,OAAaC,MAAM,CACtBwL,WAAYzL,OACPM,WACAJ,WAAU,SAAApJ,GACP,OAAQA,GAAmB,KAAVA,EAA2BA,EAAM4U,MAAM,UAAxBlU,KAEnC/C,QAAQ,SAGrBwM,mBAAoB,SAAC0K,GACjB,OAAOA,EAAexM,YAAf,eAGCwM,EAAexM,YAAYsM,YAC3B,CAACA,WAAYE,EAAexM,YAAYsM,WAAWhG,KAAK,YAG9DjO,GAENqJ,gBAAiB,SAAC/N,GACd,MAAO,CACH2Y,WAAY3Y,EAAYE,IAAI,mBAGpC,IAlCY,EAmCoGoM,GAAU,CAC1HjF,QAAS4J,GACTnM,aA1Ca,IA2CbuD,YAzCY,GA0CZ0E,sBACAuC,WACAjD,gBANGhF,EAnCS,EAmCTA,QAASkH,EAnCA,EAmCAA,cAAeP,EAnCf,EAmCeA,gBAAiBK,EAnChC,EAmCgCA,YAAaK,EAnC7C,EAmC6CA,qBAAsBE,EAnCnE,EAmCmEA,aAAcC,EAnCjF,EAmCiFA,gBAS3FiK,EAAwBzR,EAAQgM,WAAU,SAAAC,GAAC,MAAe,eAAXA,EAAEpM,QACjD6R,EAAmB1R,EAAQyR,GAC3BE,EAAwB3K,EAAYhC,aAAegC,EAAYhC,YAAYsM,WAChFI,EAAiBvZ,QAAgB2T,WAAa6F,GAAgD,GAE/F,IAAMC,EAAuB5R,EAAQkC,KAAI,SAAAH,GAAM,MAAI,MAChD4P,IACCC,EAAqBH,GAAyBE,GAGlD,IAAMvU,EAAauJ,EAAgBU,EAAqBxI,QAElD8L,EAAUrL,cAAA,uCAAkB,6CAAAsL,EAAA,6DAAQ/L,EAAR,EAAQA,OAAQqF,EAAhB,EAAgBA,KAAMC,EAAtB,EAAsBA,SAAUE,EAAhC,EAAgCA,KAAMC,EAAtC,EAAsCA,IAAKgN,EAA3C,EAA2CA,WAAYzG,EAAvD,EAAuDA,UAAvD,kBAELsG,GAAUrG,KAA0B,CACrDnS,YAAY,yBACRkG,SACAqF,OACAC,WACAE,OACAC,OAEIgN,GAAc,CAACA,WAAYA,IAG3BzG,GAAa,CAACA,UAAWA,MAbX,gBAEnB9R,EAFmB,EAEnBA,KAeJ0R,EAAWvC,UACVwC,EAAQ3R,EAAKA,MACbyO,EAAgBzO,EAAKgS,KAAKC,OACvBpC,GACCC,GAAoB,IArBF,mDAyB1BoC,QAAQ3V,MAAR,OACG6b,GAAUjG,mBAAV,MA1BuB,mDA6B1BX,EACI,uDACA,CAACjT,QAAS,UA/BY,yDAAlB,sDAkCb,CAACiT,EAAiB1B,EAAqBD,EAAkBpB,IAuG5D,OArGAlI,aAAgB,WACZ,IAAI8Q,GAAe,EACnB,sBAAC,8BAAAxF,EAAA,+EAE4B3Q,EAAa6Q,KAAK,CAACnS,YAAa,CAAC0I,IAAK,MAFlE,gBAEctI,EAFd,EAEcA,KACHqX,IACAiB,EAActY,EAAKA,MAClB2Y,EAAiBvZ,QAAgB0R,cAAcC,MAAQ/Q,EAAKA,KAAKmJ,KAAI,SAAA4N,GAAQ,OAAIA,EAASjQ,SALtG,gDAQOoL,QAAQ3V,MAAR,MACAiV,EACI,uDACA,CAACjT,QAAS,UAXrB,kCAcU,WACF8Y,GAAe,KAfvB,wDAAD,KAmBF,CAACsB,EAAkBnH,IAErBjL,aAAgB,WAmBZ,OAlBAmL,EAAWvC,SAAU,EACrByC,EAAQ,yBACJ9L,OAAQzB,EACR8G,KAAM8C,EAAYnG,WAAWqD,KAC7BC,SAAU6C,EAAYnG,WAAWsD,SACjCE,KAAM2C,EAAY5C,MAAMC,KACxBC,IAAK0C,EAAY5C,MAAME,KAEnB+C,EAAqBrC,aACrBqC,EAAqBrC,YAAYsM,YACjC,CAACA,WAAYjK,EAAqBrC,YAAYsM,WAAWhG,KAAK,OAG9DjE,EAAqBrC,aACrBqC,EAAqBrC,YAAY6F,WACjC,CAACA,UAA6D,QAAlDxD,EAAqBrC,YAAY6F,UAAU,GAAe,EAAI,KAG3E,WACHJ,EAAWvC,SAAU,KAG1B,CACCyC,EACAvN,EACA4J,EAAYnG,WAAWqD,KACvB8C,EAAYnG,WAAWsD,SACvB6C,EAAY5C,MACZiD,EAAqBrC,cAkDrB,eAAC,IAAD,CAAkBjQ,MAAOyN,GAAiBoH,GAAkB5P,OAAS,GAArE,UACI,cAAC,GAAD,CAAciP,KAAML,EAAkBM,YAhD9C,SAAoBiC,GAChB,GAAIA,EAAJ,CAIA,IAAMC,EAAMtC,EACP/P,KACAmJ,KAAI,SAAAvF,GAAK,OAAI5D,EAAK4D,EAAM0O,OAAOvS,MAC/BwS,KAAK,KACV6F,GACK5F,iBAAiB,CAACH,QAClBI,MAAK,SAAAC,GAIF,GAHAlB,EACI,qCAAmC,CAACjT,QAAS,YAE9CwR,EAAa/P,KAAKiB,SAAWgN,EAAYnG,WAAWsD,UAAY6C,EAAYnG,WAAWqD,KAAO,EAAE,CAC/F,IAAMA,EAAO8C,EAAYnG,WAAWqD,KAAO,EAC3CgD,EAAciB,WAAWjE,QAEzByG,EAAQ,yBACJ9L,OAAQ8H,EAAgBK,EAAYnI,QACpCqF,KAAM8C,EAAYnG,WAAWqD,KAC7BC,SAAU6C,EAAYnG,WAAWsD,SACjCE,KAAM2C,EAAY5C,MAAMC,KACxBC,IAAK0C,EAAY5C,MAAME,KAEnB+C,EAAqBrC,aACrBqC,EAAqBrC,YAAYsM,YACjC,CAACA,WAAYjK,EAAqBrC,YAAYsM,WAAWhG,KAAK,OAG9DjE,EAAqBrC,aACrBqC,EAAqBrC,YAAY6F,WACjC,CAACA,UAA6D,QAAlDxD,EAAqBrC,YAAY6F,UAAU,GAAe,EAAI,QAKzFa,OAAM,SAACpW,GACJ2V,QAAQ3V,MAAMA,GACdiV,EACI,8CAAyC,CAACjT,QAAS,kBAvC3DuR,GAAoB,MA+CpB,cAAC,GAAD,CACI7R,MAAM,yBACNgJ,QAASA,EACTjH,KAAMA,EACNqJ,QAASA,EACTrC,oBA7MW,IA8MX1J,IAAK4R,EACL9P,QAAS,CAELwT,YAAY,EACZrJ,WAAY,WACZlF,WAAY4J,EAAYnI,OACxBqF,KAAM8C,EAAYnG,WAAWqD,KAAO,EACpClD,YAAagG,EAAYnG,WAAWsD,SACpCuB,sBACAkG,MAAOrE,EACPsE,eAAgB,SAAC9J,EAAQ+J,GACrB,IAAMC,EAAc/L,EAAQgM,WAAU,SAAAC,GAAC,OAAIA,EAAEpM,OAASkC,KACtDmF,EAAcgF,kBAAd,eACKnK,EAAmB+J,EAAWC,GAAa/R,OAAS8R,EAAWC,GAAe,QAGvFI,cAAe,kBACX,cAAC,GAAD,CAAmBrJ,YAAa,kBAAMoE,EAAckF,kBAExDC,eAAgB,SAAC1P,GAAD,OAAWuK,EAAcoF,aAAa3P,IACtD4P,aAAc,SAACrI,GAAD,OAAUgD,EAAciB,WAAWjE,IACjDsI,oBAAqB,SAACnE,GAAD,OAAanB,EAAckB,kBAAkBC,IAClEoE,mBAAoB,SAACnE,EAAuBC,GAAxB,OAA8CrB,EAAcwF,iBAAiBpE,EAAeC,IAChHoE,aAAc,SAACC,GAEX,OADA7D,EAAgB6D,IACT,UCpThBC,GAfE,WACb,OACI,eAAC,EAAD,CAAM7V,MAAO,sBAAb,UACI,cAACO,EAAA,EAAD,CAAK+M,IAAK,MAAOwI,cAAe,EAAhC,SACI,cAACC,EAAA,EAAD,CAAK/V,MAAM,sBAAmBN,MAAO,YAAasW,KAAK,QAAQ3V,UAAW+S,IAAMC,GAAG,iBAAnF,SACI,cAAC,IAAD,QAGR,cAAC9S,EAAA,EAAD,UACI,cAAC,GAAD,U,UC8BHiX,GAAO,WAChB,IAQMC,EAxCuB,SAAAC,GAAgB,OAC/CpP,cAAA,uCACE,WAAMvG,GAAN,eAAA6R,EAAA,+EAEyB8D,EAAiBC,SAAS5V,EAAM,CACnD6V,YAAY,IAHlB,cAEU/U,EAFV,yBAMW,CACLA,SACAwU,OAAQ,KARd,yDAWW,CACLxU,OAAQ,GACRwU,OAAQ,KAAOQ,MAAMC,QACnB,SAACC,EAAWC,GAAZ,yBAAC,eACID,GADL,kBAEGC,EAAaC,KAAO,CACnBxB,KAAI,UAAEuB,EAAavB,YAAf,QAAuB,aAC3ByB,QAASF,EAAaE,aAG1B,MArBR,yDADF,sDA2BE,CAACR,IAYgBS,CARQ7P,WACrB,kBACEuG,KAAW,CACThG,KAAMgG,OAAavJ,MAAM,QAAQ2G,WAAWG,IAAI,KAChDyO,cAAehM,OAAYvJ,MAAM,cAAc2G,WAAWK,IAAI,OAElE,KAPkB,EAU0E8L,aAA+B,CAACX,WAC5HY,cAAe,CACXwC,cAAe,MAFhBvC,EAVe,EAUfA,SAAUC,EAVK,EAULA,aAAcC,EAVT,EAUSA,UAAWC,EAVpB,EAUoBA,SAAUC,EAV9B,EAU8BA,QAASrB,EAVvC,EAUuCA,OAAQ/M,EAV/C,EAU+CA,MAAOqO,EAVtD,EAUsDA,MAAOC,EAV7D,EAU6DA,UAMnFzB,GAAqByB,EAAUxB,YAAaC,GAhBtB,IAkBf9D,EAAmBC,cAAnBD,gBACDrF,EAAUC,cACTrM,EAAM+W,cAAN/W,GApBe,EAqBIwG,WAA6B,MArBjC,mBAqBfwS,EArBe,KAqBRC,EArBQ,OAsBczS,WAA2B,IAtBzC,mBAsBfgS,EAtBe,KAsBHD,EAtBG,KAuBhBjP,EAAU9C,aAAiBoK,IAvBX,SAgEPsG,EAhEO,gFAgEtB,WAAwBC,EAAUvT,GAAlC,mBAAAkO,EAAA,sEAEc5S,EAAQ8Z,EAERX,GAAU1I,OAAOqJ,EAAMhZ,GAAImX,GAD3BkB,GAAUxZ,OAAOsY,GAH/B,SAKiCjY,EALjC,gBAKmBe,EALnB,EAKmBA,KACPwR,EACI,8BACA,CAACjT,QAAS,YAEd4Y,YAAW,WACPxT,EACI5D,EACMoM,EAAQwC,QAAR,kBAA2B3O,EAAKA,KAAKD,GAArC,UACAoM,EAAQ6C,KAAR,kBAAwBhP,EAAKA,KAAKD,GAAlC,UACNoM,EAAQ6C,KAAK,cAfjC,kDAkBQkD,QAAQkF,IAAR,MACA5F,EACI,2BACA,CAACjT,QAAS,UArBtB,2DAhEsB,sBA0FtB,OAjEAgI,aAAgB,WACZgQ,EAAS,CAACzP,KAAM,oBACjB,CAACyP,IAEJhQ,aAAgB,WACZ,IAAI8Q,GAAe,EA6BnB,OA5BA,uCAAC,sCAAAxF,EAAA,6DACSoH,EAAW,CAAC/X,EAAa6Q,KAAK,CAACnS,YAAa,CAAC0I,IAAK,OACrDvI,GACCkZ,EAASjK,KAAKoJ,GAAUtY,IAAIC,IAHnC,kBAMyDmZ,QAAQ5Q,IAAI2Q,GANrE,mCAMcE,EANd,KAMkCC,EANlC,KAOU/B,IACCiB,EAAca,EAAmBnZ,KAAKA,MACnCD,IACCiZ,EAASI,EAAcpZ,KAAKA,MACtB8Y,EAAgBM,EAAcpZ,KAAKA,KAAKuY,WAAWpP,KAAI,SAAA4N,GAAQ,OAAIA,EAAShX,MAClFwI,EAAM,2BACC6Q,EAAcpZ,KAAKA,MADrB,IAED8Y,qBAdnB,kDAoBO5G,QAAQ3V,MAAR,MACAiV,EACI,uDACA,CAACjT,QAAS,UAvBrB,0DAAD,uDA4BO,WACH8Y,GAAe,KAEpB,CAACtX,EAAIwI,EAAOiJ,IA6BX,eAAC,GAAD,CAAayF,SAAUT,EAAaS,GAAWlC,cAAe,CAAEuC,GAAI,GAAIC,GAAI,GAA5E,UACI,cAAC9R,GAAA,EAAD,CACIqB,KAAK,OACLvD,MAAM,OACN0C,WAAS,EACT1H,QAAS,WACT2H,SAAUqQ,EACVhC,SAAUlL,EACV9M,WAAuB+H,IAAhBgR,EAAOxO,KACd0Q,WAAYlC,EAAOxO,MAAQwO,EAAOxO,KAAKqP,QACvCsB,gBAAiB,CAAEC,QAAO,KAE9B,cAACjS,GAAA,EAAD,CACIqB,KAAK,cACLvD,MAAM,kBACNoU,WAAS,EACTC,KAAK,IACL3R,WAAS,EACT1H,QAAS,WACT4V,OAAQ,SACRjO,SAAUqQ,EACVhC,SAAUlL,EACVoO,gBAAiB,CAAEC,QAAO,KAE9B,eAACjS,GAAA,EAAD,CACI4T,QAAM,EACNvS,KAAK,gBACLlD,MAAOgT,EAAM,iBACbrT,MAAM,aACN4Q,OAAQ,SACR5V,QAAS,WACT0H,WAAS,EACTD,SAAU,SAAClB,GACP4R,EAAS,gBAAiB5R,EAAEjB,OAAOD,QAEvC0V,YAAa,CACTC,UAAU,GAEdhF,SAAUlL,EACV9M,WAAgC+H,IAAzBgR,EAAOwD,cACdtB,WAAYlC,EAAOwD,eAAiBxD,EAAOwD,cAAc3C,QACzDsB,gBAAiB,CAAEC,QAAQ,GAjB/B,UAmBI,cAAC8B,GAAA,EAAD,CAAU5V,MAAM,GAAG2Q,UAAQ,EAA3B,SACI,wDAGAgE,EAAWpP,KACP,SAAC4N,EAAUtZ,GAAX,OACI,cAAC+b,GAAA,EAAD,CAAoB5V,MAAOmT,EAAShX,GAApC,SAAyCgX,EAASjQ,MAAnCrJ,SAK/B,cAACsa,GAAA,EAAD,CACIjR,KAAK,YACLZ,SAAUqQ,EACVkD,gBAAc,IAzDtB,SA4DI,cAAC,GAAD,CAAejF,gBAAiBnL,EAASoL,WAAY,kBAAMkC,IAAUlE,MAAK,SAAAyF,GACrEA,GAAWjB,EAASR,IAAa,gBCtLnC0B,GARE,SAACxb,GACd,OACI,cAAC,EAAD,CAAMsB,MAAO,kBAAb,SACI,cAAC,GAAD,OCLGyb,GAFQ,IAAI1a,EAAaN,EAAW,gBCoCtCib,GAAoB,CAC7BC,EAAG,UACHC,EAAG,QAaMC,GAAqB,CAC9B,WAAc,YACd,YAAe,SACf,aAAgB,UAChB,WAAc,aCxCZC,GAAkBlZ,OAAOC,OAAO6Y,IAEhC9I,GAAmC,CACrC,CACI/J,KAAM,KACNvD,MAAO,KACP0F,MAAO,MACP7J,QAAS,CACLkM,MAAM,EACNvK,QAAQ,IAGhB,CACI+F,KAAM,OACNvD,MAAO,OACP0F,MAAO,MACP7J,QAAS,CACL2B,QAAQ,IAGhB,CACI+F,KAAM,OACNvD,MAAO,OACPnE,QAAS,CACL0R,cAAe,CACXC,MAAOgJ,IAEX/I,iBAJK,SAIYpN,EAAOqN,EAAWC,GAC/B,OAAOyI,GAAkB/V,KAGjCqF,MAAO,MAEX,CACInC,KAAM,aACNvD,MAAO,YACPnE,QAAS,CACL2B,QAAQ,EACRiQ,iBAFK,SAEYpN,EAAOqN,EAAWC,GAC/B,OAAO,+BAAOC,IAAOC,IAASxN,GAAQ,kBAG9CqF,MAAO,OAEX,CACInC,KAAM,UACNvD,MAAO,cACP0F,MAAO,MACP7J,QAAS,CACL2B,QAAQ,EACRuK,MAAM,EACN0F,iBAAkB,SAACpN,EAAOqN,GACtB,OACI,cAACvT,EAAA,EAAD,CACIC,MAAO,YACPW,UAAW+S,IACXC,GAAE,sBAAiBL,EAAUM,QAAQ,GAAnC,SAHN,SAKI,cAAC,KAAD,UAWlB5E,GAAqB,CAAC,GAAI,GAAI,IAuMrB5F,GArMD,WAAO,IACVyK,EAAmBC,cAAnBD,gBACDE,EAAanL,UAAa,GAFhB,EAGQA,WAA6B,IAHrC,mBAGTvG,EAHS,KAGH2R,EAHG,KAIVtI,EAAU9C,aAAiBoK,IAJjB,EAKgEf,KAAzEC,EALS,EAKTA,iBAAkBC,EALT,EAKSA,oBAAqBC,EAL9B,EAK8BA,aAAcC,EAL5C,EAK4CA,gBACtDd,EAAW3I,WAEX0F,EAAc1F,WAAc,iBAAO,CACjC+G,uBAAwB,WACpB,OAAOR,OAAaC,MAAM,CACtB2H,KAAM5H,OACDM,WACAJ,WAAU,SAAApJ,GACP,OAAQA,GAAUmW,GAAgB5M,SAASvJ,GAAqBA,OAAZU,KAEvD/C,QAAQ,SAGrBwM,mBAAoB,SAAC0K,GACjB,OAAOA,EAAexM,YAAf,eAGCwM,EAAexM,YAAYyI,MAC3B,CAACA,KAAM+D,EAAexM,YAAYyI,YAGxCpQ,GAENqJ,gBAAiB,SAAC/N,GACd,MAAO,CACH8U,KAAM9U,EAAYE,IAAI,aAGlC,IAlCY,EAmCoGoM,GAAU,CAC1HjF,QAAS4J,GACTnM,aA1Ca,IA2CbuD,YAzCY,GA0CZ0E,sBACAuC,WACAjD,gBANGhF,EAnCS,EAmCTA,QAASkH,EAnCA,EAmCAA,cAAeP,EAnCf,EAmCeA,gBAAiBK,EAnChC,EAmCgCA,YAAaK,EAnC7C,EAmC6CA,qBAAsBE,EAnCnE,EAmCmEA,aAAcC,EAnCjF,EAmCiFA,gBAQ3FpK,EAAauJ,EAAgBK,EAAYnI,QAEzCkU,EAAkB/S,EAAQgM,WAAU,SAAAC,GAAC,MAAe,SAAXA,EAAEpM,QAC3CmT,EAAahT,EAAQ+S,GACrBE,EAAkBjM,EAAYhC,aAAegC,EAAYhC,YAAYyI,KAC1EuF,EAAW7a,QAAgB2T,WAAamH,EAAkB,CAACA,GAAmB,GAE/E,IAAMrB,EAAuB5R,EAAQkC,KAAI,SAAAH,GAAM,MAAI,MAChDkR,IACCrB,EAAqBmB,GAAmB,CAACE,IAG7C,IAAMtI,EAAUrL,cAAA,uCAAkB,2CAAAsL,EAAA,6DAAQ/L,EAAR,EAAQA,OAAQqF,EAAhB,EAAgBA,KAAMC,EAAtB,EAAsBA,SAAUE,EAAhC,EAAgCA,KAAMC,EAAtC,EAAsCA,IAAKmJ,EAA3C,EAA2CA,KAA3C,kBAELgF,GAAe3H,KAA+B,CAC/DnS,YAAY,aACRkG,SACAqF,OACAC,WACAE,OACAC,OAEImJ,GAAQ,CAACA,KAAMyF,kBAAOR,IAAmBjF,OAV3B,gBAEnB1U,EAFmB,EAEnBA,KAYJ0R,EAAWvC,UACVwC,EAAQ3R,EAAKA,MACbyO,EAAgBzO,EAAKgS,KAAKC,OACvBpC,GACCC,GAAoB,IAlBF,mDAsB1BoC,QAAQ3V,MAAR,OACGmd,GAAevH,mBAAf,MAvBuB,mDA0B1BX,EACI,uDACA,CAACjT,QAAS,UA5BY,yDAAlB,sDA+Bb,CAACiT,EAAiB/C,EAAiBoB,EAAkBC,IAsExD,OApEAvJ,aAAgB,WAcZ,OAbAmL,EAAWvC,SAAU,EACrByC,EAAQ,aACJ9L,OAAQzB,EACR8G,KAAM8C,EAAYnG,WAAWqD,KAC7BC,SAAU6C,EAAYnG,WAAWsD,SACjCE,KAAM2C,EAAY5C,MAAMC,KACxBC,IAAK0C,EAAY5C,MAAME,KAEnB+C,EAAqBrC,aACrBqC,EAAqBrC,YAAYyI,MACjC,CAACA,KAAMpG,EAAqBrC,YAAYyI,QAGzC,WACHhD,EAAWvC,SAAU,KAG1B,CACCyC,EACAvN,EACA4J,EAAYnG,WAAWqD,KACvB8C,EAAYnG,WAAWsD,SACvB6C,EAAY5C,MACZiD,EAAqBrC,cA6CrB,eAAC,IAAD,CAAkBjQ,MAAOyN,GAAiBoH,GAAkB5P,OAAS,GAArE,UACI,cAAC,GAAD,CAAciP,KAAML,EAAkBM,YA3C9C,SAAoBiC,GAChB,GAAIA,EAAJ,CAIA,IAAMC,EAAMtC,EACP/P,KACAmJ,KAAI,SAAAvF,GAAK,OAAI5D,EAAK4D,EAAM0O,OAAOvS,MAC/BwS,KAAK,KACVmH,GACKlH,iBAAiB,CAACH,QAClBI,MAAK,SAAAC,GAIF,GAHAlB,EACI,qCAAmC,CAACjT,QAAS,YAE9CwR,EAAa/P,KAAKiB,SAAWgN,EAAYnG,WAAWsD,UAAY6C,EAAYnG,WAAWqD,KAAO,EAAE,CAC/F,IAAMA,EAAO8C,EAAYnG,WAAWqD,KAAO,EAC3CgD,EAAciB,WAAWjE,QAEzByG,EAAQ,aACJ9L,OAAQzB,EACR8G,KAAM8C,EAAYnG,WAAWqD,KAC7BC,SAAU6C,EAAYnG,WAAWsD,SACjCE,KAAM2C,EAAY5C,MAAMC,KACxBC,IAAK0C,EAAY5C,MAAME,KAEnB+C,EAAqBrC,aACrBqC,EAAqBrC,YAAYyI,MACjC,CAACA,KAAMpG,EAAqBrC,YAAYyI,WAKvD/B,OAAM,SAACpW,GACJ2V,QAAQ3V,MAAMA,GACdiV,EACI,8CAAyC,CAACjT,QAAS,kBAlC3DuR,GAAoB,MA0CpB,cAAC,GAAD,CACI7R,MAAM,sBACNgJ,QAASA,EACTjH,KAAMA,EACNqJ,QAASA,EACTrC,oBAxKW,IAyKX1J,IAAK4R,EACL9P,QAAS,CACLwT,YAAY,EACZrJ,WAAY,WACZlF,WAAY4J,EAAYnI,OACxBqF,KAAM8C,EAAYnG,WAAWqD,KAAO,EACpClD,YAAagG,EAAYnG,WAAWsD,SACpCuB,sBACAkG,MAAOrE,EACPsE,eAAgB,SAAC9J,EAAa+J,GAC1B,IAAMC,EAAc/L,EAAQgM,WAAU,SAAAC,GAAC,OAAIA,EAAEpM,OAASkC,KACtDmF,EAAcgF,kBAAd,eACKnK,EAAS+J,EAAWC,GAAa/R,OAAS8R,EAAWC,GAAa,GAAK,QAGhFI,cAAe,kBACX,cAAC,GAAD,CAAmBrJ,YAAa,kBAAMoE,EAAckF,kBAExDC,eAAgB,SAAC1P,GAAD,OAAWuK,EAAcoF,aAAa3P,IACtD4P,aAAc,SAACrI,GAAD,OAAUgD,EAAciB,WAAWjE,IACjDsI,oBAAqB,SAACnE,GAAD,OAAanB,EAAckB,kBAAkBC,IAClEoE,mBAAoB,SAACnE,EAAuBC,GAAxB,OAA8CrB,EAAcwF,iBAAiBpE,EAAeC,IAChHoE,aAAc,SAACC,GAEX,OADA7D,EAAgB6D,IACT,UChQhBC,GAfE,WACb,OACI,eAAC,EAAD,CAAM7V,MAAO,6BAAb,UACI,cAACO,EAAA,EAAD,CAAK+M,IAAK,MAAOwI,cAAe,EAAhC,SACI,cAACC,EAAA,EAAD,CAAK/V,MAAM,6BAA6BN,MAAO,YAAasW,KAAK,QAAQ3V,UAAW+S,IAAMC,GAAG,uBAA7F,SACI,cAAC,IAAD,QAGR,cAAC9S,EAAA,EAAD,UACI,cAAC,GAAD,U,mDC4BHiX,GAAO,WAChB,IAQMC,EAxCuB,SAAAC,GAAgB,OAC/CpP,cAAA,uCACE,WAAMvG,GAAN,eAAA6R,EAAA,+EAEyB8D,EAAiBC,SAAS5V,EAAM,CACnD6V,YAAY,IAHlB,cAEU/U,EAFV,yBAMW,CACLA,SACAwU,OAAQ,KARd,yDAWW,CACLxU,OAAQ,GACRwU,OAAQ,KAAOQ,MAAMC,QACnB,SAACC,EAAWC,GAAZ,yBAAC,eACID,GADL,kBAEGC,EAAaC,KAAO,CACnBxB,KAAI,UAAEuB,EAAavB,YAAf,QAAuB,aAC3ByB,QAASF,EAAaE,aAG1B,MArBR,yDADF,sDA2BE,CAACR,IAYgBS,CARQ7P,WACrB,kBACEuG,KAAW,CACThG,KAAMgG,OAAavJ,MAAM,QAAQ2G,WAAWG,IAAI,KAChDqK,KAAM5H,OAAavJ,MAAM,QAAQ2G,eAErC,KAPkB,EAU0EmM,aAAsC,CAACX,aAAhIa,EAVe,EAUfA,SAAUC,EAVK,EAULA,aAAcC,EAVT,EAUSA,UAAWC,EAVpB,EAUoBA,SAAUC,EAV9B,EAU8BA,QAASrB,EAVvC,EAUuCA,OAAQ/M,EAV/C,EAU+CA,MAAOqO,EAVtD,EAUsDA,MAAOC,EAV7D,EAU6DA,UAEnFzB,GAAqByB,EAAUxB,YAAaC,GAZtB,IAaf9D,EAAmBC,cAAnBD,gBACDrF,EAAUC,cACTrM,EAAM+W,cAAN/W,GAfe,EAgBcwG,WAAkC,MAhBhD,mBAgBf6T,EAhBe,KAgBHC,EAhBG,KAiBhBhR,EAAU9C,aAAiBoK,IAjBX,SAiDPsG,EAjDO,gFAiDtB,WAAwBC,EAAUvT,GAAlC,mBAAAkO,EAAA,sEAEc5S,EAAQmb,EAERV,GAAehK,OAAO0K,EAAWra,GAAImX,GADrCwC,GAAe9a,OAAOsY,GAHpC,SAKiCjY,EALjC,gBAKmBe,EALnB,EAKmBA,KACPwR,EACI,qCACA,CAACjT,QAAS,YAEd4Y,YAAW,WACPxT,EACI5D,EACMoM,EAAQwC,QAAR,wBAAiC3O,EAAKA,KAAKD,GAA3C,UACAoM,EAAQ6C,KAAR,wBAA8BhP,EAAKA,KAAKD,GAAxC,UACNoM,EAAQ6C,KAAK,oBAfjC,kDAkBQkD,QAAQkF,IAAR,MACA5F,EACI,kCACA,CAACjT,QAAS,UArBtB,2DAjDsB,sBA2EtB,OAxDAgI,aAAgB,WACZgQ,EAAS,CAACzP,KAAM,WACjB,CAACyP,IAEJhQ,aAAgB,WACZ,IAAI8Q,GAAe,EACnB,GAAItX,EAmBJ,OAhBA,uCAAC,8BAAA8R,EAAA,+EAE4B6H,GAAe5Z,IAAIC,GAF/C,gBAEcC,EAFd,EAEcA,KACJqX,IACCgD,EAAcra,EAAKA,MACnBuI,EAAMvI,EAAKA,OALtB,gDAQOkS,QAAQ3V,MAAR,MACAiV,EACI,uDACA,CAACjT,QAAS,UAXrB,yDAAD,uDAgBO,WACH8Y,GAAe,KAEpB,CAACtX,EAAIwI,EAAOiJ,IA6BX,eAAC,GAAD,CAAayF,SAAUT,EAAaS,GAAWlC,cAAe,CAAEuC,GAAI,GAAIC,GAAI,GAA5E,UACI,cAAC9R,GAAA,EAAD,CACIqB,KAAK,OACLvD,MAAM,OACN0C,WAAS,EACT1H,QAAS,WACT2H,SAAUqQ,EACVhC,SAAUlL,EACV9M,WAAuB+H,IAAhBgR,EAAOxO,KACd0Q,WAAYlC,EAAOxO,MAAQwO,EAAOxO,KAAKqP,QACvCsB,gBAAiB,CAAEC,QAAQ,KAE/B,eAAC4C,GAAA,EAAD,CACInG,OAAQ,SACR5X,WAAuB+H,IAAhBgR,EAAOZ,KACdH,SAAUlL,EAHd,UAKI,cAACkR,GAAA,EAAD,CAAWjc,UAAU,SAArB,kBACA,eAACkc,GAAA,EAAD,CACI1T,KAAK,OACLd,SAAU,SAAClB,GACP4R,EAAS,OAAQxJ,SAASpI,EAAEjB,OAAOD,SAEvCA,MAAOgT,EAAM,QAAU,GAL3B,UAOI,cAACiB,GAAA,EAAD,CAAkBjU,MAAM,IAAIkU,QAAS,cAAC2C,GAAA,EAAD,CAAO9c,MAAO,YAAc4F,MAAM,YACvE,cAACsU,GAAA,EAAD,CAAkBjU,MAAM,IAAIkU,QAAS,cAAC2C,GAAA,EAAD,CAAO9c,MAAO,YAAc4F,MAAM,YAGvE+R,EAAOZ,MAAQ,cAACgG,GAAA,EAAD,CAAgB3a,GAAG,mBAAnB,SAAuCuV,EAAOZ,KAAKyB,aAG1E,cAAC,GAAD,CAAe3B,gBAAiBnL,EAASoL,WAAY,kBAAMkC,IAAUlE,MAAK,SAAAyF,GACrEA,GAAWjB,EAASR,IAAa,gBC1InC0B,GARE,SAACxb,GACd,OACI,cAAC,EAAD,CAAMsB,MAAO,0BAAb,SACI,cAAC,GAAD,OCLG0c,GAFG,IAAI3b,EAAaN,EAAW,UCaxCmS,GAAmC,CACrC,CACI/J,KAAM,KACNvD,MAAO,KACP0F,MAAO,MACP7J,QAAS,CACLkM,MAAM,EACNvK,QAAQ,IAGhB,CACI+F,KAAM,QACNvD,MAAO,YACP0F,MAAO,MACP7J,QAAS,CACL2B,QAAQ,IAGhB,CACI+F,KAAM,SACNvD,MAAO,aACP0F,MAAO,MACP7J,QAAS,CACLkM,MAAM,EACNvK,QAAQ,EACRiQ,iBAAkB,SAACpN,EAAOqN,EAAWC,GACjC,OAAOtN,EAAMuF,KAAI,SAAAvF,GAAK,OAAIA,EAAMkD,QAAMyL,KAAK,SAIvD,CACIzL,KAAM,aACNvD,MAAO,aACP0F,MAAO,MACP7J,QAAS,CACLkM,MAAM,EACNvK,QAAQ,EACRiQ,iBAAkB,SAACpN,EAAOqN,EAAWC,GACjC,OAAOtN,EAAMuF,KAAI,SAAAvF,GAAK,OAAIA,EAAMkD,QAAMyL,KAAK,SAIvD,CACIzL,KAAM,aACNvD,MAAO,YACP0F,MAAO,MACP7J,QAAS,CACL2B,QAAQ,EACRiQ,iBAFK,SAEYpN,EAAOqN,EAAWC,GAC/B,OAAO,+BAAOC,IAAOC,IAASxN,GAAQ,mBAIlD,CACIkD,KAAM,UACNvD,MAAO,cACP0F,MAAO,MACP7J,QAAS,CACL2B,QAAQ,EACRuK,MAAM,EACN0F,iBAAkB,SAACpN,EAAOqN,GACtB,OACI,cAACvT,EAAA,EAAD,CACIC,MAAO,YACPW,UAAW+S,IACXC,GAAE,kBAAaL,EAAUM,QAAQ,GAA/B,SAHN,SAKI,cAAC,KAAD,UAWlB5E,GAAqB,CAAC,GAAI,GAAI,IA+IrB5F,GA7ID,WAAO,IACVyK,EAAmBC,cAAnBD,gBACDE,EAAanL,UAAa,GAFhB,EAGQA,WAAwB,IAHhC,mBAGTvG,EAHS,KAGH2R,EAHG,KAIVtI,EAAU9C,aAAiBoK,IAC3BzB,EAAW3I,WALD,EAMgEqJ,KAAzEC,EANS,EAMTA,iBAAkBC,EANT,EAMSA,oBAAqBC,EAN9B,EAM8BA,aAAcC,EAN5C,EAM4CA,gBAN5C,EAQ8E9D,GAAU,CACpGjF,QAAS4J,GACTnM,aAfa,IAgBbuD,YAdY,GAeZ0E,sBACAuC,aALGjI,EARS,EAQTA,QAASkH,EARA,EAQAA,cAAeF,EARf,EAQeA,YAAaL,EAR5B,EAQ4BA,gBAAiBY,EAR7C,EAQ6CA,aAAcC,EAR3D,EAQ2DA,gBAQrEpK,EAAauJ,EAAgBK,EAAYnI,QAEzC8L,EAAUrL,cAAA,uCAAkB,yCAAAsL,EAAA,6DAAQ/L,EAAR,EAAQA,OAAQqF,EAAhB,EAAgBA,KAAMC,EAAtB,EAAsBA,SAAUE,EAAhC,EAAgCA,KAAMC,EAAtC,EAAsCA,IAAtC,kBAELoP,GAAU5I,KAA0B,CACrDnS,YAAa,CACTkG,SACAqF,OACAC,WACAE,OACAC,SARkB,gBAEnBvL,EAFmB,EAEnBA,KASJ0R,EAAWvC,UACVwC,EAAQ3R,EAAKA,MACbyO,EAAgBzO,EAAKgS,KAAKC,OACvBpC,GACCC,GAAoB,IAfF,mDAmB1BoC,QAAQ3V,MAAR,OACGoe,GAAUxI,mBAAV,MApBuB,mDAuB1BX,EACI,uDACA,CAACjT,QAAS,UAzBY,yDAAlB,sDA4Bb,CAACiT,EAAiB/C,EAAiBoB,EAAkBC,IA4DxD,OA1DAvJ,aAAgB,WAUZ,OATAmL,EAAWvC,SAAU,EACrByC,EAAQ,CACJ9L,OAAQzB,EACR8G,KAAM8C,EAAYnG,WAAWqD,KAC7BC,SAAU6C,EAAYnG,WAAWsD,SACjCE,KAAM2C,EAAY5C,MAAMC,KACxBC,IAAK0C,EAAY5C,MAAME,MAGpB,WACHmG,EAAWvC,SAAU,KAG1B,CACCyC,EACAvN,EACA4J,EAAYnG,WAAWqD,KACvB8C,EAAYnG,WAAWsD,SACvB6C,EAAY5C,QAwCZ,eAAC,IAAD,CAAkBrP,MAAOyN,GAAiBoH,GAAkB5P,OAAS,GAArE,UACI,cAAC,GAAD,CAAciP,KAAML,EAAkBM,YAtC9C,SAAoBiC,GAChB,GAAIA,EAAJ,CAIA,IAAMC,EAAMtC,EACP/P,KACAmJ,KAAI,SAAAvF,GAAK,OAAI5D,EAAK4D,EAAM0O,OAAOvS,MAC/BwS,KAAK,KACVoI,GACKnI,iBAAiB,CAACH,QAClBI,MAAK,SAAAC,GAIF,GAHAlB,EACI,qCAAmC,CAACjT,QAAS,YAE9CwR,EAAa/P,KAAKiB,SAAWgN,EAAYnG,WAAWsD,UAAY6C,EAAYnG,WAAWqD,KAAO,EAAE,CAC/F,IAAMA,EAAO8C,EAAYnG,WAAWqD,KAAO,EAC3CgD,EAAciB,WAAWjE,QAEzByG,EAAQ,CACJ9L,OAAQzB,EACR8G,KAAM8C,EAAYnG,WAAWqD,KAC7BC,SAAU6C,EAAYnG,WAAWsD,SACjCE,KAAM2C,EAAY5C,MAAMC,KACxBC,IAAK0C,EAAY5C,MAAME,SAIlCoH,OAAM,SAACpW,GACJ2V,QAAQ3V,MAAMA,GACdiV,EACI,8CAAyC,CAACjT,QAAS,kBA7B3DuR,GAAoB,MAqCpB,cAAC,GAAD,CACI7R,MAAM,wBACNgJ,QAASA,EACTjH,KAAMA,EACNqJ,QAASA,EACTrC,oBAtHW,IAuHX1J,IAAK4R,EACL9P,QAAS,CACLwT,YAAY,EACZrJ,WAAY,WACZlF,WAAY4J,EAAYnI,OACxBqF,KAAM8C,EAAYnG,WAAWqD,KAAO,EACpClD,YAAagG,EAAYnG,WAAWsD,SACpCuB,sBACAkG,MAAOrE,EACP4E,cAAe,kBACX,cAAC,GAAD,CAAmBrJ,YAAa,kBAAMoE,EAAckF,kBAExDC,eAAgB,SAAC1P,GAAD,OAAWuK,EAAcoF,aAAa3P,IACtD4P,aAAc,SAACrI,GAAD,OAAUgD,EAAciB,WAAWjE,IACjDsI,oBAAqB,SAACnE,GAAD,OAAanB,EAAckB,kBAAkBC,IAClEoE,mBAAoB,SAACnE,EAAuBC,GAAxB,OAA8CrB,EAAcwF,iBAAiBpE,EAAeC,IAChHoE,aAAc,SAACC,GAEX,OADA7D,EAAgB6D,IACT,UChNhBC,GAfE,WACb,OACI,eAAC,EAAD,CAAM7V,MAAO,qBAAb,UACI,cAACO,EAAA,EAAD,CAAK+M,IAAK,MAAOwI,cAAe,EAAhC,SACI,cAACC,EAAA,EAAD,CAAK/V,MAAM,qBAAkBN,MAAO,YAAasW,KAAK,QAAQ3V,UAAW+S,IAAMC,GAAG,iBAAlF,SACI,cAAC,IAAD,QAGR,cAAC9S,EAAA,EAAD,UACI,cAAC,GAAD,U,+BCXV1C,GAAYC,YAAW,CACzBiG,KAAM,CACFiH,MAAO,OACP2R,OAAQ,OACR/c,SAAU,QACVF,MAAO,OACPkd,aAAc,MACdnU,QAAS,OACTjE,WAAY,SACZqY,eAAgB,YAIlBC,GAAmB,CACrB,EAAK,UACL,GAAM,UACN,GAAM,UACN,GAAM,UACN,GAAM,UACN,GAAM,WAqBKC,GAduB,SAACre,GACnC,IAAMG,EAAUhB,KAChB,OACI,cAACsC,EAAA,EAAD,CACIC,UAAWvB,EAAQkF,KACnBpE,MAAO,CACH1B,gBAAiB6e,GAAiBpe,EAAMse,SAHhD,SAMKte,EAAMse,UC3BbC,GAAkC,CACpC,CAACtX,MAAO,IAAKkU,QAAS,cAAC2C,GAAA,EAAD,CAAO9c,MAAM,YAAa4F,MAAO,cAAC,GAAD,CAAQ0X,OAAQ,MAAQhD,eAAgB,OAC/F,CAACrU,MAAO,KAAMkU,QAAS,cAAC2C,GAAA,EAAD,CAAO9c,MAAM,YAAa4F,MAAO,cAAC,GAAD,CAAQ0X,OAAQ,OAAShD,eAAgB,OACjG,CAACrU,MAAO,KAAMkU,QAAS,cAAC2C,GAAA,EAAD,CAAO9c,MAAM,YAAa4F,MAAO,cAAC,GAAD,CAAQ0X,OAAQ,OAAShD,eAAgB,OACjG,CAACrU,MAAO,KAAMkU,QAAS,cAAC2C,GAAA,EAAD,CAAO9c,MAAM,YAAa4F,MAAO,cAAC,GAAD,CAAQ0X,OAAQ,OAAShD,eAAgB,OACjG,CAACrU,MAAO,KAAMkU,QAAS,cAAC2C,GAAA,EAAD,CAAO9c,MAAM,YAAa4F,MAAO,cAAC,GAAD,CAAQ0X,OAAQ,OAAShD,eAAgB,OACjG,CAACrU,MAAO,KAAMkU,QAAS,cAAC2C,GAAA,EAAD,CAAO9c,MAAM,YAAa4F,MAAO,cAAC,GAAD,CAAQ0X,OAAQ,OAAShD,eAAgB,QAGxFkD,GAA0C,SAACxe,GAAW,IACxDiH,EAAoCjH,EAApCiH,MAAO8S,EAA6B/Z,EAA7B+Z,SAAUna,EAAmBI,EAAnBJ,MAAOgY,EAAY5X,EAAZ4X,SAE/B,OACI,eAAC+F,GAAA,EAAD,yBACQ/d,WAAiB+H,IAAV/H,EACPgY,UAAuB,IAAbA,GACN5X,EAAMye,kBAHlB,cAKQ,cAACb,GAAA,EAAD,CAAWjc,UAAU,SAArB,iCACA,cAACE,EAAA,EAAD,CAAKC,WAAY,EAAjB,SACI,cAAC+b,GAAA,EAAD,CACI1T,KAAK,SACLd,SAAU,SAAClB,GACP4R,EAAS5R,EAAEjB,OAAOD,QAEtBA,MAAOA,EACPyX,KAAG,EANP,SASQH,GAAQ/R,KACJ,SAACxM,EAAOc,GAAR,OAAgB,cAACoa,GAAA,EAAD,eAAgClb,GAATc,UAKtDlB,GAAS,cAACme,GAAA,EAAD,UAAiBne,EAAM4Z,e,WCiBlCmF,GAlDG/U,IAAMgV,YAA+C,SAAC5e,EAAOW,GAAS,IAAD,EAC7Eke,EAAUC,mBADmE,EAEnDlN,mBAAS,IAF0C,mBAE5EmN,EAF4E,KAElEC,EAFkE,KAI7EC,EAA8B,yBAChCrd,QAAQ,YACL5B,EAAMkf,gBAFuB,IAGhClW,WAAW,2BAAD,QAAC,EAIJhJ,EAAMkf,sBAJH,aAIH,EAAsBlW,YAJnB,IAKNmW,UAAU,EACVC,aACI,cAACC,GAAA,EAAD,CAAgBC,SAAU,MAA1B,SACKtf,EAAMuf,eAIlBtY,MAAO8X,IAGNS,EAAc,2BACbxf,EAAMyf,gBADO,IAEhBC,QAAQ,EACR/e,IAAKke,EACLxV,SAJgB,SAIPrC,GACL,IAAM2Y,EAAQ3Y,EAAME,OAAOyY,MACxBA,EAAMrb,QACL0a,EAAYY,MAAMC,KAAKF,GAAOnT,KAAI,SAACsT,GAAD,OAAeA,EAAK3V,QAAMyL,KAAK,OAElE5V,EAAMyf,gBAAkBzf,EAAMyf,eAAepW,UAC5CrJ,EAAMyf,eAAepW,SAASrC,MAU1C,OALA+Y,8BAAoBpf,GAAK,iBAAO,CAC5Bqf,WAAY,kBAAMnB,EAAQrM,QAAQyN,SAClCC,MAAO,kBAAMlB,EAAY,SAIzB,qCACI,mCAAOjH,KAAK,QAAWyH,IACvB,cAAC1W,GAAA,EAAD,eAAemW,U,qBCxCdkB,GAAcvW,cAAyD,SAAC5J,EAAOW,GACxF,IAAMke,EAAUjV,WAERwW,EAA4CpgB,EAA5CogB,OAAQxZ,EAAoC5G,EAApC4G,MAAOmT,EAA6B/Z,EAA7B+Z,SAAUna,EAAmBI,EAAnBJ,MAAOgY,EAAY5X,EAAZ4X,SAMxC,OAJAhO,sBAA0BjJ,GAAK,iBAAO,CAClCuf,MAAO,kBAAMrB,EAAQrM,QAAQ0N,aAI7B,eAACvC,GAAA,EAAD,yBACQ/d,WAAiB+H,IAAV/H,EACPgY,UAAuB,IAAbA,EACVtO,WAAS,EACTkO,OAAQ,UACJxX,EAAMye,kBALlB,cAOQ,cAAC,GAAD,CACI9d,IAAKke,EACLK,eAAgB,CACZtY,MAAOA,EACPkU,gBAAiB,CAACC,QAAQ,GAC1B9Z,MAAM,CAAC1B,gBAAiB,YAE5BkgB,eAAgB,CACZW,SACA/W,SAFY,SAEHrC,GACL,IAAM2Y,EAAS3Y,EAAME,OAAOyY,MAC5BA,EAAMrb,QAAUyV,EAAS4F,EAAM,MAGvCJ,WACI,cAACxL,GAAA,EAAD,CACIsM,QAAS,cAAC,KAAD,IACTze,QAAS,YACTZ,MAAO,UACPG,QAAS,kBAAM0d,EAAQrM,QAAQwN,cAJnC,yBAUPpgB,GAAS,cAACme,GAAA,EAAD,UAAiBne,EAAM4Z,iB,0CCqDlC8G,GAlGW1W,cAAqE,SAAC5J,EAAOW,GAAS,IACrG4f,EAAuDvgB,EAAvDugB,kBADoG,EAC7CvgB,EAApC+H,oBADiF,MAClE,IADkE,EAC7DyY,EAAgBxgB,EAAhBwgB,aAD6D,EAEhDD,EAFgD,IAEpGE,gBAFoG,SAElFC,EAFkF,EAElFA,OAAQhN,EAF0E,EAE1EA,QAASiN,EAFiE,EAEjEA,cAFiE,EAGnF/W,YAAe,GAHoE,mBAGpG2J,EAHoG,KAG9FqN,EAH8F,OAIvEhX,WAAe,IAJwD,mBAIpGlC,EAJoG,KAIxFmZ,EAJwF,OAK7EnP,uBAAYhK,EAAYK,GAA/C+Y,EALoG,sBAM7ElX,YAAe,GAN8D,mBAMpG8C,EANoG,KAM3FqU,EAN2F,OAO7EnX,WAAe,IAP8D,mBAOpGnH,EAPoG,KAO3Fue,EAP2F,KASrG/B,EAA8B,aAChCzH,OAAQ,SACR5V,QAAS,WACT0H,WAAW,EACXwR,gBAAiB,CAACC,QAAQ,IACtB/a,EAAMkf,gBAAN,eAA4Blf,EAAMkf,iBAGpC+B,EAAwD,yBAC1DC,YAAa,gBACbC,cAAe,0BACXZ,GAAiB,eAAQA,IAH6B,IAI1DhN,OACA9Q,UACAiK,QAASA,EACT0U,WAAY1Z,EACZgZ,OAR0D,WAStDE,GAAQ,GACRF,GAAUA,KAEdhN,QAZ0D,WAatDkN,GAAQ,GACRlN,GAAWA,KAEfiN,cAhB0D,SAgB5C3Z,EAAOC,GACjB4Z,EAAc5Z,GACd0Z,GAAiBA,KAErBU,YAAY,SAAAne,GACR,OAAO,cAAC4F,GAAA,EAAD,uCACC5F,GACA+b,GAFD,IAGHjW,WAAU,2BACH9F,EAAO8F,YADJ,IAENoW,aACI,qCACK1S,GAAW,cAAC4U,GAAA,EAAD,CAAkBtgB,MAAO,UAAWsW,KAAM,KACrDpU,EAAO8F,WAAWoW,wBA+C3C,OAtCAxV,aAAgB,WACR2J,GAASkN,GACTO,EAAW,MAEhB,CAACzN,EAAMkN,IAEV7W,aAAgB,WACZ,GAAI2J,IAGuB,KAAxBuN,IAA8BL,GAAjC,CAIA,IAAI/F,GAAe,EAYnB,OAXA,sBAAC,4BAAAxF,EAAA,6DACC6L,GAAW,GADZ,kBAGsBP,EAAaM,GAHnC,OAGSzd,EAHT,OAIOqX,GACFsG,EAAW3d,GALhB,uBAQG0d,GAAW,GARd,sEAAD,GAWO,WACLrG,GAAe,MAElB,CAAC+F,EAAUK,EAAqBvN,EAAMiN,IAEzC5W,sBAA0BjJ,GAAK,iBAAO,CAClCuf,MAAO,WACHW,EAAc,IACdG,EAAW,SAKf,cAACO,GAAA,EAAD,eAAkBN,O,UC1GpB9hB,GAAYC,aAAW,SAACC,GAC1B,OAAOmiB,aAAa,CAChBnc,KAAM,CACF9F,gBAAiB,UACjB2e,aAAc,MACdjG,QAAS5Y,EAAMoY,QAAQ,EAAG,GAC1BzW,MAAO3B,EAAMG,QAAQiF,UAAU/E,WAc5B+hB,GAPmC,SAACzhB,GAC/C,IAAMG,EAAUhB,KAChB,OAAO,cAACmZ,GAAA,EAAD,yBAAMC,WAAS,EAACmJ,KAAK,OAAOhgB,UAAWvB,EAAQkF,MAAUrF,GAAzD,aACFA,EAAMS,a,qBCOAkhB,GAlB2C,SAAC3hB,GAAW,IAC3D4hB,EAAgC5hB,EAAhC4hB,SAAUnhB,EAAsBT,EAAtBS,SAAa4X,EADmC,aAC1BrY,EAD0B,yBAEjE,OACI,cAACsY,GAAA,EAAD,yBAAME,MAAI,GAAKH,GAAf,aACI,eAACC,GAAA,EAAD,CAAMC,WAAS,EAACzS,WAAY,SAAU2R,QAAS,EAA/C,UACI,cAACa,GAAA,EAAD,CAAME,MAAI,EAACmC,GAAI,EAAf,SACI,cAAC5Z,EAAA,EAAD,CAAYuW,KAAK,QAAQtW,MAAO,UAAWG,QAASygB,EAApD,SACI,cAAC,KAAD,QAGR,cAACtJ,GAAA,EAAD,CAAME,MAAI,EAACmC,GAAI,GAAIC,GAAI,GAAvB,SACKna,WCQNohB,GA1Bc,SAACC,EAAmBC,GAC7C,IAAMC,EAAWlN,cACjB,MAAO,CACHmN,QADG,SACKzJ,GACAA,GAAiB,KAATA,IAGGsJ,EAAWI,MAAK,SAAAC,GAAC,OAAIA,EAAE/e,KAAOoV,EAAKpV,MAE9C4e,EAASnN,gBAAgB,wBAAsB,CAACjT,QAAS,UAG7DkgB,EAAWM,QAAQ5J,GACnBuJ,EAAcD,MAElBO,WAbG,SAaQ7J,GACP,IAAM7C,EAAQmM,EAAWxL,WAAU,SAAA6L,GAAC,OAAIA,EAAE/e,KAAOoV,EAAKpV,OACxC,IAAXuS,IAGHmM,EAAWQ,OAAO3M,EAAO,GACzBoM,EAAcD,OCAXS,GAnBQ,WAAO,IACnB1N,EAAmBC,cAAnBD,gBACP,OAAO3D,sBAAW,uCAAC,WAAOsR,GAAP,iBAAAtN,EAAA,+EAEUsN,EAFV,uBAEJnf,EAFI,EAEJA,KAFI,kBAGJA,GAHI,sCAKXkS,QAAQkF,IAAR,MACIzY,IAAM+B,SAAN,OACA8Q,EACI,uDACA,CAACjT,QAAS,UATP,8DAAD,sDAcf,CAACiT,KClBD,SAAS4N,GAAsBC,EAAiBtI,GACnD,OAAOsI,EAAOte,QACV,SAAAgY,GAAK,OAAsE,IAAlEA,EAAMR,WAAWxX,QAAO,SAAAue,GAAG,OAAIA,EAAIvf,KAAOgX,EAAShX,MAAIkB,UCiBxE,I,GAAMnF,GAAYC,aAAW,SAACC,GAAD,MAAmB,CAC5CujB,eAAgB,CACZ5hB,MAAO6hB,KAAK,KACZ3hB,SAAU,cAiFH4hB,GAzEOlZ,cAA6D,SAAC5J,EAAOW,GAAS,IACzFib,EAAsD5b,EAAtD4b,WAAYD,EAA0C3b,EAA1C2b,cAAe+G,EAA2B1iB,EAA3B0iB,OAAQ9iB,EAAmBI,EAAnBJ,MAAOgY,EAAY5X,EAAZ4X,SAC3CzX,EAAUhB,KACV4jB,EAAmBR,KAHsE,EAIjEV,GAAqBjG,EAAYD,GAAxDsG,EAJwF,EAIxFA,QAASI,EAJ+E,EAI/EA,WACVW,EAAkBpZ,WAClBvK,EAAQmL,eAERgW,EAAgB5W,eAAkB,SAAClC,GACrC,OAAOqb,EACHxe,EACK6Q,KAAK,CACFnS,YAAa,CACTyf,OAAQA,EAAOlW,KAAI,SAAA4P,GAAK,OAAIA,EAAMhZ,MAAIwS,KAAK,KAAMjK,IAAK,OAGpEmK,MAAK,SAAAzS,GAAI,OAAIA,EAAKA,UACrB,CAAC0f,EAAkBL,IAMtB,OAJA9Y,sBAA0BjJ,GAAK,iBAAO,CAClCuf,MAAO,kBAAM8C,EAAgBxQ,QAAQ0N,aAIrC,qCACI,cAAC,GAAD,CACIvf,IAAKqiB,EACLxC,aAAcA,EACdD,kBAAmB,CAEf0C,eAAe,EACfC,kBAAmB,SAACC,EAAQlc,GAAT,OAAmBkc,EAAO/f,KAAO6D,EAAM7D,IAC1DggB,eAAgB,SAAAD,GAAM,OAAIA,EAAOhZ,MACjCd,SAAU,SAACrC,EAAOC,GAAR,OAAkBgb,EAAQhb,IACpC2Q,UAAuB,IAAbA,IAAsB8K,EAAOpe,QAE3C4a,eAAgB,CACZtY,MAAO,aACPhH,WAAiB+H,IAAV/H,KAGf,cAACme,GAAA,EAAD,CAAgB9c,MAAO,CAAEgd,OAAQ5e,EAAMoY,QAAQ,IAA/C,gEAGA,eAACkG,GAAA,EAAD,yBACInG,OAAQ,SACRlO,WAAS,EACT1J,WAAiB+H,IAAV/H,EACPgY,UAAuB,IAAbA,GACN5X,EAAMye,kBALd,cAOI,cAAC,GAAD,UAEQ7C,EAAWpP,KAAI,SAAC4N,EAAUtZ,GACtB,IAAMuiB,EAAqBZ,GAAsBC,EAAQtI,GACpD5N,KAAI,SAAA4P,GAAK,OAAIA,EAAMjS,QAAMyL,KAAK,KACnC,OACI,eAAC,GAAD,CAA4BgM,SAAU,kBAAMS,EAAWjI,IAAWO,GAAI,GAAtE,UACI,cAAClZ,EAAA,EAAD,CAAY6hB,QAAQ,EAApB,SAA2BlJ,EAASjQ,OACpC,eAAC1I,EAAA,EAAD,CAAY6hB,QAAQ,EAAM5hB,UAAWvB,EAAQyiB,eAA7C,yBAAuES,OAFpDviB,QASnClB,GAAS,cAACme,GAAA,EAAD,UAAiBne,EAAM4Z,oBCGrC+J,GA7EI3Z,cAAuD,SAAC5J,EAAOW,GAAS,IAChF+hB,EAAgE1iB,EAAhE0iB,OAAQc,EAAwDxjB,EAAxDwjB,UAAW5H,EAA6C5b,EAA7C4b,WAAYD,EAAiC3b,EAAjC2b,cAAc/b,EAAmBI,EAAnBJ,MAAOgY,EAAY5X,EAAZ4X,SACrDmL,EAAmBR,KAF6D,EAGxDV,GAAqBa,EAAQc,GAApDvB,EAH+E,EAG/EA,QAASI,EAHsE,EAGtEA,WACGoB,EAAkB5B,GAAqBjG,EAAYD,GAA/D0G,WACDW,EAAkBpZ,WAClBvK,EAAQmL,eAERgW,EAAe5W,eAAkB,SAAClC,GACpC,OAAOqb,EACHtH,GACKrG,KAAK,CACFnS,YAAa,CACTkG,OAAQzB,EAAYiE,IAAK,OAGvCmK,MAAK,SAAAzS,GAAI,OAAIA,EAAKA,UACrB,CAAC0f,IAMJ,OAJAnZ,sBAA0BjJ,GAAK,iBAAO,CAClCuf,MAAO,kBAAM8C,EAAgBxQ,QAAQ0N,aAIrC,qCACI,cAAC,GAAD,CACAvf,IAAKqiB,EACDxC,aAAcA,EACdD,kBAAmB,CAEf0C,eAAe,EACfxC,UAAU,EACVyC,kBAAmB,SAACC,EAAQlc,GAAT,OAAmBkc,EAAO/f,KAAO6D,EAAM7D,IAC1DggB,eAAgB,SAAAD,GAAM,OAAIA,EAAOhZ,MACjCd,SAAU,SAACrC,EAAOC,GAAR,OAAkBgb,EAAQhb,IACpC2Q,YAGJsH,eAAgB,CACZtY,MAAO,aACPhH,WAAiB+H,IAAV/H,KAGf,cAACme,GAAA,EAAD,CAAgB9c,MAAO,CAAEgd,OAAQ5e,EAAMoY,QAAQ,IAA/C,+CAGA,eAACkG,GAAA,EAAD,yBACInG,OAAQ,SACRlO,WAAS,EACT1J,WAAiB+H,IAAV/H,EACPgY,UAAuB,IAAbA,GACN5X,EAAMye,kBALd,cAOI,cAAC,GAAD,UAEQiE,EAAOlW,KAAI,SAAC4P,EAAOtb,GAAR,OACP,cAAC,GAAD,CAA4B8gB,SAAU,WACHhG,EAAWxX,QAAO,SAAAgW,GAE7C,OAAqC,IADVqI,GAAsBC,EAAQtI,GAC/B9V,QAAiBoe,EAAO,GAAGtf,KAAOgZ,EAAMhZ,MAE/CgJ,SAAQ,SAAAuW,GAAG,OAAIc,EAAed,MACrDN,EAAWjG,IACZzB,GAAI,GAPP,SAQI,cAAClZ,EAAA,EAAD,CAAY6hB,QAAQ,EAApB,SAA2BlH,EAAMjS,QARdrJ,QAc/BlB,GAAS,cAACme,GAAA,EAAD,UAAiBne,EAAM4Z,oBCRrCkK,GAjES9Z,IAAMgV,YAA2D,SAAC5e,EAAOW,GAAS,IAC/FgjB,EAAgD3jB,EAAhD2jB,YAAaC,EAAmC5jB,EAAnC4jB,eAAgBhkB,EAAmBI,EAAnBJ,MAAOgY,EAAY5X,EAAZ4X,SACrCmL,EAAmBR,KAF4E,EAGvEV,GAAqB8B,EAAaC,GAAzD3B,EAH8F,EAG9FA,QAASI,EAHqF,EAGrFA,WACVW,EAAkBlE,mBAElB0B,EAAetP,uBAAY,SAACxJ,GAC9B,OAAOqb,EACHhG,GACK3H,KAAK,CACFnS,YAAa,CACTkG,OAAQzB,EAAYiE,IAAK,OAGvCmK,MAAK,SAAAzS,GAAI,OAAIA,EAAKA,UACrB,CAAC0f,IAMJ,OAJAhD,8BAAoBpf,GAAK,iBAAO,CAC5Buf,MAAO,kBAAM8C,EAAgBxQ,QAAQ0N,aAIrC,qCACI,cAAC,GAAD,CACIvf,IAAKqiB,EACLxC,aAAcA,EACdD,kBAAmB,CAEf0C,eAAe,EACfxC,UAAU,EACVyC,kBAAmB,SAACC,EAAQlc,GAAT,OAAmBkc,EAAO/f,KAAO6D,EAAM7D,IAC1DggB,eAAgB,SAAAD,GAAM,OAAIA,EAAOhZ,MACjCd,SAAU,SAACrC,EAAOC,GAAR,OAAkBgb,EAAQhb,IACpC2Q,YAGJsH,eAAgB,CACZtY,MAAO,SACPhH,WAAiB+H,IAAV/H,KAGf,eAAC+d,GAAA,EAAD,yBACInG,OAAQ,SACRlO,WAAS,EACT1J,WAAiB+H,IAAV/H,EACPgY,UAAuB,IAAbA,GACN5X,EAAMye,kBALd,cAOI,cAAC,GAAD,UAEQkF,EAAYnX,KAAI,SAACiR,EAAY3c,GAAb,OACZ,cAAC,GAAD,CAA4B8gB,SAAU,kBAAMS,EAAW5E,IAAa9C,GAAI,EAAxE,SACI,cAAClZ,EAAA,EAAD,CAAY6hB,QAAQ,EAApB,SAA2B7F,EAAWtT,QADnBrJ,QAO/BlB,GAAS,cAACme,GAAA,EAAD,UAAiBne,EAAM4Z,oB,wOC3EnB1L,yBAWhC,CACG+V,UAAW,CAAC,WACZC,aAAc,CAAC,WACfC,eAAgB,CAAC,WACjBC,eAAgB,CAAC,aAfP3V,G,GAAAA,MAAOC,G,GAAAA,SAkBRC,GAAqC,CAC9C0V,QAAS,IAUEpV,GAPCC,yBAAoDP,IAAvC,qBACxBF,GAAM6V,YAQX,WAAgG,IAA7Etc,EAA4E,uDAApE2G,GAAe1N,EAAqD,uCAC3F,IAAIA,EAAOmO,QAAQ2Q,MAAMrb,OACrB,OAAOsD,EAGX,IAAM+N,EAAQwO,GAAgBvc,EAAO/G,EAAOmO,QAAQoV,MAAMhhB,IAC1D,IAAc,IAAXuS,GAAgB/N,EAAMqc,QAAQtO,GAAO0O,SAAW,EAC/C,OAAOzc,EAGX,IAAMqc,GAAqB,IAAXtO,EAAe/N,EAAMqc,QAAUlR,KAAOnL,EAAMqc,QAAS,CAACK,QAAS,CAAC,CAAC3O,EAAO,MAExF,MAAO,CACHsO,QAAQ,GAAD,oBACAA,GADA,CAEH,CACIG,MAAOvjB,EAAOmO,QAAQoV,MACtBC,SAAU,EACV1E,MAAO9e,EAAOmO,QAAQ2Q,MAAMnT,KAAI,SAAAsT,GAAI,MAAK,CACrCyE,UAAWzE,EAAKyE,UAChBxF,SAAUe,EAAKA,KAAK3V,KACpBka,SAAU,aA9BD,eAExBhW,GAAMmW,eAmCX,WAA2H,IAArG5c,EAAoG,uDAAvE2G,GAAe1N,EAAwD,uCAChHojB,EAAUrc,EAAMqc,QAAQ7f,QAAO,SAAAqgB,GAAM,OAAIA,EAAOL,MAAMhhB,KAAOvC,EAAOmO,QAAQ5L,MAClF,GAAG6gB,EAAQ3f,SAAWsD,EAAMqc,QAAQ3f,OAChC,OAAOsD,EAEX,MAAO,CACHqc,cA3CqB,eAGxB5V,GAAMqW,iBA4CX,WAA+H,IAAvG9c,EAAsG,uDAAzE2G,GAAe1N,EAA0D,uCACpH8jB,EAAU9jB,EAAOmO,QAAQoV,MAAMhhB,GAC/BmhB,EAAY1jB,EAAOmO,QAAQuV,UAFyF,EAGzFK,GAAuBhd,EAAO+c,EAASJ,GAAjEM,EAHmH,EAGnHA,YAAaC,EAHsG,EAGtGA,UAEpB,GAA0B,qBAAhBD,EACN,OAAOjd,EAGX,IAAM6c,EAAS7c,EAAMqc,QAAQY,GACvB/E,EAAO2E,EAAO9E,MAAMmF,GAE1B,GAAGhF,EAAKuE,WAAaxjB,EAAOmO,QAAQqV,SAChC,OAAOzc,EAGX,IAAMqc,EAAUlR,KAAOnL,EAAMqc,QAAP,eACjBY,EAAc,CACXE,OADW,SACJN,GACH,IAAM9E,EAAQ5M,KAAO0R,EAAO9E,MAAR,eACfmF,EAAY,CACTE,KAAK,2BAAKlF,GAAN,IAAYuE,SAAUxjB,EAAOmO,QAAQqV,cAG3CA,EAAWY,GAAwBtF,GACzC,OAAO,2BAAI8E,GAAX,IAAmBJ,WAAU1E,cAMzC,MAAO,CAACsE,cA9EiB,eAIxB5V,GAAM6W,kBA6EX,WAA+H,IAAvGtd,EAAsG,uDAAzE2G,GAAe1N,EAA0D,uCACpH8jB,EAAU9jB,EAAOmO,QAAQoV,MAAMhhB,GAC/BmhB,EAAY1jB,EAAOmO,QAAQuV,UAFyF,EAGzFK,GAAuBhd,EAAO+c,EAASJ,GAAjEM,EAHmH,EAGnHA,YAAaC,EAHsG,EAGtGA,UAEpB,GAA0B,qBAAhBD,EACN,OAAOjd,EAGX,IAAM6c,EAAS7c,EAAMqc,QAAQY,GACvB/E,EAAO2E,EAAO9E,MAAMmF,GAEpBb,EAAUlR,KAAOnL,EAAMqc,QAAP,eACjBY,EAAc,CACXlF,MAAM,eACDmF,EAAY,CACTE,KAAK,2BAAKlF,GAAN,IAAYlgB,MAAOiB,EAAOmO,QAAQpP,MAAOykB,SAAU,SAOvE,MAAO,CAACJ,cAxGiB,KA2G7B,SAASW,GAAuBhd,EAA4B+c,EAASJ,GACjE,IAAMM,EAAcV,GAAgBvc,EAAO+c,GAC3C,IAAoB,IAAjBE,EACC,MAAO,GAEX,IACMC,EAkBV,SAAuBnF,EAA2B4E,GAC9C,OAAO5E,EAAMrJ,WAAU,SAAAwJ,GAAI,OAAIA,EAAKyE,YAAcA,KAnBhCY,CADHvd,EAAMqc,QAAQY,GACUlF,MAAO4E,GAC9C,OAAsB,IAAfO,EAAmB,GAAK,CAACD,cAAaC,aAGjD,SAASG,GAAwBtF,GAC7B,IAAMyF,EAAazF,EAAMrb,OACzB,OAAI8gB,EAGgBzF,EAAMvG,QAAO,SAACiM,EAAKvF,GAAN,OAAeuF,EAAMvF,EAAKuE,WAAU,GAEhDe,EAJV,EAOf,SAASjB,GAAgBvc,EAA4BxE,GACjD,OAAOwE,EAAMqc,QAAQ3N,WAAU,SAACmO,GAAD,OAAYA,EAAOL,MAAMhhB,KAAOA,KCpJ5D,SAASkiB,GAAWC,GACvB,OAAwB,IAAjBA,EAAIlB,UAAkBzL,GAAS2M,GAGnC,SAAS3M,GAAS2M,GACrB,OAAGC,GAAaD,GACGA,EACD5F,MAAM8F,MAAK,SAAA3F,GAAI,OAAIA,EAAKlgB,cAGhB+H,IADT4d,EACD3lB,MAIb,SAAS4lB,GAAaD,GACzB,MAAO,UAAWA,ECVtB,IAAMpmB,GAAYC,aAAW,SAACC,GAAD,MAAmB,CAC5CqmB,YAAa,CACT1kB,MAAO3B,EAAMG,QAAQC,QAAQC,MAEjCimB,UAAW,CACP3kB,MAAO3B,EAAMG,QAAQI,MAAMF,MAE/BkmB,WAAY,CACR5kB,MAAO3B,EAAMG,QAAQM,QAAQJ,UASxBmmB,GAA4C,SAAC7lB,GAAW,IAC1DykB,EAAiBzkB,EAAjBykB,OAAQqB,EAAS9lB,EAAT8lB,MACT3lB,EAAUhB,KACVoS,EAAWwU,eACXnmB,EAAQgZ,GAAS6L,GAJyC,EAKxC7a,YAAe,GALyB,mBAKzDoc,EALyD,KAKnDC,EALmD,OAMxCvU,uBAAYsU,EAAM,MAAnCE,EANyD,oBAYhE,OAJAtc,aAAgB,WACZqc,EAAQX,GAAWb,MACpB,CAACA,IAGAyB,EACI,cAACC,GAAA,EAAD,CAAM1d,GAAIud,EAAMtd,QAAS,CAAE0d,MAAO,KAAlC,SACI,eAACC,GAAA,EAAD,WACI,uBAAM3G,OAAQoG,EAAd,UAE4B,IAApBrB,EAAOJ,WAAmBzkB,GACtB,cAACmB,EAAA,EAAD,CAAYW,UAAWvB,EAAQulB,YAAaY,KAAM,MAAlD,SACI,cAAC,KAAD,MAKR1mB,GACI,cAACmB,EAAA,EAAD,CAAYW,UAAWvB,EAAQwlB,UAAWW,KAAM,MAAhD,SACI,cAAC,KAAD,SAKhB,sBAAM5G,QAASoG,EAAf,SACI,cAAC/kB,EAAA,EAAD,CAAYW,UAAWvB,EAAQylB,WAAYU,KAAM,MAAOnlB,QAAS,kBAAMoQ,EAASjD,GAASwV,aAAa,CAAC1gB,GAAIqhB,EAAOL,MAAMhhB,OAAxH,SACI,cAAC,KAAD,aAKhB,MC5DNjE,GAAYC,aAAW,SAACC,GAAD,MAAmB,CAC5CknB,kBAAmB,CACfjH,SAAU,YAEdkH,mBAAoB,CAChBxlB,MAAO6hB,KAAK,MAEhBwB,SAAU,CACN/E,SAAU,WACVmH,KAAM,OAuBCC,GAfsC,SAAC1mB,GAAW,IACtD2mB,EAAsB3mB,EAAtB2mB,aAAcrP,EAAQtX,EAARsX,KACfnX,EAAUhB,KACVS,EAAQgZ,GAAS+N,GAEvB,OACI,cAACR,GAAA,EAAD,CAAM1d,GAAIke,EAAatC,SAAW,EAAG3b,QAAS,CAAE0d,MAAO,IAAKQ,KAAM,KAAlE,SACI,sBAAKllB,UAAWvB,EAAQomB,kBAAxB,UACI,cAACjF,GAAA,EAAD,CAAkB1f,QAAQ,SAASF,UAAWvB,EAAQqmB,mBAAoBvf,MAAO,IAAKqQ,KAAMA,IAC5F,cAACgK,GAAA,EAAD,CAAkB1f,QAAQ,SAASF,UAAWvB,EAAQkkB,SAAUpd,MAAOrH,EAAQ,EAA4B,IAAxB+mB,EAAatC,SAAgB/M,KAAMA,UCzBhInY,GAAYC,aAAW,SAACC,GAAD,MAAmB,CAC5CwnB,SAAU,CACN/kB,WAAY,MACZsV,cAAe,MACf6G,OAAQ,QAEZ6I,UAAW,CACP9lB,MAAO3B,EAAMG,QAAQI,MAAMF,KAC3BqnB,SAAU,QAEdC,aAAc,CACVC,WAAY,MACZ/c,YAAa,OACblJ,MAAO3B,EAAMG,QAAQ4H,KAAK3C,eAuCnByiB,GA/B+B,SAAClnB,GAAW,IAC/CykB,EAAUzkB,EAAVykB,OACDtkB,EAAUhB,KACVS,EAAQgZ,GAAS6L,GAH8B,EAInB7S,oBAAS,GAJU,mBAI9CuV,EAJ8C,KAInCC,EAJmC,KAMrD,OACI,qCACI,cAACja,GAAA,EAAD,CAASka,sBAAoB,EAACC,sBAAoB,EAAChmB,MAAO1B,EAAQ,mEAA+D,GAAI2nB,UAAW,OAAhJ,SACI,eAACC,GAAA,EAAD,CACI9lB,UAAWvB,EAAQ0mB,SACnBY,QAAM,EACNC,YAAa,kBAAMN,GAAa,IAChCO,aAAc,kBAAMP,GAAa,IAJrC,UAMI,cAACQ,GAAA,EAAD,CAAclmB,UAAWvB,EAAQ2mB,UAAjC,SACI,cAAC,KAAD,MAEJ,cAACe,GAAA,EAAD,CAAcnmB,UAAWvB,EAAQ6mB,aAAclnB,QAC3C,cAAC2B,EAAA,EAAD,CAAY6hB,QAAQ,EAAM1hB,QAAS,YAAaZ,MAAO,UAAvD,SAAmEyjB,EAAOL,MAAM9iB,UAGpF,cAAC,GAAD,CAAgBgW,KAAM,GAAIqP,aAAclC,IACxC,cAAC,GAAD,CAAcA,OAAQA,EAAQqB,MAAOqB,SAG7C,cAACW,GAAA,EAAD,CAASnmB,UAAU,WC5CzBxC,GAAYC,aAAW,SAACC,GAAD,MAAmB,CAC5C0oB,KAAM,CACFzb,MAAO,KAEX0b,eAAgB,CACZ/P,QAAS,mBACT1Y,gBAAiBF,EAAMG,QAAQM,QAAQJ,MAE3C4B,MAAO,CACH2mB,WAAY,OACZjnB,MAAO3B,EAAMG,QAAQM,QAAQ0E,cAEjC0jB,MAAO,CACHjB,WAAY,kBACZjmB,MAAO3B,EAAMG,QAAQM,QAAQ0E,cAEjC2jB,OAAQ,CACJ9X,UAAW,eACX+X,WAAY/oB,EAAMgpB,YAAYpmB,OAAO,YAAa,CAC9CqmB,SAAUjpB,EAAMgpB,YAAYC,SAASC,YAG7CC,WAAY,CACRnY,UAAW,iBACX+X,WAAY/oB,EAAMgpB,YAAYpmB,OAAO,YAAa,CAC9CqmB,SAAUjpB,EAAMgpB,YAAYC,SAASC,YAG7CnT,KAAM,CACFtT,WAAY,EACZsV,cAAe,OA+CRqR,GAxCQ7e,IAAMgV,YAAqC,SAAC5e,EAAOW,GAAQ,IACvEyC,EAAMpD,EAANoD,GACDjD,EAAUhB,KACTiC,EAAiB0T,cAAjB1T,cAHsE,EAI7CwQ,oBAAS,GAJoC,mBAItE8W,EAJsE,KAI5DC,EAJ4D,KAMvE1E,EAAU2E,cACZ,SAAChhB,GAAD,OAAWA,EAAM6c,OAAOR,WAGtB4E,EJxDH,SAAyB5E,GAC5B,OAAOA,EAAQ7f,QAAO,SAAAqgB,GAAM,OAAKa,GAAWb,MAASngB,OIuD7BwkB,CAAgB7E,GAExC,OACI,eAAC8E,GAAA,EAAD,CAAMpoB,IAAKA,EAAKe,UAAWvB,EAAQ4nB,KAAnC,UACI,eAACiB,GAAA,EAAD,CAAa7oB,QAAS,CAAGkF,KAAMlF,EAAQ6nB,gBAAvC,UACI,eAACvmB,EAAA,EAAD,CAAYG,QAAQ,YAAYF,UAAWvB,EAAQmB,MAAnD,+BACuBunB,EADvB,kBAGA,sBAAKnnB,UAAWvB,EAAQ+nB,MAAxB,UACI,cAACnnB,EAAA,EAAD,CAAYC,MAAO,UAAWG,QAAS,kBAAMwnB,GAAaD,IAAWhnB,UAAWunB,KAAW9oB,EAAQgoB,OAAT,eAAmBhoB,EAAQqoB,YAAcE,IAAnI,SACI,cAAC,KAAD,MAEJ,cAAC3nB,EAAA,EAAD,CAAYC,MAAO,UAAWG,QAAS,kBAAMC,EAAcgC,IAA3D,SACI,cAAC,IAAD,YAIZ,cAAC8lB,GAAA,EAAD,CAAUzgB,GAAIigB,EAAd,SACI,cAACS,GAAA,EAAD,CAAMznB,UAAWvB,EAAQiV,KAAzB,SAEQ6O,EAAQzX,KAAI,SAACiY,EAAQ3jB,GAAT,OACR,cAAC,GAAD,CAAsB2jB,OAAQA,GAAb3jB,gBCvDvC3B,GAAYC,aAAW,SAACC,GAAD,MAAmB,CAC5C+pB,WAAY,CACRlL,aAAc,MACd3e,gBAAiB,UACjBiY,OAAQnY,EAAMoY,QAAQ,EAAG,IAE7B4R,WAAY,CACRnL,aAAc,MACd3e,gBAAiB,WAErB+pB,kBAAmB,CACflS,cAAe/X,EAAMoY,QAAQ,GAAK,qBAmCpC8R,GAAarlB,OAAO2U,KAAKsE,IAElBrE,GAAO,WAChB,IAuCMC,EAzEuB,SAAAC,GAAgB,OAC7CpP,cAAA,uCACI,WAAMvG,GAAN,eAAA6R,EAAA,+EAEyB8D,EAAiBC,SAAS5V,EAAM,CACrD6V,YAAY,IAHhB,cAEU/U,EAFV,yBAMW,CACPA,SACAwU,OAAQ,KARZ,yDAWW,CACPxU,OAAQ,GACRwU,OAAQ,KAAOQ,MAAMC,QACjB,SAACC,EAAWC,GAAZ,yBAAC,eACED,GADH,kBAECC,EAAaC,KAAO,CACjBxB,KAAI,UAAEuB,EAAavB,YAAf,QAAuB,aAC3ByB,QAASF,EAAaE,aAG1B,MArBR,yDADJ,sDA2BI,CAACR,IA6CYS,CAvCQtJ,OAAaC,MAAM,CACxC9O,MAAO6O,OACFvJ,MAAM,aACN2G,WACAG,IAAI,KACT8b,YAAarZ,OACRvJ,MAAM,WACN2G,WACLkc,cAAetZ,OACVvJ,MAAM,wBACN2G,WACAK,IAAI,GACT0a,SAAUnY,OACL5C,WAAWK,IAAI,GACpB8U,OAAQvS,OACHvJ,MAAM,cACN8iB,KAAK,CACNlQ,QAAS,8EACTkQ,KAAM,SAACziB,EAAO0iB,GACV,QAAK1iB,GAGEA,EAAM2iB,OACT,SAAAC,GAAC,OAMiB,IALdA,EAAEjO,WAAWxX,QAAO,SAAAue,GAChB,IAAM/G,EAAa+N,EAAIG,OAAOlO,WAC9B,OACIA,GAAcA,EAAWpP,KAAI,SAAA+J,GAAC,OAAIA,EAAEnT,MAAIoN,SAASmS,EAAIvf,OAE1DkB,aAInBsX,WAAYzL,OAAYvJ,MAAM,cAAc2G,WAC5C+Q,OAAQnO,OACHvJ,MAAM,uBACN2G,cArCa,EA0C4EmM,aAAe,CAC7GX,WACAY,cAAe,CACX2E,YAAQ3W,EACR+a,OAAQ,GACR9G,WAAY,GACZmO,aAAc,GACdC,QAAQ,KAPRpQ,EA1Cc,EA0CdA,SAAUC,EA1CI,EA0CJA,aAAcC,EA1CV,EA0CUA,UAAWC,EA1CrB,EA0CqBA,SAAUpB,EA1C/B,EA0C+BA,OAAQ/M,EA1CvC,EA0CuCA,MAAOqO,EA1C9C,EA0C8CA,MAAOD,EA1CrD,EA0CqDA,QAASE,EA1C9D,EA0C8DA,UAWpFzB,GAAqByB,EAAUxB,YAAaC,GAE5C,IAAMxY,EAAUhB,KACT0V,EAAmBC,cAAnBD,gBACDrF,EAAUC,cACV8B,EAAWwU,eACV3iB,EAAM+W,cAAN/W,GA3De,EA4DIwG,WAA6B,MA5DjC,mBA4Dfwa,EA5De,KA4DR6F,EA5DQ,KA6DhBvd,EAAU9C,aAAiBoK,IAC3B3U,EAAQmL,eACR0f,EAAcxf,aAAcrL,EAAMsL,YAAYwf,GAAG,OACjDC,EAAgBxgB,WAChBygB,EAAWzgB,WACX0gB,EAAc1gB,WACd2gB,EAAa3gB,SACf4gB,qBAAUjB,GAAYA,GAAW/c,KAAI,kBAAM5C,mBAGzC6gB,EAAY7gB,eAAkB,SAACvG,GACjCa,OAAO2U,KAAK0R,EAAW/X,SAASpG,SAC5B,SAAAse,GAAK,OAAIH,EAAW/X,QAAQkY,GAAOlY,QAAQ0N,WAE/CkK,EAAc5X,QAAQ0N,QACtBmK,EAAS7X,QAAQ0N,QACjBoK,EAAY9X,QAAQ0N,QACpBtU,EAAMvI,KACP,CAACuI,EAAO2e,EAAYH,EAAeC,EAAUC,IA/E1B,SA2HPhQ,EA3HO,gFA2HtB,WAAwBC,EAAiBvT,GAAzC,qBAAAkO,EAAA,6DACU5R,EAAWmJ,gBACb8N,EADiB,uBACHgP,IADG,CACS,SAAU,aAAc,mBAG9C,gBAAsBhP,EAAQ,aAAiB/N,KAAI,SAACme,GAAD,OAAiBA,EAAYvnB,MACxFE,EAAQ,cAAoBiX,EAAQ,WAAe/N,KAAI,SAAC4N,GAAD,OAAcA,EAAShX,MAC9EE,EAAQ,UAAgBiX,EAAQ,OAAW/N,KAAI,SAAC4P,GAAD,OAAWA,EAAMhZ,MAPpE,SAUcd,EAAQ8hB,EAERpG,GAAUjL,OAAOqR,EAAMhhB,GAAIE,GAD3B0a,GAAU/b,OAAOqB,GAX/B,SAc+BhB,EAd/B,gBAcgBe,EAdhB,EAcgBA,KACRwR,EAAgB,2BAA4B,CAACjT,QAAS,YACtDgpB,EAAYvnB,EAAKA,MACjBD,GAAMqnB,EAAUrG,GAChB5J,YAAW,WACPxT,GAAU5D,GAAMoM,EAAQ6C,KAAR,kBAAwBhP,EAAKA,KAAKD,GAAlC,UAAgDoM,EAAQ6C,KAAK,cAnBzF,kDAsBQkD,QAAQkF,IAAR,MACA5F,EAAgB,wBAAyB,CAACjT,QAAS,UAvB3D,2DA3HsB,sBAsJtB,SAASgpB,EAAYxG,GACjB,IAAMzE,EAAoB4J,GACrBnlB,QAAO,SAAAmgB,GAAS,OAAIzK,IAAYyK,MAChC/X,KAAI,SAAA+X,GAAS,MAAK,CAACA,YAAWzE,KAAMhG,IAAYyK,OAE7C5E,EAAMrb,SAIdiN,EAASjD,GAASuV,UAAU,CAACO,QAAOzE,WAEpC9K,EAAgB,GAAI,CAChB/T,IAAK,kBACL+pB,SAAS,EACTvqB,aAAc,CACVE,SAAU,SACVD,WAAY,SAEhBuqB,QAAS,SAAChqB,EAAK0Y,GACX,IAAMpW,EAAKtC,EACX,OAAO,cAAC,GAAD,CAAgBsC,GAAIA,QAKvC,OA9FAwG,aAAgB,WACZ,CAAC,SAAU,SAAU,SAAU,aAAc,gBAA7C,oBAAgE2f,KAAYnd,SAAQ,SAAAjC,GAAI,OAAIyP,EAAS,CAACzP,cACvG,CAACyP,IAEJhQ,aAAgB,WAaZ,GAZAiL,EAAgB,GAAI,CAChB/T,IAAK,kBACL+pB,SAAS,EACTvqB,aAAc,CACVE,SAAU,SACVD,WAAY,SAEhBuqB,QAAS,SAAChqB,EAAK0Y,GACX,IAAMpW,EAAKtC,EACX,OAAO,cAAC,GAAD,CAAgBsC,GAAIA,OAG/BA,EAAJ,CAGA,IAAIsX,GAAe,EAiBnB,OAhBA,sBAAC,8BAAAxF,EAAA,+EAE4B8I,GAAU7a,IAAIC,GAF1C,gBAEcC,EAFd,EAEcA,KACJqX,IACCuP,EAAS5mB,EAAKA,MACdonB,EAAUpnB,EAAKA,OAL1B,gDAQOkS,QAAQ3V,MAAR,MACAiV,EACI,uDACA,CAACjT,QAAS,UAXrB,wDAAD,GAgBO,WACH8Y,GAAe,MAEpB,CAACtX,EAAIqnB,EAAW5V,IAuDf,eAAC,GAAD,CAAayF,SAAUT,EAAaS,GAAWlC,cAAe,CAAEuC,GAAI,IAApE,UACI,eAACrC,GAAA,EAAD,CAAMC,WAAS,EAACd,QAAS,EAAzB,UACI,eAACa,GAAA,EAAD,CAAME,MAAI,EAACmC,GAAI,GAAIC,GAAI,EAAvB,UACI,cAAC9R,GAAA,EAAD,CACIqB,KAAK,QACLvD,MAAM,YACN0C,WAAS,EACT1H,QAAS,WACT2H,SAAUqQ,EACVhC,SAAUlL,EACV9M,WAAwB+H,IAAjBgR,EAAOrX,MACduZ,WAAYlC,EAAOrX,OAASqX,EAAOrX,MAAMkY,QACzCsB,gBAAiB,CAAEC,QAAO,KAE9B,cAACjS,GAAA,EAAD,CACIqB,KAAK,cACLvD,MAAM,UACNoU,WAAS,EACTC,KAAK,IACL3R,WAAS,EACT1H,QAAQ,WACR4V,OAAO,SACPjO,SAAUqQ,EACVhC,SAAUlL,EACVoO,gBAAiB,CAAEC,QAAO,GAC1Bnb,WAA8B+H,IAAvBgR,EAAO6Q,YACd3O,WAAYlC,EAAO6Q,aAAe7Q,EAAO6Q,YAAYhQ,UAEzD,eAAClB,GAAA,EAAD,CAAMC,WAAS,EAACd,QAAS,EAAzB,UACI,cAACa,GAAA,EAAD,CAAME,MAAI,EAACmC,GAAI,EAAf,SACI,cAAC7R,GAAA,EAAD,CACIqB,KAAK,gBACLvD,MAAM,uBACNmR,KAAK,SACLzO,WAAS,EACT1H,QAAQ,WACR4V,OAAO,SACPjO,SAAUqQ,EACVhC,SAAUlL,EACVoO,gBAAiB,CAAEC,QAAO,GAC1Bnb,WAAgC+H,IAAzBgR,EAAO8Q,cACd5O,WAAYlC,EAAO8Q,eAAiB9Q,EAAO8Q,cAAcjQ,YAGjE,cAAClB,GAAA,EAAD,CAAME,MAAI,EAACmC,GAAI,EAAf,SACI,cAAC7R,GAAA,EAAD,CACIqB,KAAK,WACLvD,MAAM,gBACNmR,KAAK,SACLzO,WAAS,EACT1H,QAAQ,WACR4V,OAAO,SACPjO,SAAUqQ,EACVhC,SAAUlL,EACVoO,gBAAiB,CAAEC,QAAO,GAC1Bnb,WAA2B+H,IAApBgR,EAAO2P,SACdzN,WAAYlC,EAAO2P,UAAY3P,EAAO2P,SAAS9O,eAI3D,cAAC,GAAD,CACI7Y,IAAKypB,EACLzG,YAAa1J,EAAM,gBACnB2J,eAAgB,SAAC3c,GAAD,OAAW8S,EAAS,eAAgB9S,EAAO,CAAE8jB,gBAAgB,KAC7EnrB,MAAO+Y,EAAOoR,aACdnS,SAAUlL,IAEd,eAAC4L,GAAA,EAAD,CAAMC,WAAS,EAACd,QAAS,EAAzB,UACI,cAACa,GAAA,EAAD,CAAME,MAAI,EAACoC,GAAI,EAAGD,GAAI,GAAtB,SACI,cAAC,GAAD,CACI+H,OAAQzI,EAAM,UACduJ,UAAW,SAACvc,GAAD,OAAW8S,EAAS,SAAU9S,EAAO,CAAE8jB,gBAAgB,KAClEnP,WAAY3B,EAAM,cAClB0B,cAAe,SAAC1U,GAAD,OAAW8S,EAAS,aAAc9S,EAAO,CAAE8jB,gBAAgB,KAC1EnrB,MAAO+Y,EAAO+J,OACd9K,SAAUlL,MAGlB,cAAC4L,GAAA,EAAD,CAAME,MAAI,EAACoC,GAAI,EAAGD,GAAI,GAAtB,SACI,cAAC,GAAD,CACIiB,WAAY3B,EAAM,cAClB0B,cAAe,SAAC1U,GAAD,OAAW8S,EAAS,aAAc9S,EAAO,CAAE8jB,gBAAgB,KAC1ErI,OAAQzI,EAAM,UACdra,MAAO+Y,EAAOiD,WACdhE,SAAUlL,YAK1B,eAAC4L,GAAA,EAAD,CAAME,MAAI,EAACmC,GAAI,GAAIC,GAAI,EAAvB,UACI,cAAC,GAAD,CACI3T,MAAOgT,EAAM,UACbF,SAAU,SAAC9S,GAAD,OAAW8S,EAAS,SAAU9S,EAAO,CAAE8jB,gBAAgB,KACjEnrB,MAAO+Y,EAAO2F,OACd1G,SAAUlL,EACV+R,iBAAkB,CACdjH,OAAQ0S,EAAc,OAAS,YAGvC,cAACnB,GAAA,EAAD,CAAMrnB,UAAWvB,EAAQipB,WAAzB,SACI,eAAC4B,GAAA,EAAD,WACI,cAACvpB,EAAA,EAAD,CAAYT,MAAM,UAAUY,QAAQ,KAApC,qBAGA,cAACue,GAAD,CACIxf,IAAK4pB,EAAW/X,QAAX,WACL4N,OAAQ,UACRxZ,MAAO,QACPmT,SAAU,SAAC9S,GAAD,OAAW8S,EAAS,aAAc9S,MAEhD,cAACkZ,GAAD,CACIxf,IAAK4pB,EAAW/X,QAAX,YACL4N,OAAQ,UACRxZ,MAAO,SACPmT,SAAU,SAAC9S,GAAD,OAAW8S,EAAS,cAAe9S,WAIzD,cAAC8hB,GAAA,EAAD,CAAMrnB,UAAWvB,EAAQipB,WAAzB,SACK,eAAC4B,GAAA,EAAD,WACI,cAACvpB,EAAA,EAAD,CAAYT,MAAM,UAAUY,QAAQ,KAApC,uBAGD,cAACue,GAAD,CACIxf,IAAK4pB,EAAW/X,QAAX,aACL4N,OAAQ,YACRxZ,MAAO,UACPmT,SAAU,SAAC9S,GAAD,OAAW8S,EAAS,eAAgB9S,MAElD,cAACkZ,GAAD,CACIxf,IAAK4pB,EAAW/X,QAAX,WACL4N,OAAQ,YACRxZ,MAAO,YACPmT,SAAU,SAAC9S,GAAD,OAAW8S,EAAS,aAAc9S,WAIxD,cAACiU,GAAA,EAAD,CACIC,QACI,cAACC,GAAA,EAAD,CACIjR,KAAK,SACLnJ,MAAO,UACPqI,SACI,kBAAM0Q,EAAS,UAAoBD,IAAS,SAEhDuB,QAASpB,EAAM,UACfrC,SAAUlL,IAGlB9F,MACI,cAACnF,EAAA,EAAD,CAAYT,MAAM,UAAUY,QAAS,YAArC,iFAIJ0Z,eAAe,cAI3B,cAAC,GAAD,CAAezD,gBAAiBnL,EAASoL,WAAY,kBAAMkC,IAAUlE,MAAK,SAAAyF,GACtEA,GAAWjB,EAASR,IAAa,gBC1YlC0B,GATS,WAAO,IACpBpY,EAAM+W,cAAN/W,GACP,OACI,cAAC,EAAD,CAAM9B,MAAQ8B,EAAqB,kBAAhB,iBAAnB,SACI,cAAC,GAAD,OCKG6nB,GARG,SAACjrB,GACf,OACI,cAAC,EAAD,CAAMsB,MAAM,e,iCCOdnC,I,OAAYC,aAAW,SAACC,GAC1B,MAAO,CACHqmB,YAAa,CACT1kB,MAAO3B,EAAMG,QAAQC,QAAQC,KAC7BunB,WAAY5nB,EAAMoY,QAAQ,IAE9BkO,UAAW,CACP3kB,MAAO3B,EAAMG,QAAQI,MAAMF,KAC3BunB,WAAY5nB,EAAMoY,QAAQ,IAE9ByT,QAAS,CACLjN,OAAQ,OACRgJ,WAAY5nB,EAAMoY,QAAQ,GAC1BvN,YAAa7K,EAAMoY,QAAQ,SAmDxBoO,GA1CmC,SAAC7lB,GAAW,IACnD2mB,EAAgB3mB,EAAhB2mB,aACDxmB,EAAUhB,KACVoS,EAAWwU,eAHwC,EAIjCnU,oBAAS,GAJwB,mBAIlDoU,EAJkD,KAI5CC,EAJ4C,OAKjCvU,uBAAYsU,EAAM,MAAnCE,EALkD,oBAMnDtmB,EAAQgZ,GAAS+N,GACjBhC,EAAWgC,EAAqBvC,MAAMhhB,GAAMujB,EAAqBvC,MAAMhhB,GAAK,GAC5E+nB,EAAgB3F,GAAamB,GAMnC,OAJA/c,IAAMmI,WAAU,WACZkU,EAAQX,GAAWqB,MACpB,CAACA,IAGAT,EACI,cAACC,GAAA,EAAD,CAAM1d,GAAIud,EAAMtd,QAAS,CAAE0d,MAAO,KAAlC,SACI,qCAEkC,IAA1BO,EAAatC,WAAmBzkB,GAChC,cAAC,KAAD,CAAiB8B,UAAWvB,EAAQulB,cAEtC9lB,GAAS,cAAC,KAAD,CAAW8B,UAAWvB,EAAQwlB,YACvCwF,GACE,qCACI,cAACrD,GAAA,EAAD,CAASpmB,UAAWvB,EAAQ+qB,QAASE,YAAa,aAClD,cAACrqB,EAAA,EAAD,CACII,QAAS,kBAAMoQ,EAASjD,GAASwV,aAAa,CAAC1gB,GAAIuhB,MADvD,SAGI,cAAC,KAAD,CAAY3jB,MAAO,cAEvB,cAACD,EAAA,EAAD,CAAYY,UAAW+S,IAAMC,GAAE,kBAAagQ,EAAb,SAA/B,SACI,cAAC,KAAD,CAAU3jB,MAAO,sBAMrC,MClEN7B,GAAYC,aAAW,SAACC,GAC1B,MAAO,CACHgsB,UAAW,CACPthB,QAAS,OACT/I,MAAO,WAEXuE,KAAM,CACFvE,MAAO3B,EAAMG,QAAQI,MAAMF,KAC3BqnB,SAAU,YAoCPG,GA3B+B,SAAClnB,GAAW,IAC/C2mB,EAAgB3mB,EAAhB2mB,aACDxmB,EAAUhB,KAOhB,OACI,cAACqoB,GAAA,EAAD,UACI,eAAClP,GAAA,EAAD,CAAMC,WAAS,EAACzS,WAAY,SAA5B,UACI,eAACwS,GAAA,EAAD,CAAM5W,UAAWvB,EAAQkrB,UAAW7S,MAAI,EAACmC,GAAI,GAAIC,GAAI,EAArD,UAPG,cAAC,KAAD,CAAWlZ,UAAWvB,EAAQoF,OAS7B,cAAC9D,EAAA,EAAD,CAAYT,MAAO,UAAnB,SAA+BhB,EAAMS,cAEzC,cAAC6X,GAAA,EAAD,CAAME,MAAI,EAACmC,GAAI,GAAIC,GAAI,EAAvB,SACI,eAACtC,GAAA,EAAD,CAAMC,WAAS,EAAC1F,UAAW,MAAO/M,WAAY,SAAUwlB,QAAS,WAAjE,UACI,cAAC,GAAD,CAAgBhU,KAAM,GAAIqP,aAAcA,IACxC,cAAC,GAAD,CAAcA,aAAcA,eCnC9CxnB,GAAYC,aAAW,SAACC,GAC1B,MAAO,CACHksB,aAAc,CACVhsB,gBAAiBF,EAAMG,QAAQM,QAAQJ,KACvCsB,MAAO3B,EAAMG,QAAQM,QAAQ0E,cAEjCgnB,aAAc,CACVxqB,MAAO3B,EAAMG,QAAQM,QAAQ0E,kBCsG1BinB,GArGe,CAC1B,CACIthB,KAAM,YACNvD,MAAO,YACP2S,KAAM,IACN5X,UAAWspB,GACXS,OAAO,GAEX,CACIvhB,KAAM,kBACNvD,MAAO,oBACP2S,KAAM,cACN5X,UAAWgqB,GACXD,OAAO,GAEX,CACIvhB,KAAM,oBACNvD,MAAO,kBACP2S,KAAM,qBACN5X,UAAWiqB,GACXF,OAAO,GAEX,CACIvhB,KAAM,kBACNvD,MAAO,mBACP2S,KAAM,uBACN5X,UAAWiqB,GACXF,OAAO,GAEX,CACIvhB,KAAM,cACNvD,MAAO,oBACP2S,KAAM,UACN5X,UAAWkqB,GACXH,OAAO,GAEX,CACIvhB,KAAM,gBACNvD,MAAO,kBACP2S,KAAM,iBACN5X,UAAWmqB,GACXJ,OAAO,GAEX,CACIvhB,KAAM,cACNvD,MAAO,mBACP2S,KAAM,mBACN5X,UAAWmqB,GACXJ,OAAO,GAEX,CACIvhB,KAAM,oBACNvD,MAAO,2BACP2S,KAAM,gBACN5X,UAAWoqB,GACXL,OAAO,GAEX,CACIvhB,KAAM,sBACNvD,MAAO,yBACP2S,KAAM,uBACN5X,UAAWqqB,GACXN,OAAO,GAEX,CACIvhB,KAAM,oBACNvD,MAAO,0BACP2S,KAAM,yBACN5X,UAAWqqB,GACXN,OAAO,GAEX,CACIvhB,KAAM,cACNvD,MAAO,mBACP2S,KAAM,UACN5X,UAAWsqB,GACXP,OAAO,GAEX,CACIvhB,KAAM,gBACNvD,MAAO,kBACP2S,KAAM,iBACN5X,UAAWuqB,GACXR,OAAO,GAEX,CACIvhB,KAAM,cACNvD,MAAO,kBACP2S,KAAM,mBACN5X,UAAWuqB,GACXR,OAAO,GAEX,CACIvhB,KAAM,UACNvD,MAAO,UACP2S,KAAM,WACN5X,UD5FQ,WACZ,IAAMxB,EAAUhB,KACV8kB,EAAU2E,cACZ,SAAChhB,GAAD,OAAWA,EAAM6c,OAAOR,WAG5B,OACI,cAAC,EAAD,CAAM3iB,MAAO,SAAb,SAEQ2iB,EAAQzX,KAAI,SAACiY,EAAQ3jB,GAAT,OACR,cAACioB,GAAA,EAAD,CAAMoD,UAAW,EAAjB,SACI,eAACnB,GAAA,EAAD,WACI,cAAC,GAAD,CAAYrE,aAAclC,EAA1B,SACKA,EAAOL,MAAM9iB,QAElB,eAAC8qB,GAAA,EAAD,CAAgBnrB,MAAO,CAAEuW,OAAQ,GAAjC,UACI,cAAC6U,GAAA,EAAD,CACI3qB,UAAWvB,EAAQorB,aACnBe,WAAY,cAAC,KAAD,CAAgB5qB,UAAWvB,EAAQqrB,eAFnD,SAII,cAAC/pB,EAAA,EAAD,6BAEJ,cAAC8qB,GAAA,EAAD,CAAuBtrB,MAAO,CAAEgX,QAAS,OAAzC,SACI,cAACK,GAAA,EAAD,CAAME,MAAI,EAACmC,GAAI,GAAf,SACI,cAACwO,GAAA,EAAD,CAAMqD,OAAO,EAAMvrB,MAAO,CAAGgX,QAAS,OAAtC,SAEQwM,EAAO9E,MAAMnT,KAAI,SAACsT,EAAMhf,GAAP,OACb,eAAC,IAAM2rB,SAAP,WACI,cAAC3E,GAAA,EAAD,IACA,cAAC,GAAD,CAAYnB,aAAc7G,EAA1B,mBACQ3C,GAAmB2C,EAAKyE,WADhC,cACgDzE,EAAKf,cAHpCje,mBAjB5BA,SCmFrC4qB,OAAO,I,qBCvGTgB,GAA6C,GACnDjB,GAAOrf,SAAS,SAAAugB,GAAK,OAAID,GAAkBC,EAAMpT,MAAkBoT,EAAM/lB,SAEzE,IAAMzH,GAAYC,aAAW,SAACC,GAAD,MAAmB,CAC9CutB,WAAY,CACV5rB,MAAO3B,EAAMG,QAAQiF,UAAU/E,KAC/B,oBAAqB,CACnBsB,MAAO3B,EAAMG,QAAQiF,UAAU/E,MAEjC,UAAW,CACTsB,MAAO3B,EAAMG,QAAQiF,UAAUC,WAU/BmoB,GAAa,SAAC7sB,GAAD,OAA4B,cAAC0U,EAAA,EAAD,2BAAU1U,GAAV,IAAiB2B,UAAWmrB,QAE5D,SAASC,KACtB,IAAM5sB,EAAUhB,KAgChB,OACI,cAACqC,EAAA,EAAD,UACE,cAACK,EAAA,EAAD,CAAKuV,cAAe,EAAGtV,WAAY,EAAnC,SACE,cAAC,IAAD,UAEI,mBAnCZ,SAAwB4N,GACtB,IAAMsd,EAAYtd,EAASI,SAAS+L,MAAM,KAAKzX,QAAO,SAAC6oB,GAAD,OAAOA,KAE7D,OADAD,EAAU5K,QAAQ,KAEhB,cAAC,IAAD,CAAgB8K,aAAW,aAA3B,SAEIF,EAAUxgB,KAAI,SAACvF,EAAO0O,GACpB,IAAMwX,EAAOxX,IAAUqX,EAAU1oB,OAAS,EACpCqQ,EAAE,UAAMqY,EAAUI,MAAM,EAAGzX,EAAQ,GAAGC,KAAK,KAAK5D,QAAQ,KAAM,MAC9D2a,EAAQzoB,OAAO2U,KAAK6T,IAAmBxK,MAAK,SAAA3I,GAAI,OAAI,IAAI8T,KAAY9T,GAAM+T,MAAM3Y,MAEtF,YAAahN,IAAVglB,IAIIQ,EACL,cAAC1rB,EAAA,EAAD,CAAYT,MAAM,cAAlB,SACG0rB,GAAkBC,IADgBhY,GAIrC,cAAC,GAAD,CAAY3T,MAAM,UAAU2T,GAAIA,EAAajT,UAAWvB,EAAQysB,WAAhE,SACGF,GAAkBC,IADoBhY,SAeH4Y,CAAtC,EAAE7d,iB,wDCjEV8d,GAAa,CACf,UAAa,YACb,kBAAmB,aACnB,cAAe,aACf,oBAAqB,oBACrB,cAAe,YACf,QAAW,WAETC,GAAahC,GAAOrnB,QAAO,SAAAuoB,GAAK,OAAIzoB,OAAO2U,KAAK2U,IAAYhd,SAASmc,EAAMxiB,SAEpEujB,GAAO,WAAO,IAAD,EAGU9jB,WAAe,MAHzB,mBAGf+jB,EAHe,KAGLC,EAHK,KAIhBra,EAAOsa,QAAQF,GAGfna,EAAc,kBAAMoa,EAAY,OACtC,OACI,eAAC,WAAD,WACI,cAAC7sB,EAAA,EAAD,CAAYC,MAAM,UAAUslB,KAAK,QAAQ4G,aAAW,cAAcY,gBAAc,cAAcC,gBAAc,OAAO5sB,QAJxG,SAAC6F,GAAD,OAAe4mB,EAAY5mB,EAAMgnB,gBAI5C,SACI,cAAC,KAAD,MAEJ,cAAC,KAAD,CACI5qB,GAAG,cACHmQ,KAAMA,EACNoa,SAAUA,EACVja,QAASF,EACTlT,aAAc,CAAEE,SAAU,SAAUD,WAAY,UAChD0tB,gBAAiB,CAAEztB,SAAU,MAAOD,WAAY,UAChD2tB,mBAAoB,KAPxB,SAUQhqB,OAAO2U,KAAK2U,IAAYhhB,KACpB,SAAC2hB,EAAWrtB,GACR,IAAM6rB,EAAQc,GAAWvL,MAAK,SAAAyK,GAAK,OAAEA,EAAMxiB,OAASgkB,KACpD,OACI,cAACtR,GAAA,EAAD,CAAoBlb,UAAW+S,IAAMC,GAAIgY,EAAMpT,KAAgBpY,QAASqS,EAAxE,SAAsFmZ,EAAM/lB,OAA7E9F,YCrCzC3B,GAAYC,aAAW,SAACC,GAAD,MAAmB,CAC5C6J,QAAS,CACL3J,gBAAiB,WAErB+B,MAAO,CACH8sB,SAAU,EACVC,UAAW,UAEfC,KAAK,aACDhiB,MAAO,KACNjN,EAAMsL,YAAYwf,GAAG,MAAQ,CAC1B7d,MAAO,UAKNiiB,GAAmB,WAC5B,IAAMpuB,EAAUhB,KAEhB,OACI,cAACqvB,GAAA,EAAD,UACI,eAACC,GAAA,EAAD,CAAS/sB,UAAWvB,EAAQ+I,QAA5B,UACI,cAAC,GAAD,IACA,cAACzH,EAAA,EAAD,CAAYC,UAAWvB,EAAQmB,MAA/B,SACI,qBAAKotB,IC9BV,i+ID8BqBC,IAAI,WAAWjtB,UAAWvB,EAAQmuB,SAEtD,cAACva,GAAA,EAAD,CAAQ/S,MAAM,UAAd,yBEVD4tB,GAnBU,WACrB,OACI,cAAC,IAAD,UAEQnD,GAAOjf,KACH,SAACmgB,EAAO7rB,GAAR,OACI,cAAC,IAAD,CAEIyY,KAAMoT,EAAMpT,KACZ5X,UAAWgrB,EAAMhrB,UACjB+pB,OAAuB,IAAhBiB,EAAMjB,OAHR5qB,S,WCNjC,SAAS+tB,GAAexvB,GACpB,OAAO,2BACAA,GADP,IAEIG,QAAQ,2BACDH,EAAMG,SADN,IAEHM,QAAST,EAAMG,QAAQI,MACvBmY,KAAM,WAKlB,IAWe+W,GAXC,WACZ,IAAMpiB,EAAUqiB,qBAAW/a,IAC3B,OACI,cAAC,IAAD,CAAkB3U,MAAOwvB,GAAzB,SACI,cAAC1I,GAAA,EAAD,CAAM1d,GAAIiE,EAAV,SACI,cAACsiB,GAAA,EAAD,CAAgBhuB,MAAO,UAAWC,MAAO,CAACqe,SAAU,QAAShT,MAAM,OAAQ2iB,OAAQ,aChBtFC,GAAkB,SAAClvB,GAAW,IAAD,EACR4J,YAAwB,GADhB,mBAC/B8C,EAD+B,KACtBqU,EADsB,OAEEnX,WAAe,GAFjB,mBAE/BulB,EAF+B,KAEjBC,EAFiB,KAuCtC,SAASC,IACLD,GAAgB,SAACE,GAAD,OAAsBA,EAAmB,KAG7D,OAvCA1lB,WAAc,WACV,IAAI8Q,GAAe,EACb6U,EnEFP,SAAqCC,EAA+FC,GACvI,IADwK,EAClK/Z,EAAgB,GADkJ,cAE3JtT,GAF2J,IAExK,IAAI,EAAJ,qBAAuB,CAAC,IACdgB,EADa,QACNssB,aAAalN,QAAQmN,IAAIH,EAAaC,GACnD/Z,EAAIrD,KAAKjP,IAJ2J,8BAMxK,OAAOsS,EmEJgBka,EAA4B,SAAC9sB,GAK5C,OAJG4X,IAAiB5X,EAAO+sB,QAAQC,eAAe,sBAC9C/O,GAAW,GACXqO,GAAgB,SAACE,GAAD,OAAsBA,EAAmB,MAEtDxsB,KAELitB,EnEIP,SAAsCP,EAAgFC,GACzH,IADiK,EAC3J/Z,EAAgB,GAD2I,cAEpJtT,GAFoJ,IAEjK,IAAI,EAAJ,qBAAuB,CAAC,IACdgB,EADa,QACNssB,aAAa3Z,SAAS4Z,IAAIH,EAAaC,GACpD/Z,EAAIrD,KAAKjP,IAJoJ,8BAMjK,OAAOsS,EmEViBsa,EAA6B,SAACja,GAK9C,OAJG2E,IAAiB3E,EAASjT,OAAO+sB,QAAQC,eAAe,qBACvDT,IAGGtZ,KACR,SAACnW,GAKA,OAJG8a,IAAiB9a,EAAMkD,OAAO+sB,QAAQC,eAAe,qBACpDT,IAGG9S,QAAQ0T,OAAOrwB,MAE1B,OAAO,WACH8a,GAAe,EACgB6U,EnEdnCnjB,SAAQ,SAAChJ,EAAIuS,GAAL,OAAevT,EAAUuT,GAAO+Z,aAAalN,QAAQ0N,MAAM9sB,MAYpE,SAAyCsS,GAC5CA,EAAItJ,SAAQ,SAAChJ,EAAIuS,GAAL,OAAevT,EAAUuT,GAAO+Z,aAAa3Z,SAASma,MAAM9sB,MmEEhE+sB,CAAgCJ,MAErC,IAEHnmB,aAAgB,WACRulB,GACApO,GAAW,KAEhB,CAACoO,IAOA,cAAC,GAAeiB,SAAhB,CAAyBnpB,MAAOyF,EAAhC,SACK1M,EAAMS,YCfJ4vB,OAtBf,WACE,OACI,cAAC,IAAM5D,SAAP,UACI,cAAC,GAAD,UACA,cAAC,IAAD,CAAkBptB,MAAOA,GAAzB,SACE,eAAC,EAAD,WACI,cAACixB,EAAA,EAAD,IACA,eAAC,IAAD,CAAeC,SAAS,SAAxB,UACI,cAAC,GAAD,IACA,cAAC,GAAD,IACA,eAAC1uB,EAAA,EAAD,CAAKC,WAAY,OAAjB,UACI,cAAC,GAAD,IACA,cAAC,GAAD,oBCVT0uB,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,+BAAqB5a,MAAK,YAAkD,IAA/C6a,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,yCCFGO,I,YAgBPC,IAhBH,SAAUD,KAAV,mFACqB,OADrB,SAC2BE,aAAc7iB,GAAM6V,YAD/C,OACGiN,EADH,cAImC,OAJnC,SAIyCC,aAAKD,GAJ9C,gBAIQniB,EAJR,EAIQA,QAJR,cAKuBA,EAAQ2Q,OAL/B,0DAO0B,OAFf0R,EALX,4BAOgCC,aAAKL,GAAY,CAAC7M,MAAOpV,EAAQoV,MAAOiN,aAPxE,QAOetb,EAPf,OAQSR,QAAQkF,IAAI1E,GARrB,mDAUSR,QAAQkF,IAAR,MAVT,uHAAA8W,IAAA,yGAgBP,SAAUN,GAAV,oFACoB,OADE7M,EAAtB,EAAsBA,MAAOiN,EAA7B,EAA6BA,SAA7B,SAC0BC,aAAKE,GAAY,CAACpuB,GAAIghB,EAAMhhB,GAAIiuB,aAD1D,OACUI,EADV,cAIyC,OAJzC,kBAI+CL,aAAKK,GAJpD,mBAImBpN,EAJnB,EAImBA,WAAUtO,EAJ7B,EAI6BA,UAJ7B,0CAMuBA,GANvB,QAQY,OARZ,UAQkBnS,aAAI0K,GAASyV,eAAe,CAC9BK,QACAG,UAAW8M,EAAS9M,UACpBF,cAXhB,gCAcY,OAdZ,oCAckBzgB,aAAI0K,GAAS0V,eAAe,CAC9BI,QACAG,UAAW8M,EAAS9M,UACpB3kB,MAAM,EAAD,MAjBrB,iGA0BA,SAAS4xB,GAAT,GAAsE,IAAjDpuB,EAAgD,EAAhDA,GAAIiuB,EAA4C,EAA5CA,SACrB,OAAOK,cAAa,SAAAC,GAChB3T,GAAU4T,cAAcxuB,EAAxB,aACIyuB,QAAS,SACRR,EAAS9M,UAAY8M,EAASvR,MAChC,CACCxd,KAAK,CACDqB,SAAS,GAEbb,OAAQ,CACJ+sB,QAAS,CACL,oBAAoB,GAExBiC,iBAJI,SAIaC,GACb,GAAGA,EAAcC,iBAAiB,CAC9B,IAAM3N,EAAW0N,EAAcE,OAASF,EAAczc,MACtDqc,EAAQ,CAACtN,kBAKtBvO,MAAK,SAAAC,GAAQ,OAAI4b,EAAQ,CAAC5b,gBAC5BC,OAAM,SAAApW,GAAK,OAAI+xB,EAAQ/xB,MACvBsyB,SAAQ,kBAAMP,EAAQQ,SAGvB,OADoB,gB,gBCvEHC,IAAV,SAAUA,KAAV,iEACX,OADW,SACLzmB,aAAI,CACNqlB,OAFO,wCCGf,IAAMqB,GAAiBC,eACjBC,GAAQC,aACVC,aAAgB,CACZhO,YAEJiO,aAAgBL,KAGpBA,GAAeM,IAAIP,IAEJG,UCRfK,IAASC,OACP,cAAC,IAAMC,WAAP,UACI,cAAC,KAAD,CAAUP,MAAOA,GAAjB,SACE,cAAC,GAAD,QAGNnqB,SAAS2qB,eAAe,SAM1BvC,O","file":"static/js/main.52b57a73.chunk.js","sourcesContent":["import * as React from 'react';\nimport {SnackbarProvider as NotistackProvider, SnackbarProviderProps} from 'notistack'\nimport { IconButton, makeStyles, Theme } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close'\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return {\n        variantSuccess: {\n            backgroundColor: theme.palette.success.main\n        },\n        variantError: {\n            backgroundColor: theme.palette.error.main\n        },\n        variantInfo: {\n            backgroundColor: theme.palette.primary.main\n        }\n    }\n})\nexport const SnackbarProvider: React.FC<SnackbarProviderProps> = (props) => {\n    let snackbarProviderRef\n    const classes = useStyles()\n    const defaultProps: SnackbarProviderProps = {\n        classes,\n        autoHideDuration: 3000,\n        maxSnack: 3,\n        anchorOrigin: {\n            horizontal: 'right',\n            vertical: 'top'\n        },\n        children:{},\n        preventDuplicate: true,\n        ref: (e1) => snackbarProviderRef = e1,\n        action: (key) => (\n            <IconButton\n                color={\"inherit\"}\n                style={{fontSize: 20}}\n                onClick={() => snackbarProviderRef.closeSnackbar(key)}\n            >\n                <CloseIcon/>\n            </IconButton>\n        )\n    }\n\n    const newProps = {...defaultProps, ...props}\n    return (\n        <NotistackProvider {...newProps}>\n            {props.children}\n        </NotistackProvider>\n    );\n};\n","import { Box, Container, makeStyles, Typography } from '@material-ui/core';\nimport * as React from 'react';\n\nconst useStyles = makeStyles({\n    title: {\n        color: '#999999'\n    }\n})\ntype PageProps = {\n    title: string,\n};\nexport const Page:React.FC<PageProps> = (props) => {\n    const classes = useStyles()\n    return (\n        <div>\n            <Container>\n                <Typography className={classes.title} component=\"h1\" variant=\"h5\">\n                    {props.title}\n                </Typography>\n                <Box paddingTop={2}>\n                    {props.children}\n                </Box>\n            </Container>\n        </div>\n    );\n};\n","import axios, { AxiosError, AxiosRequestConfig, AxiosResponse } from \"axios\"\n\nexport const httpVideo = axios.create({\n    baseURL: process.env.REACT_APP_MICRO_VIDEO_API_URL\n})\n\nconst instances = [httpVideo];\n\nexport function addGlobalRequestInterceptor(onFulfilled?: (value: AxiosRequestConfig) => AxiosRequestConfig | Promise<AxiosRequestConfig>, onRejected?: (error: any) => any){\n    const ids: number[] = []\n    for(let i of instances){\n        const id = i.interceptors.request.use(onFulfilled, onRejected)\n        ids.push(id)\n    }\n    return ids\n}\n\nexport function removeGlobalRequestInterceptor(ids: number[]){\n    ids.forEach((id, index) => instances[index].interceptors.request.eject(id))\n}\n\nexport function addGlobalResponseInterceptor(onFulfilled?: (value: AxiosResponse) => AxiosResponse | Promise<AxiosResponse>, onRejected?: (error: AxiosError) => any){\n    const ids: number[] = []\n    for(let i of instances){\n        const id = i.interceptors.response.use(onFulfilled, onRejected)\n        ids.push(id)\n    }\n    return ids\n}\n\nexport function removeGlobalResponseInterceptor(ids: number[]){\n    ids.forEach((id, index) => instances[index].interceptors.response.eject(id))\n}\n","import { AxiosInstance, AxiosRequestConfig, AxiosResponse, CancelTokenSource } from \"axios\";\nimport axios from 'axios'\nimport { serialize } from 'object-to-formdata'\n\nexport default class HttpResource {\n\n    private cancelList: CancelTokenSource | null = null;\n\n    constructor(protected http: AxiosInstance, protected resource){\n\n    }\n\n    list<T = any>(options?: { queryParams? }): Promise<AxiosResponse<T>>{\n        if(this.cancelList){\n            this.cancelList.cancel('list request cancelled');\n        }\n        this.cancelList = axios.CancelToken.source();\n\n        const config:AxiosRequestConfig = {\n            cancelToken: this.cancelList.token\n        }\n        if(options && options.queryParams){\n            config.params = options.queryParams\n        }\n        return this.http.get<T>(this.resource, config)\n    }\n\n    get<T = any>(id): Promise<AxiosResponse<T>>{\n        return this.http.get<T>(`${this.resource}/${id}`)\n    }\n\n    create<T = any>(data): Promise<AxiosResponse<T>>{\n        let sendData = this.makeSendData(data)\n        return this.http.post<T>(this.resource, sendData)\n    }\n\n    update<T = any>(id, data, options?: {http?: {usePost: boolean}, config?: AxiosRequestConfig}): Promise<AxiosResponse<T>>{\n        let sendData = data;\n        if(this.containsFile(data)){\n            sendData = this.getFormData(data);\n        }\n        const {http, config} = (options || {}) as any;\n        return !options || !http || !http.usePost\n            ? this.http.put<T>(`${this.resource}/${id}`, sendData, config)\n            : this.http.post<T>(`${this.resource}/${id}`, sendData, config)\n    }\n\n    partialUpdate<T = any>(id, data, options?: {http?: {usePost: boolean}, config?: AxiosRequestConfig}): Promise<AxiosResponse<T>>{\n        let sendData = data;\n        if(this.containsFile(data)){\n            sendData = this.getFormData(data);\n        }\n        const {http, config} = (options || {}) as any;\n        return !options || !http || !http.usePost\n            ? this.http.patch<T>(`${this.resource}/${id}`, sendData, config)\n            : this.http.post<T>(`${this.resource}/${id}`, sendData, config)\n    }\n\n    delete<T = any>(id): Promise<AxiosResponse<T>>{\n        return this.http.delete<T>(`${this.resource}/${id}`)\n    }\n\n    deleteCollection<T = any>(queryParams): Promise<AxiosResponse<T>>{\n        const config:AxiosRequestConfig = {};\n        if(queryParams){\n            config['params'] = queryParams;\n        }\n        return this.http.delete<T>(`${this.resource}`, config);\n    }\n\n    isCancelledRequest(error){\n        return axios.isCancel(error)\n    }\n\n    private makeSendData(data){\n        return this.containsFile(data) ? this.getFormData(data) : data;\n    }\n\n    private getFormData(data){\n        return serialize(data, {booleansAsIntegers: true});\n    }\n\n    private containsFile(data){\n        return Object.values(data).filter(e1 => e1 instanceof File).length !== 0\n    }\n}\n","import { httpVideo } from \"./index\"\nimport HttpResource from \"./http-resource\"\n\nconst categoryHttp = new HttpResource(httpVideo, \"categories\")\n\nexport default categoryHttp\n","import { createMuiTheme } from \"@material-ui/core\";\nimport { green, red } from \"@material-ui/core/colors\";\nimport { PaletteOptions, SimplePaletteColorOptions } from \"@material-ui/core/styles/createPalette\";\n\nconst palette: PaletteOptions = {\n    primary: {\n        main: '#79aec8',\n        contrastText:\"#ffffff\"\n    },\n    secondary: {\n        main: '#4db5ab',\n        contrastText:\"#ffffff\",\n        dark: \"#055a52\"\n    },\n    background: {\n        default: '#fafafa'\n    },\n    error: {\n        main: red[500]\n    },\n    success: {\n        main: green[500],\n        contrastText: '#fff'\n    }\n}\n\nconst theme = createMuiTheme({\n    palette,\n    overrides: {\n        MUIDataTable: {\n            paper: {\n                boxShadow: \"none\"\n            }\n        },\n        MUIDataTableToolbar: {\n            root: {\n                minHeight: '58px',\n                backgroundColor: palette!.background!.default\n            },\n            icon: {\n                color: (palette!.primary as SimplePaletteColorOptions).main,\n                '&:hover, &:active, &:focus': {\n                    color: (palette!.secondary as SimplePaletteColorOptions).dark\n                }\n            },\n            iconActive: {\n                color: (palette!.secondary as SimplePaletteColorOptions).dark,\n                '&:hover, &:active, &:focus': {\n                    color: (palette!.secondary as SimplePaletteColorOptions).dark\n                }\n            }\n        },\n        MUIDataTableHeadCell: {\n            fixedHeader: {\n                paddingTop: 8,\n                paddingBlock: 8,\n                backgroundColor: (palette!.primary as SimplePaletteColorOptions).main,\n                color: '#ffffff',\n                '&[aria-sort]':{\n                    backgroundColor: '#459ac4'\n                }\n            },\n            sortActive: {\n                color: '#ffffff'\n            },\n            sortAction: {\n                alignItems: 'center'\n            },\n            sortLabelRoot: {\n                '& svg': {\n                    color: '#ffffff !important'\n                }\n            }\n        },\n        MUIDataTableSelectCell: {\n            headerCell: {\n                backgroundColor: (palette!.primary as SimplePaletteColorOptions).main,\n                '& span': {\n                    color: '#ffffff !important'\n                }\n            }\n        },\n        MUIDataTableBodyCell: {\n            root: {\n                color: (palette!.secondary as SimplePaletteColorOptions).main,\n                '&:hover, &:active, &:focus': {\n                    color: (palette!.secondary as SimplePaletteColorOptions).main\n                }\n            }\n        },\n        MUIDataTableToolbarSelect: {\n            title: {\n                color: (palette!.primary as SimplePaletteColorOptions).main,\n            },\n            iconButton: {\n                color: (palette!.primary as SimplePaletteColorOptions).main,\n            }\n        },\n        MUIDataTableBodyRow: {\n            root: {\n                '&:nth-child(odd)': {\n                    backgroundColor: palette!.background!.default\n                }\n            }\n        },\n        MUIDataTablePagination: {\n            root: {\n                color: (palette!.secondary as SimplePaletteColorOptions).main\n            }\n        },\n        MuiChip: {\n            root: {\n                marginBottom: '16px !important'\n            }\n        }\n    }\n})\n\nexport default theme\n","import { Chip, createMuiTheme, MuiThemeProvider } from '@material-ui/core';\nimport * as React from 'react';\nimport theme from '../theme';\n\nconst localTheme = createMuiTheme({\n    palette: {\n        primary: theme.palette.success,\n        secondary: theme.palette.error\n    }\n})\n\nexport const BadgeYes = () => {\n    return (\n        <MuiThemeProvider theme={localTheme}>\n            <Chip label=\"Sim\" color=\"primary\"/>\n        </MuiThemeProvider>\n    );\n};\n\nexport const BadgeNo = () => {\n    return (\n        <MuiThemeProvider theme={localTheme}>\n            <Chip label=\"Não\" color=\"secondary\"/>\n        </MuiThemeProvider>\n    );\n};\n","import React from 'react';\nimport Grow from '@material-ui/core/Grow';\nimport TextField from '@material-ui/core/TextField';\nimport SearchIcon from '@material-ui/icons/Search';\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { withStyles } from '@material-ui/core/styles';\nimport {debounce} from 'lodash'\n\nconst defaultSearchStyles = theme => ({\n  main: {\n    display: 'flex',\n    flex: '1 0 auto',\n  },\n  searchIcon: {\n    color: theme.palette.text.secondary,\n    marginTop: '10px',\n    marginRight: '8px',\n  },\n  searchText: {\n    flex: '0.8 0',\n  },\n  clearIcon: {\n    '&:hover': {\n      color: theme.palette.error.main,\n    },\n  },\n});\n\n\nclass DebouncedTableSearch extends React.PureComponent {\n\n    constructor(props){\n        super(props)\n        const { searchText } = this.props;\n        let value = searchText;\n        if(searchText && searchText.value !== undefined){\n            value = searchText.value\n        }\n        this.state = {\n            text: value\n        }\n        this.debouncedOnSearch = debounce(this.debouncedOnSearch.bind(this), this.props.debounceTime)\n    }\n\n    handleTextChange = event => {\n        const value = event.target.value\n        this.setState({\n            text: value\n        }, () => this.debouncedOnSearch(value))\n    };\n\n    debouncedOnSearch = value => {\n        this.props.onSearch(value)\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot){\n        const { searchText } = this.props;\n        if(searchText && searchText.value !== undefined && prevProps.searchText !== this.props.searchText){\n            const value = searchText.value\n            if(value){\n                this.setState({\n                    text: value\n                }, () => this.props.onSearch(value))\n            }else{\n                try{\n                    this.props.onHide()\n                }catch(e){\n\n                }\n            }\n        }\n    }\n\n    componentDidMount() {\n        document.addEventListener('keydown', this.onKeyDown, false);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('keydown', this.onKeyDown, false);\n    }\n\n    onKeyDown = event => {\n        if (event.keyCode === 27) {\n        this.props.onHide();\n        }\n    };\n\n    render() {\n        const { classes, options, onHide, searchText } = this.props;\n        let value = this.state.text;\n        if(searchText && searchText.value !== undefined){\n            value = searchText.value\n        }\n        return (\n        <Grow appear in={true} timeout={300}>\n            <div className={classes.main} ref={el => (this.rootRef = el)}>\n                <SearchIcon className={classes.searchIcon} />\n                <TextField\n                    className={classes.searchText}\n                    autoFocus={true}\n                    InputProps={{\n                    'data-test-id': options.textLabels.toolbar.search,\n                    }}\n                    inputProps={{\n                    'aria-label': options.textLabels.toolbar.search,\n                    }}\n                    value={value || ''}\n                    onChange={this.handleTextChange}\n                    fullWidth={true}\n                    inputRef={el => (this.searchField = el)}\n                    placeholder={options.searchPlaceholder}\n                />\n                <IconButton className={classes.clearIcon} onClick={onHide}>\n                    <ClearIcon />\n                </IconButton>\n            </div>\n        </Grow>\n        );\n    }\n}\n\nexport default withStyles(defaultSearchStyles, { name: 'MUIDataTableSearch' })(DebouncedTableSearch);\n","import MuiDataTable, { MUIDataTableColumn, MUIDataTableOptions, MUIDataTableProps } from 'mui-datatables';\nimport * as React from 'react';\nimport {merge, omit, cloneDeep} from 'lodash'\nimport { MuiThemeProvider, Theme, useMediaQuery, useTheme } from '@material-ui/core';\nimport DebouncedTableSearch from './DebouncedTableSearch'\n\nconst makeDefaultOptions = (debouncedSearchTime?):MUIDataTableOptions =>  ({\n    print: false,\n    download: false,\n    textLabels: {\n        body: {\n            noMatch: \"Nenhum registro encontrado\",\n            toolTip: \"Classificar\"\n        },\n        pagination: {\n            next: \"Próxima página\",\n            previous: \"Página anterior\",\n            rowsPerPage: \"Por página:\",\n            displayRows: \"de\"\n        },\n        toolbar: {\n            search: \"Busca\",\n            downloadCsv: \"Download CSV\",\n            print: \"Imprimir\",\n            viewColumns: \"Ver Colunas\",\n            filterTable: \"Filtrar Tabelas\"\n        },\n        filter: {\n            all: \"Todos\",\n            title: \"FILTROS\",\n            reset: \"LIMPAR\"\n        },\n        viewColumns: {\n            title: \"Ver Colunas\",\n            titleAria: \"Ver/Esconder Colunas da Tabela\"\n        },\n        selectedRows: {\n            text: \"registro(s) selecionados\",\n            delete: \"Excluir\",\n            deleteAria: \"Excluir registros selecionados\"\n        }\n    },\n    customSearchRender: (searchText: string,\n        handleSearch: (text: string) => void,\n        hideSearch: () => void,\n        options: any,\n    ) => {\n        return <DebouncedTableSearch\n            searchText={searchText}\n            onSearch={handleSearch}\n            onHide={hideSearch}\n            options={options}\n            debounceTime={debouncedSearchTime}\n        />\n    }\n})\n\nexport interface TableColumn extends MUIDataTableColumn{\n    width?: string\n}\n\nexport interface MuiDataTableRefComponent{\n    changePage: (page: number) => void;\n    changeRowsPerPage: (rowsPerPage: number) => void;\n}\n\nexport interface TableProps extends MUIDataTableProps, React.RefAttributes<MuiDataTableRefComponent>{\n    columns: TableColumn[];\n    loading? : boolean;\n    debouncedSearchTime? : number;\n}\n\nexport interface TableProps extends MUIDataTableProps{\n    columns: TableColumn[]\n    loading?: boolean\n    debouncedSearchTime?: number\n}\n\nconst Table = React.forwardRef<MuiDataTableRefComponent, TableProps>((props, ref) => {\n    function extractMuiDataTableColumns(columns: TableColumn[]): MUIDataTableColumn[]{\n        setColumnsWith(columns)\n        return columns.map(column => omit(column, 'width'))\n    }\n\n    function setColumnsWith(columns: TableColumn[]){\n        columns.forEach((column, key) => {\n            if(column.width){\n                const overrides = theme.overrides as any;\n                overrides.MUIDataTableHeadCell.fixedHeader[`&:nth-child(${key + 2})`] = {\n                    width: column.width\n                }\n            }\n        })\n    }\n\n    function applyLoading(){\n        const textLabels = (newProps.options as any).textLabels\n        textLabels.body.noMatch = newProps.loading === true ? 'Carregando...' : textLabels.body.noMatch\n    }\n\n    function applyResponsive(){\n        newProps.options.responsive = isSmOrDown ? 'vertical' : 'standard'\n    }\n\n    function getOriginalMuiDataTableProps(){\n        return {\n            ...omit(newProps, 'loading'),\n            ref\n        }\n    }\n\n    const theme = cloneDeep<Theme>(useTheme())\n    const isSmOrDown = useMediaQuery(theme.breakpoints.down('sm'))\n\n    const defaultOptions = makeDefaultOptions(props.debouncedSearchTime)\n    const newProps = merge(\n        {options: cloneDeep(defaultOptions)},\n        props,\n        {columns: extractMuiDataTableColumns(props.columns)}\n    )\n\n    applyLoading()\n    applyResponsive()\n\n    const originalProps = getOriginalMuiDataTableProps()\n\n    return (\n        <MuiThemeProvider theme={theme}>\n            <MuiDataTable {...originalProps}/>\n        </MuiThemeProvider>\n    );\n});\n\nexport default Table\n\nexport function makeActionStyles(column){\n    return theme => {\n        const copyTheme = cloneDeep(theme)\n        const selector = `&[data-testid^=\"MuiDataTableBodyCell-${column}\"]`;\n        (copyTheme.overrides as any).MUIDataTableBodyCell.root[selector] = {\n            paddingTop: '0px',\n            passingBottom: '0px'\n        }\n        return copyTheme\n    }\n}\n","// @flow\nimport { IconButton, makeStyles, Tooltip } from '@material-ui/core';\nimport * as React from 'react';\nimport ClearAllIcon from '@material-ui/icons/ClearAll'\n\n\nconst useStyles = makeStyles(theme => ({\n    iconButton: (theme as any).overrides.MUIDataTableToolbar.icon\n}))\n\ninterface FilterResetButtonProps {\n    handleClick: () => void\n}\n\nexport const FilterResetButton: React.FC<FilterResetButtonProps> = (props) => {\n    const classes = useStyles();\n\n    return (\n        <Tooltip title={ 'Limpar Busca'}>\n            <IconButton className={classes.iconButton} onClick={props.handleClick}>\n                <ClearAllIcon/>\n            </IconButton>\n        </Tooltip>\n    );\n};\n","/* eslint-disable no-template-curly-in-string */\nimport { setLocale } from 'yup'\n\nconst ptBR = {\n    mixed: {\n        required: '${path} é requerido',\n        notType: '${path} é inválido'\n    },\n    string: {\n        max: '${path} precisa ter no máximo ${max} caracteres'\n    },\n    number: {\n        min: '${path} precisa ser no mínimo ${min}'\n    },\n    array: {\n        min: 'Em ${path}, precisa escolher pelo menos ${min} item'\n    }\n}\n\nsetLocale(ptBR)\n\nexport * from 'yup'\n","import { createActions, createReducer } from 'reduxsauce'\nimport * as Typings from './types'\n\nexport const {Types, Creators} = createActions<{\n    SET_SEARCH: string,\n    SET_PAGE: string,\n    SET_PER_PAGE: string,\n    SET_ORDER: string,\n    SET_RESET: string,\n    UPDATE_EXTRA_FILTER: string\n}, {\n    setSearch(payload: Typings.SetSearchAction['payload']): Typings.SetSearchAction\n    setPage(payload: Typings.SetPageAction['payload']): Typings.SetPageAction\n    setPerPage(payload: Typings.SetPerPageAction['payload']): Typings.SetPerPageAction\n    setOrder(payload: Typings.SetOrderAction['payload']): Typings.SetOrderAction\n    setReset(payload: Typings.SetResetAction['payload']): Typings.SetResetAction\n    updateExtraFilter(payload: Typings.UpdateExtraFilterAction['payload']): Typings.UpdateExtraFilterAction\n}>\n({\n    setSearch: ['payload'], //SET_SEARCH\n    setPage: ['payload'],\n    setPerPage: ['payload'],\n    setOrder: ['payload'],\n    setReset: ['payload'],\n    updateExtraFilter: ['payload']\n})\n\nexport const INITIAL_STATE: Typings.State = {\n    search: null,\n    pagination: {\n        page: 1,\n        per_page: 10\n    },\n    order: {\n        sort: null,\n        dir: null\n    }\n}\n\nconst reducer = createReducer<Typings.State, Typings.Actions>(INITIAL_STATE, {\n    [Types.SET_SEARCH]: setSearch,\n    [Types.SET_PAGE]: setPage,\n    [Types.SET_PER_PAGE]: setPerPage,\n    [Types.SET_ORDER]: setOrder,\n    [Types.SET_RESET]: setReset,\n    [Types.UPDATE_EXTRA_FILTER]: updateExtraFilter\n})\n\nexport default reducer\n\nfunction setSearch(state = INITIAL_STATE, action: Typings.SetSearchAction): Typings.State{\n    return {\n        ...state,\n        search: action.payload.search,\n        pagination: {\n            ...state.pagination,\n            page: 1\n        }\n    }\n}\n\nfunction setPage(state = INITIAL_STATE, action: Typings.SetPageAction): Typings.State{\n   return {\n        ...state,\n        pagination: {\n            ...state.pagination,\n            page: action.payload.page,\n        }\n    }\n}\n\nfunction setPerPage(state = INITIAL_STATE, action: Typings.SetPerPageAction): Typings.State{\n    return {\n         ...state,\n         pagination: {\n             ...state.pagination,\n             per_page: action.payload.per_page,\n         }\n     }\n }\n\n function setOrder(state = INITIAL_STATE, action: Typings.SetOrderAction): Typings.State{\n    return {\n        ...state,\n        pagination: {\n            ...state.pagination,\n            page: 1\n        },\n        order: {\n            sort: action.payload.sort,\n            dir: action.payload.dir,\n        }\n    }\n }\n\n function setReset(state = INITIAL_STATE, action: Typings.SetResetAction){\n    return action.payload.state\n }\n\n function updateExtraFilter(state = INITIAL_STATE, action: Typings.UpdateExtraFilterAction){\n     return {\n         ...state,\n         extraFilter: {\n             ...state.extraFilter,\n             ...action.payload\n         }\n     }\n }\n","import { MUIDataTableColumn } from \"mui-datatables\";\nimport { Dispatch, MutableRefObject, Reducer, useCallback, useEffect, useMemo, useReducer, useState } from \"react\";\nimport * as yup from '../util/vendor/yup'\nimport reducer, { Creators } from \"../store/filter\";\nimport { Actions as FilterActions, State as FilterState} from \"../store/filter/types\";\nimport { useDebounce } from 'use-debounce'\nimport { useHistory, useLocation } from \"react-router\";\nimport { isEqual } from 'lodash'\nimport { MuiDataTableRefComponent } from \"../components/Table\";\nimport { ObjectSchema } from \"../util/vendor/yup\";\n\ninterface FilterManagerOptions {\n    schema: ObjectSchema<any>;\n    columns: MUIDataTableColumn[];\n    rowsPerPage: number;\n    tableRef: MutableRefObject<MuiDataTableRefComponent>\n    dispatch: Dispatch<FilterActions>\n    state: FilterState;\n}\n\ninterface ExtraFilter {\n    getStateFromURL: (queryParams: URLSearchParams) => any,\n    formatSearchParams: (debouncedState: FilterState) => any,\n    createValidationSchema: () => any,\n}\n\ninterface UseFilterOptions{\n    columns: MUIDataTableColumn[];\n    rowsPerPage: number;\n    rowsPerPageOptions: number[];\n    debounceTime: number;\n    tableRef: MutableRefObject<MuiDataTableRefComponent>\n    extraFilter?: ExtraFilter\n}\n\nexport default function useFilter(options: UseFilterOptions){\n    const history = useHistory()\n    const location = useLocation()\n    const {search: locationSearch, pathname: locationPathname, state: locationState} = location\n    const {rowsPerPageOptions, rowsPerPage, columns, extraFilter} = options;\n    const schema = useMemo(() => {\n        return yup.object().shape({\n            search: yup.string()\n                .transform(value => !value ? undefined : value)\n                .default(''),\n            pagination: yup.object().shape({\n                page: yup.number()\n                    .transform(value => isNaN(value) || parseInt(value) < 1 ? undefined : value)\n                    .default(1),\n                per_page: yup.number()\n                    .transform(value => isNaN(value) || !rowsPerPageOptions.includes(parseInt(value)) ? undefined : value)\n                    .default(rowsPerPage),\n            }),\n            order: yup.object().shape({\n                sort: yup.string()\n                    .nullable()\n                    .transform(value => {\n                        const columnsName = columns\n                            .filter(column => !column.options || column.options.sort !== false)\n                            .map(column => column.name)\n                        return columnsName.includes(value) ? value : undefined\n                    })\n                    .default(null),\n                dir: yup.string()\n                    .nullable()\n                    .transform(value => !value || !['asc', 'desc'].includes(value.toLowerCase()) ? undefined : value)\n                    .default(null),\n            }),\n            ...(\n                extraFilter && {\n                    extraFilter: extraFilter.createValidationSchema()\n                }\n            )\n        })\n    }, [rowsPerPageOptions, rowsPerPage, columns, extraFilter])\n\n    const stateFromURL = useMemo<FilterState>(() => {\n        const queryParams = new URLSearchParams(locationSearch.substr(1))\n        return schema.cast({\n            search: queryParams.get('search'),\n            pagination: {\n                page: queryParams.get('page'),\n                per_page: queryParams.get('per_page')\n            },\n            order: {\n                sort: queryParams.get('sort'),\n                dir: queryParams.get('dir')\n            },\n            ...(\n                extraFilter && {\n                    extraFilter: extraFilter.getStateFromURL(queryParams)\n                }\n            )\n        })\n    }, [locationSearch, schema, extraFilter])\n\n    const cleanSearchText = useCallback((text) => {\n        let newText = text\n        if(text && text.value !== undefined){\n            newText = text.value\n        }\n        return newText\n    }, [])\n\n    const formatSearchParams = useCallback((state, extraFilter) => {\n        const search = cleanSearchText(state.search)\n        return {\n            ...(search && search !== '' && {search: search}),\n            ...(state.pagination.page !== 1 && {page: state.pagination.page}),\n            ...(state.pagination.per_page !== 15 && {per_page: state.pagination.per_page}),\n            ...(\n                state.order.sort && {\n                    sort: state.order.sort,\n                    dir: state.order.dir\n                }\n            ),\n            ...(\n                extraFilter && extraFilter.formatSearchParams(state)\n            )\n        }\n    },[cleanSearchText])\n\n    const INITIAL_STATE = stateFromURL\n    const [filterState, dispatch] = useReducer<Reducer<FilterState, FilterActions>>(reducer, INITIAL_STATE);\n    const filterManager = new FilterManager({...options, state: filterState, dispatch, schema})\n    const [debouncedFilterState] = useDebounce(filterState, options.debounceTime)\n    const [totalRecords, setTotalRecords] = useState<number>(0)\n\n    useEffect(() => {\n        history.replace({\n            pathname: locationPathname,\n            search: \"?\" + new URLSearchParams(formatSearchParams(stateFromURL, extraFilter)),\n            state: stateFromURL\n        })\n    }, [history, locationPathname, formatSearchParams, stateFromURL, extraFilter])\n\n    useEffect(() => {\n        const newLocation = {\n            pathname: locationPathname,\n            search: \"?\" + new URLSearchParams(formatSearchParams(debouncedFilterState, extraFilter)),\n            state: {\n                ...debouncedFilterState,\n                search: cleanSearchText(debouncedFilterState.search)\n            }\n        }\n        const oldState = locationState\n        const nextState = debouncedFilterState\n        if(isEqual(oldState, nextState)){\n            return\n        }\n        history.push(newLocation)\n    }, [history, locationPathname, locationState, formatSearchParams, cleanSearchText, debouncedFilterState, extraFilter])\n\n    filterManager.applyOrderInColumns();\n\n    return {\n        columns: filterManager.columns,\n        cleanSearchText,\n        filterManager,\n        filterState,\n        debouncedFilterState,\n        dispatch,\n        totalRecords,\n        setTotalRecords\n    }\n}\n\nexport class FilterManager{\n    schema\n    state: FilterState;\n    dispatch: Dispatch<FilterActions>;\n    columns: MUIDataTableColumn[];\n    rowsPerPage: number;\n    tableRef: MutableRefObject<MuiDataTableRefComponent>\n\n    constructor(options: FilterManagerOptions){\n        const {schema, columns, rowsPerPage, tableRef, dispatch, state} = options\n        this.schema = schema\n        this.columns = columns\n        this.rowsPerPage = rowsPerPage\n        this.tableRef = tableRef;\n        this.dispatch = dispatch\n        this.state = state\n    }\n\n    private resetTablePagination(){\n        this.tableRef.current.changePage(0)\n        this.tableRef.current.changeRowsPerPage(this.rowsPerPage)\n    }\n\n    changeSearch(value) {\n        this.dispatch(Creators.setSearch({search: value}))\n    }\n\n    changePage(page) {\n        this.dispatch(Creators.setPage({page: page + 1}))\n    }\n\n    changeRowsPerPage(perPage){\n        this.dispatch(Creators.setPerPage({per_page: perPage}))\n    }\n\n    changeColumnSort(changedColumn: string, direction: string){\n        this.dispatch(Creators.setOrder({\n            sort: changedColumn,\n            dir: direction.includes('desc') ? 'desc' : 'asc'\n        }))\n        this.resetTablePagination()\n    }\n\n    changeExtraFilter(data){\n        this.dispatch(Creators.updateExtraFilter(data))\n    }\n\n    resetFilter(){\n        const INITIAL_STATE = {\n            ...this.schema.cast({}),\n            search: {value: null, update: true}\n        }\n        this.dispatch(Creators.setReset({\n            state: INITIAL_STATE\n        }))\n        this.resetTablePagination();\n    }\n\n    applyOrderInColumns(){\n        this.columns = this.columns.map(column => {\n            return column.name === this.state.order.sort ?\n            {\n                ...column,\n                options: {\n                    ...column.options,\n                    sortDirection: this.state.order.dir as any\n                }\n            } : column;\n        })\n    }\n}\n","import { useEffect, useState } from \"react\";\n\nconst useDeleteCollection = () => {\n    const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\n    const [rowsToDelete, setRowsToDelete] = useState<{data: Array<{ index, dataIndex }> }>({ data: [] });\n\n    useEffect(() => {\n        if (rowsToDelete.data.length) {\n        setOpenDeleteDialog(true);\n        }\n    }, [rowsToDelete]);\n\n    return {\n        openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete,\n    };\n};\n\nexport default useDeleteCollection;\n","import React from \"react\";\nimport { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle} from \"@material-ui/core\";\n\ninterface DeleteDialogProps {\n    open: boolean;\n    handleClose: (confirmed: boolean) => void;\n}\n\nconst DeleteDialog: React.FC<DeleteDialogProps> = (props) => {\n    const { open, handleClose } = props;\n\n    return (\n        <Dialog open={open} onClose={() => handleClose(false)}>\n            <DialogTitle>Exclusão de Registros</DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Deseja Realmente excluir este(s) registro(s)\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={() => handleClose(false)} color={\"primary\"}>\n                    Cancelar\n                </Button>\n                <Button onClick={() => handleClose(true)} color={\"primary\"} autoFocus>\n                    Excluir\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default DeleteDialog;\n","import { createContext } from \"react\";\n\nconst LoadingContext = createContext(false)\n\nexport default LoadingContext;\n","import * as React from 'react';\nimport format from 'date-fns/format'\nimport parseISO from 'date-fns/parseISO'\nimport categoryHttp from '../../util/http/category-http';\nimport { BadgeNo, BadgeYes } from '../../components/Badge';\nimport { Category, ListResponse } from '../../util/models';\nimport DefaultTable, {makeActionStyles ,TableColumn, MuiDataTableRefComponent} from '../../components/Table'\nimport { useSnackbar } from 'notistack';\nimport { IconButton, MuiThemeProvider } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport EditIcon from '@material-ui/icons/Edit'\nimport { FilterResetButton } from '../../components/Table/FilterResetButton';\nimport useFilter from '../../hooks/useFilter';\nimport useDeleteCollection from '../../hooks/useDeleteCollection';\nimport DeleteDialog from '../../components/DeleteDialog';\nimport LoadingContext from '../../components/loading/LoadingContext';\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: 'id',\n        label: 'ID',\n        width: '30%',\n        options: {\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: \"name\",\n        label: \"Nome\",\n        width: \"43%\",\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: \"is_active\",\n        label: \"Ativo?\",\n        options: {\n            filterOptions: {\n                names: ['Sim', 'Não']\n            },\n            customBodyRender(value, tableMeta, updateValue){\n                return value ? <BadgeYes/> : <BadgeNo/>\n            }\n        },\n        width: '4%'\n    },\n    {\n        name: \"created_at\",\n        label: \"Criado em\",\n        width: '10%',\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue){\n                return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n            }\n        }\n    },\n    {\n        name: \"actions\",\n        label: \"Ações\",\n        width: '13%',\n        options: {\n            filter: false,\n            sort: false,\n            customBodyRender: (value, tableMeta) => {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/categories/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon/>\n                    </IconButton>\n                )\n            }\n        }\n    }\n]\n\nconst debounceTime = 300\nconst debounceSearchTime = 300\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\n\nconst Table = () => {\n    const {enqueueSnackbar} = useSnackbar()\n    const subscribed = React.useRef(true)\n    const [data, setData] = React.useState<Category[]>([])\n    const loading = React.useContext(LoadingContext)\n    const tableRef = React.useRef() as React.MutableRefObject<MuiDataTableRefComponent>\n    const {openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete } = useDeleteCollection();\n\n    const {columns, filterManager, cleanSearchText, filterState, debouncedFilterState, totalRecords, setTotalRecords} = useFilter({\n        columns: columnsDefinition,\n        debounceTime: debounceTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n        tableRef\n    })\n    const searchText = cleanSearchText(filterState.search)\n\n    const getData = React.useCallback(async ({search, page, per_page, sort, dir, is_active}) => {\n        try{\n            const {data} = await categoryHttp.list<ListResponse<Category>>({\n                queryParams: {\n                    search,\n                    page,\n                    per_page,\n                    sort,\n                    dir,\n                    ...(\n                        is_active && {is_active: is_active}\n                    )\n                }\n            })\n            if(subscribed.current){\n                setData(data.data)\n                setTotalRecords(data.meta.total)\n                if(openDeleteDialog){\n                    setOpenDeleteDialog(false)\n                }\n            }\n        } catch(error){\n            console.error(error);\n            if(categoryHttp.isCancelledRequest(error)){\n                return;\n            }\n            enqueueSnackbar(\n                'Não foi possível carregar as informações',\n                {variant: 'error'}\n            )\n        }\n    },[enqueueSnackbar, setOpenDeleteDialog, openDeleteDialog, setTotalRecords])\n\n    React.useEffect(() => {\n        subscribed.current = true\n        getData({\n            search: searchText,\n            page: filterState.pagination.page,\n            per_page: filterState.pagination.per_page,\n            sort: filterState.order.sort,\n            dir: filterState.order.dir,\n            ...(\n                debouncedFilterState.extraFilter &&\n                debouncedFilterState.extraFilter.is_active &&\n                {is_active: debouncedFilterState.extraFilter.is_active}\n            )\n        })\n        return () => {\n            subscribed.current = false\n            //executado quando componente estiver desmontado\n        }\n    }, [\n        getData,\n        searchText,\n        filterState.pagination.page,\n        filterState.pagination.per_page,\n        filterState.order,\n        debouncedFilterState.extraFilter\n    ])\n\n    function deleteRows(confirmed: boolean){\n        if(!confirmed){\n            setOpenDeleteDialog(false);\n            return;\n        }\n        const ids = rowsToDelete\n            .data\n            .map(value => data[value.index].id)\n            .join(',');\n        categoryHttp\n            .deleteCollection({ids})\n            .then(response => {\n                enqueueSnackbar(\n                    'Registros excluídos com sucesso', {variant: 'success'}\n                )\n                if(rowsToDelete.data.length === filterState.pagination.per_page && filterState.pagination.page > 1){\n                    const page = filterState.pagination.page - 2;\n                    filterManager.changePage(page)\n                }else{\n                    getData({\n                        search: cleanSearchText(filterState.search),\n                        page: filterState.pagination.page,\n                        per_page: filterState.pagination.per_page,\n                        sort: filterState.order.sort,\n                        dir: filterState.order.dir,\n                        ...(\n                            debouncedFilterState.extraFilter &&\n                            debouncedFilterState.extraFilter.is_active &&\n                            {is_active: debouncedFilterState.extraFilter.is_active}\n                        )\n                    })\n                }\n            })\n            .catch((error) => {\n                console.error(error)\n                enqueueSnackbar(\n                    'Não foi possível excluir os registros', {variant: 'error'}\n                )\n            })\n    }\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length - 1)}>\n\n            <DeleteDialog open={openDeleteDialog} handleClose={deleteRows}/>\n            <DefaultTable\n                title=\"Listagem de categorias\"\n                columns={columns}\n                data={data}\n                loading={loading}\n                debouncedSearchTime={debounceSearchTime}\n                ref={tableRef}\n                options={{\n                    serverSide: true,\n                    responsive: 'vertical',\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    onFilterChange: (column, filterList) => {\n                        const columnIndex = columns.findIndex(c => c.name === column)\n                        filterManager.changeExtraFilter({\n                            [column as string]: filterList[columnIndex].length ? filterList[columnIndex][0] : null\n                        })\n                    },\n                    customToolbar: () => (\n                        <FilterResetButton handleClick={() => filterManager.resetFilter()}/> //default\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) => filterManager.changeColumnSort(changedColumn, direction),\n                    onRowsDelete: (rowsDeleted) => {\n                        setRowsToDelete(rowsDeleted as any);\n                        return false;\n                    }\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table\n","import { Box, Fab } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport AddIcon from '@material-ui/icons/Add'\nimport Table from './Table';\n\nconst PageList = () => {\n    return (\n        <Page title={'Listagem categorias'}>\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab title=\"Adicionar categoria\" color={'secondary'} size=\"small\" component={Link} to=\"/categories/create\">\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList\n","// @flow\nimport { Box, Button, makeStyles, Theme } from '@material-ui/core';\nimport {ButtonProps} from '@material-ui/core/Button'\nimport * as React from 'react';\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return {\n        submit: {\n            margin: theme.spacing(1)\n        }\n    }\n})\n\ninterface SubmitActionsProps {\n    disabledButtons?: boolean;\n    handleSave: () => void\n}\n\nconst SubmitActions : React.FC<SubmitActionsProps> = (props) => {\n    const classes = useStyles();\n\n    const buttonProps: ButtonProps = {\n        className: classes.submit,\n        color: 'secondary',\n        variant: \"contained\",\n        disabled: props.disabledButtons === undefined ? false : props.disabledButtons\n    }\n\n    return (\n        <Box dir={\"ltf\"}>\n            <Button color={\"primary\"} {...buttonProps} onClick={props.handleSave}>Salvar</Button>\n            <Button {...buttonProps} type=\"submit\">Salvar e continuar editando</Button>\n        </Box>\n    );\n};\n\nexport default SubmitActions\n","import { Grid, GridProps, makeStyles } from '@material-ui/core';\nimport * as React from 'react';\n\nconst useStyles = makeStyles(theme => ({\n    gridItem: {\n        padding: theme.spacing(1, 0)\n    }\n}))\n\ninterface DefaultFormProps extends React.DetailedHTMLProps<React.FormHTMLAttributes<HTMLFormElement>, HTMLFormElement>{\n    GridContainerProps?: GridProps\n    GridItemProps?: GridProps\n}\nexport const DefaultForm: React.FC<DefaultFormProps> = (props) => {\n    const classes = useStyles()\n    const {GridContainerProps, GridItemProps, ...other} = props;\n    return (\n        <form {...other}>\n            <Grid container {...GridContainerProps}>\n                <Grid item {...GridItemProps} className={classes.gridItem}>\n                    {props.children}\n                </Grid>\n            </Grid>\n        </form>\n    );\n};\n","import { useSnackbar } from \"notistack\"\nimport { useEffect } from \"react\";\n\nconst useSnackbarFormError = (submitCount, errors) => {\n    const {enqueueSnackbar} = useSnackbar();\n    useEffect(() => {\n        const hasError = Object.keys(errors).length !== 0;\n        if(submitCount > 0 && hasError){\n            enqueueSnackbar(\n                'Formulário inválido. Reveja os campos marcados em vermelho.', {variant: 'error'}\n            )\n        }\n    }, [submitCount, errors, enqueueSnackbar])\n}\n\nexport default useSnackbarFormError\n","import { Checkbox, FormControlLabel, TextField } from '@material-ui/core';\nimport * as React from 'react';\nimport categoryHttp from '../../util/http/category-http';\nimport * as yup from '../../util/vendor/yup'\nimport { useForm } from \"react-hook-form\"\nimport { useHistory, useParams } from 'react-router';\nimport { useSnackbar } from 'notistack';\nimport { Category } from '../../util/models';\nimport SubmitActions from '../../components/SubmitActions';\nimport { DefaultForm } from '../../components/DefaultForm';\nimport useSnackbarFormError from '../../hooks/useSnackbarFormError';\nimport LoadingContext from '../../components/loading/LoadingContext';\n\nconst useYupValidationResolver = validationSchema =>\n  React.useCallback(\n    async data => {\n      try {\n        const values = await validationSchema.validate(data, {\n          abortEarly: false\n        });\n\n        return {\n          values,\n          errors: {}\n        };\n      } catch (errors) {\n        return {\n          values: {},\n          errors: errors.inner.reduce(\n            (allErrors, currentError) => ({\n              ...allErrors,\n              [currentError.path]: {\n                type: currentError.type ?? \"validation\",\n                message: currentError.message\n              }\n            }),\n            {}\n          )\n        };\n      }\n    },\n    [validationSchema]\n  );\n\nexport const Form = () => {\n    const validationSchema = React.useMemo(\n        () =>\n          yup.object({\n            name: yup.string().label('Nome').required().max(255),\n          }),\n        []\n    );\n    const resolver = useYupValidationResolver(validationSchema);\n    const {register, handleSubmit, getValues, setValue, trigger, errors, reset, watch, formState} = useForm<{name: string, is_active: boolean}>({resolver, defaultValues: {is_active: true}})\n\n    useSnackbarFormError(formState.submitCount, errors)\n    const {enqueueSnackbar} = useSnackbar();\n    const history = useHistory()\n    const {id} = useParams<{id:string}>()\n    const [category, setCategory] = React.useState<Category | null>(null)\n    const loading = React.useContext(LoadingContext)\n\n    React.useEffect(() => {\n        register({name: \"is_active\"})\n    }, [register])\n\n    React.useEffect(() => {\n        let isSubscribed = true;\n        if(!id){\n            return\n        }\n        (async function getCategory(){\n            try{\n                const {data} = await categoryHttp.get(id)\n                if(isSubscribed){\n                    setCategory(data.data)\n                    reset(data.data)\n                }\n            } catch (error) {\n                console.error(error);\n                enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    {variant: 'error'}\n                )\n            }\n        })()\n\n        return () => {\n            isSubscribed = false\n        }\n    }, [id, reset, enqueueSnackbar])\n\n    async function onSubmit(formData, event){\n        try {\n            const http = !category\n                ? categoryHttp.create(formData)\n                : categoryHttp.update(category.id, formData)\n                const {data} = await http\n                enqueueSnackbar(\n                    'Categoria salva com sucesso',\n                    {variant: 'success'}\n                )\n                setTimeout(() => {\n                    event ? (\n                        id\n                            ? history.replace(`/categories/${data.data.id}/edit`)\n                            : history.push(`/categories/${data.data.id}/edit`)\n                    ) : history.push('/categories')\n                })\n        } catch(error) {\n            console.log(error)\n            enqueueSnackbar(\n                'Erro ao salvar categoria',\n                {variant: 'error'}\n            )\n        }\n    }\n\n    return (\n        <DefaultForm onSubmit={handleSubmit(onSubmit)} GridItemProps={{ xs: 12, md: 6 }}>\n            <TextField\n                name=\"name\"\n                label=\"Nome\"\n                fullWidth\n                variant={'outlined'}\n                inputRef={register}\n                disabled={loading}\n                error={errors.name !== undefined}\n                helperText={errors.name && errors.name.message}\n                InputLabelProps={{ shrink:true }}\n            />\n\n            <TextField\n                name=\"description\"\n                label=\"Descrição\"\n                multiline\n                rows=\"4\"\n                fullWidth\n                variant={'outlined'}\n                margin={'normal'}\n                inputRef={register}\n                disabled={loading}\n                InputLabelProps={{ shrink:true }}\n            />\n            <FormControlLabel\n            disabled={loading}\n            control={\n                <Checkbox\n                    name=\"is_active\"\n                    color={\"primary\"}\n                    onChange={\n                        () => setValue('is_active', !getValues()['is_active'])\n                    }\n                    checked={watch('is_active')}\n                    disabled={loading}\n                />\n            }\n            label={'Ativo?'}\n            labelPlacement={'end'}\n            />\n            <SubmitActions disabledButtons={loading} handleSave={() => trigger().then(isValid => {\n                isValid && onSubmit(getValues(), null)\n            })}/>\n        </DefaultForm>\n    );\n};\n","import * as React from 'react';\nimport {useParams} from 'react-router';\nimport { Page } from '../../components/Page';\nimport { Form } from './Form';\ntype Props = {\n\n};\nconst PageForm = (props: Props) => {\n    const {id} = useParams<{id:string}>()\n\n    return (\n        <Page title={!id ? 'Criar Categoria' : 'Editar categoria'}>\n            <Form/>\n        </Page>\n    );\n};\n\nexport default PageForm\n","import { httpVideo } from \"./index\"\nimport HttpResource from \"./http-resource\"\n\nconst genreHttp = new HttpResource(httpVideo, \"genres\")\n\nexport default genreHttp\n","import { IconButton, MuiThemeProvider } from '@material-ui/core';\nimport * as React from 'react';\nimport format from 'date-fns/format'\nimport parseISO from 'date-fns/parseISO'\nimport genreHttp from '../../util/http/genre-http';\nimport { Category, Genre, ListResponse } from '../../util/models';\nimport DefaultTable, { makeActionStyles, MuiDataTableRefComponent, TableColumn } from '../../components/Table'\nimport { useSnackbar } from 'notistack';\nimport EditIcon from '@material-ui/icons/Edit'\nimport { Link } from 'react-router-dom';\nimport * as yup from '../../util/vendor/yup'\nimport useFilter from '../../hooks/useFilter';\nimport { FilterResetButton } from '../../components/Table/FilterResetButton';\nimport categoryHttp from '../../util/http/category-http';\nimport { BadgeNo, BadgeYes } from '../../components/Badge';\nimport DeleteDialog from '../../components/DeleteDialog';\nimport useDeleteCollection from '../../hooks/useDeleteCollection';\nimport LoadingContext from '../../components/loading/LoadingContext';\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: 'id',\n        label: 'ID',\n        width: '27%',\n        options: {\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: \"name\",\n        label: \"Nome\",\n        width: '16%',\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: \"categories\",\n        label: \"Categorias\",\n        options: {\n            filterType: 'multiselect',\n            filterOptions: {\n                names: []\n            },\n            customBodyRender(value, tableMeta, updateValue){\n                return value.map((value: any) => value.name).join(\", \")\n            }\n        },\n        width: '30%'\n    },\n    {\n        name: \"is_active\",\n        label: \"Ativo?\",\n        options: {\n            filterOptions: {\n                names: ['Sim', 'Não']\n            },\n            customBodyRender(value, tableMeta, updateValue){\n                return value ? <BadgeYes/> : <BadgeNo/>\n            }\n        },\n        width: \"4%\"\n    },\n    {\n        name: \"created_at\",\n        label: \"Criado em\",\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue){\n                return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n            }\n        },\n        width: \"10%\"\n    },\n    {\n        name: \"actions\",\n        label: \"Ações\",\n        width: '13%',\n        options: {\n            filter: false,\n            sort: false,\n            customBodyRender: (value, tableMeta) => {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/categories/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon/>\n                    </IconButton>\n                )\n            }\n        }\n    }\n]\n\nconst debounceTime = 300\nconst debounceSearchTime = 300\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\n\nconst Table = () => {\n    const {enqueueSnackbar} = useSnackbar()\n    const subscribed = React.useRef(true)\n    const [data, setData] = React.useState<Genre[]>([])\n    const loading = React.useContext(LoadingContext)\n    const [categories, setCategories] = React.useState<Category[]>()\n    const tableRef = React.useRef() as React.MutableRefObject<MuiDataTableRefComponent>\n    const {openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete } = useDeleteCollection();\n    const extraFilter = React.useMemo(() => ({\n        createValidationSchema: () => {\n            return yup.object().shape({\n                categories: yup.mixed()\n                    .nullable()\n                    .transform(value => {\n                        return !value || value === '' ? undefined : value.split(',');\n                    })\n                    .default(null)\n            })\n        },\n        formatSearchParams: (debouncedState) => {\n            return debouncedState.extraFilter\n            ? {\n                ...(\n                    debouncedState.extraFilter.categories &&\n                    {categories: debouncedState.extraFilter.categories.join(',')}\n                )\n            }\n            : undefined\n        },\n        getStateFromURL: (queryParams) => {\n            return {\n                categories: queryParams.get('categories')\n            }\n        }\n    }), [])\n    const {columns, filterManager, cleanSearchText, filterState, debouncedFilterState, totalRecords, setTotalRecords} = useFilter({\n        columns: columnsDefinition,\n        debounceTime: debounceTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n        tableRef,\n        extraFilter\n    })\n\n    const indexColumnCategories = columns.findIndex(c => c.name === 'categories')\n    const columnCategories = columns[indexColumnCategories]\n    const categoriesFilterValue = filterState.extraFilter && filterState.extraFilter.categories;\n    (columnCategories.options as any).filterList = categoriesFilterValue ? categoriesFilterValue : []\n\n    const serverSideFilterList = columns.map(column => [])\n    if(categoriesFilterValue){\n        serverSideFilterList[indexColumnCategories] = categoriesFilterValue\n    }\n\n    const searchText = cleanSearchText(debouncedFilterState.search)\n\n    const getData = React.useCallback(async ({search, page, per_page, sort, dir, categories, is_active}) => {\n        try{\n            const {data} = await genreHttp.list<ListResponse<Genre>>({\n                queryParams: {\n                    search,\n                    page,\n                    per_page,\n                    sort,\n                    dir,\n                    ...(\n                        categories && {categories: categories}\n                    ),\n                    ...(\n                        is_active && {is_active: is_active}\n                    )\n                }\n            })\n            if(subscribed.current){\n                setData(data.data)\n                setTotalRecords(data.meta.total)\n                if(openDeleteDialog){\n                    setOpenDeleteDialog(false)\n                }\n            }\n        } catch (error) {\n            console.error(error);\n            if(genreHttp.isCancelledRequest(error)){\n                return;\n            }\n            enqueueSnackbar(\n                'Não foi possível carregar as informações',\n                {variant: 'error'}\n            )\n        }\n    }, [enqueueSnackbar, setOpenDeleteDialog, openDeleteDialog, setTotalRecords])\n\n    React.useEffect(() => {\n        let isSubscribed = true;\n        (async () => {\n            try {\n                const {data} = await categoryHttp.list({queryParams: {all: ''}})\n                if (isSubscribed) {\n                    setCategories(data.data);\n                    (columnCategories.options as any).filterOptions.names = data.data.map(category => category.name)\n                }\n            } catch (error) {\n                console.error(error)\n                enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    {variant: 'error'}\n                )\n            }\n            return () => {\n                 isSubscribed = false;\n                //executado quando componente estiver desmontado\n            }\n        })();\n    },[columnCategories, enqueueSnackbar])\n\n    React.useEffect(() => {\n        subscribed.current = true\n        getData({\n            search: searchText,\n            page: filterState.pagination.page,\n            per_page: filterState.pagination.per_page,\n            sort: filterState.order.sort,\n            dir: filterState.order.dir,\n            ...(\n                debouncedFilterState.extraFilter &&\n                debouncedFilterState.extraFilter.categories &&\n                {categories: debouncedFilterState.extraFilter.categories.join(\",\")}\n            ),\n            ...(\n                debouncedFilterState.extraFilter &&\n                debouncedFilterState.extraFilter.is_active &&\n                {is_active: debouncedFilterState.extraFilter.is_active[0] === 'Sim' ? 1 : 0}\n            )\n        })\n        return () => {\n            subscribed.current = false\n            //executado quando componente estiver desmontado\n        }\n    }, [\n        getData,\n        searchText,\n        filterState.pagination.page,\n        filterState.pagination.per_page,\n        filterState.order,\n        debouncedFilterState.extraFilter\n    ])\n\n    function deleteRows(confirmed: boolean){\n        if(!confirmed){\n            setOpenDeleteDialog(false);\n            return;\n        }\n        const ids = rowsToDelete\n            .data\n            .map(value => data[value.index].id)\n            .join(',');\n        genreHttp\n            .deleteCollection({ids})\n            .then(response => {\n                enqueueSnackbar(\n                    'Registros excluídos com sucesso', {variant: 'success'}\n                )\n                if(rowsToDelete.data.length === filterState.pagination.per_page && filterState.pagination.page > 1){\n                    const page = filterState.pagination.page - 2;\n                    filterManager.changePage(page)\n                }else{\n                    getData({\n                        search: cleanSearchText(filterState.search),\n                        page: filterState.pagination.page,\n                        per_page: filterState.pagination.per_page,\n                        sort: filterState.order.sort,\n                        dir: filterState.order.dir,\n                        ...(\n                            debouncedFilterState.extraFilter &&\n                            debouncedFilterState.extraFilter.categories &&\n                            {categories: debouncedFilterState.extraFilter.categories.join(\",\")}\n                        ),\n                        ...(\n                            debouncedFilterState.extraFilter &&\n                            debouncedFilterState.extraFilter.is_active &&\n                            {is_active: debouncedFilterState.extraFilter.is_active[0] === 'Sim' ? 1 : 0}\n                        )\n                    })\n                }\n            })\n            .catch((error) => {\n                console.error(error)\n                enqueueSnackbar(\n                    'Não foi possível excluir os registros', {variant: 'error'}\n                )\n            })\n    }\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length - 1)}>\n            <DeleteDialog open={openDeleteDialog} handleClose={deleteRows}/>\n            <DefaultTable\n                title=\"Listagem de gêneros\"\n                columns={columns}\n                data={data}\n                loading={loading}\n                debouncedSearchTime={debounceSearchTime}\n                ref={tableRef}\n                options={{\n                    // serverSideFilterList,\n                    serverSide: true,\n                    responsive: 'vertical',\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    onFilterChange: (column, filterList) => {\n                        const columnIndex = columns.findIndex(c => c.name === column)\n                        filterManager.changeExtraFilter({\n                            [column as string]: filterList[columnIndex].length ? filterList[columnIndex] : null\n                        })\n                    },\n                    customToolbar: () => (\n                        <FilterResetButton handleClick={() => filterManager.resetFilter()}/> //default\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) => filterManager.changeColumnSort(changedColumn, direction),\n                    onRowsDelete: (rowsDeleted) => {\n                        setRowsToDelete(rowsDeleted as any);\n                        return false;\n                    }\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table\n","import { Box, Fab } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport AddIcon from '@material-ui/icons/Add'\nimport Table from './Table';\n\nconst PageList = () => {\n    return (\n        <Page title={'Listagem gêneros'}>\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab title=\"Adicionar gênero\" color={'secondary'} size=\"small\" component={Link} to=\"/genres/create\">\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList\n","import { Checkbox, MenuItem, TextField } from '@material-ui/core';\nimport * as React from 'react';\nimport { useForm } from 'react-hook-form';\nimport categoryHttp from '../../util/http/category-http';\nimport * as yup from '../../util/vendor/yup'\nimport genreHttp from '../../util/http/genre-http';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { useSnackbar } from 'notistack';\nimport { Category, Genre } from '../../util/models';\nimport SubmitActions from '../../components/SubmitActions';\nimport { DefaultForm } from '../../components/DefaultForm';\nimport useSnackbarFormError from '../../hooks/useSnackbarFormError';\nimport LoadingContext from '../../components/loading/LoadingContext';\n\nconst useYupValidationResolver = validationSchema =>\n  React.useCallback(\n    async data => {\n      try {\n        const values = await validationSchema.validate(data, {\n          abortEarly: false\n        });\n\n        return {\n          values,\n          errors: {}\n        };\n      } catch (errors) {\n        return {\n          values: {},\n          errors: errors.inner.reduce(\n            (allErrors, currentError) => ({\n              ...allErrors,\n              [currentError.path]: {\n                type: currentError.type ?? \"validation\",\n                message: currentError.message\n              }\n            }),\n            {}\n          )\n        };\n      }\n    },\n    [validationSchema]\n  );\n\nexport const Form = () => {\n    const validationSchema = React.useMemo(\n        () =>\n          yup.object({\n            name: yup.string().label('Nome').required().max(255),\n            categories_id: yup.array().label('Categorias').required().min(1)\n          }),\n        []\n    );\n    const resolver = useYupValidationResolver(validationSchema);\n    const {register, handleSubmit, getValues, setValue, trigger, errors, reset, watch, formState} = useForm<{name, categories_id}>({resolver,\n        defaultValues: {\n            categories_id: []\n        }\n    })\n\n    useSnackbarFormError(formState.submitCount, errors)\n\n    const {enqueueSnackbar} = useSnackbar();\n    const history = useHistory()\n    const {id} = useParams<{id:string}>()\n    const [genre, setGenre] = React.useState<Genre | null>(null)\n    const [categories, setCategories] = React.useState<Category[]>([])\n    const loading = React.useContext(LoadingContext)\n\n    React.useEffect(() => {\n        register({name: \"categories_id\"})\n    }, [register])\n\n    React.useEffect(() => {\n        let isSubscribed = true;\n        (async function loadData(){\n            const promises = [categoryHttp.list({queryParams: {all: ''}})]\n            if(id){\n                promises.push(genreHttp.get(id))\n            }\n            try{\n                const [categoriesResponse, genreResponse] = await Promise.all(promises)\n                if(isSubscribed){\n                    setCategories(categoriesResponse.data.data)\n                    if(id){\n                        setGenre(genreResponse.data.data)\n                        const categories_id = genreResponse.data.data.categories.map(category => category.id)\n                        reset({\n                            ...genreResponse.data.data,\n                            categories_id\n                        })\n                    }\n                }\n\n            } catch (error) {\n                console.error(error);\n                enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    {variant: 'error'}\n                )\n            }\n        })()\n\n        return () => {\n            isSubscribed = false\n        }\n    }, [id, reset, enqueueSnackbar])\n\n    async function onSubmit(formData, event){\n        try {\n            const http = !genre\n                ? genreHttp.create(formData)\n                : genreHttp.update(genre.id, formData)\n                const {data} = await http\n                enqueueSnackbar(\n                    'Gênero salvo com sucesso',\n                    {variant: 'success'}\n                )\n                setTimeout(() => {\n                    event ? (\n                        id\n                            ? history.replace(`/genres/${data.data.id}/edit`)\n                            : history.push(`/genres/${data.data.id}/edit`)\n                    ) : history.push('/genres')\n                })\n        } catch(error) {\n            console.log(error)\n            enqueueSnackbar(\n                'Erro ao salvar Gênero',\n                {variant: 'error'}\n            )\n        }\n    }\n\n    return (\n        <DefaultForm onSubmit={handleSubmit(onSubmit)} GridItemProps={{ xs: 12, md: 6 }}>\n            <TextField\n                name=\"name\"\n                label=\"Nome\"\n                fullWidth\n                variant={'outlined'}\n                inputRef={register}\n                disabled={loading}\n                error={errors.name !== undefined}\n                helperText={errors.name && errors.name.message}\n                InputLabelProps={{ shrink:true }}\n            />\n            <TextField\n                name=\"description\"\n                label=\"Descrição\"\n                multiline\n                rows=\"4\"\n                fullWidth\n                variant={'outlined'}\n                margin={'normal'}\n                inputRef={register}\n                disabled={loading}\n                InputLabelProps={{ shrink:true }}\n            />\n            <TextField\n                select\n                name=\"categories_id\"\n                value={watch('categories_id')}\n                label=\"Categories\"\n                margin={'normal'}\n                variant={'outlined'}\n                fullWidth\n                onChange={(e) => {\n                    setValue('categories_id', e.target.value)\n                }}\n                SelectProps={{\n                    multiple: true\n                }}\n                disabled={loading}\n                error={errors.categories_id !== undefined}\n                helperText={errors.categories_id && errors.categories_id.message}\n                InputLabelProps={{ shrink: true }}\n            >\n                <MenuItem value=\"\" disabled>\n                    <em>Selecione categorias</em>\n                </MenuItem>\n                {\n                    categories.map(\n                        (category, key) => (\n                            <MenuItem key={key} value={category.id}>{category.name}</MenuItem>\n                        )\n                    )\n                }\n            </TextField>\n            <Checkbox\n                name=\"is_active\"\n                inputRef={register}\n                defaultChecked\n            />\n            Ativo?\n            <SubmitActions disabledButtons={loading} handleSave={() => trigger().then(isValid => {\n                 isValid && onSubmit(getValues(), null)\n            })}/>\n        </DefaultForm>\n    );\n};\n","// @flow\nimport * as React from 'react';\nimport { Page } from '../../components/Page';\nimport { Form } from './Form';\ntype Props = {\n\n};\nconst PageForm = (props: Props) => {\n    return (\n        <Page title={'Criar Gênero'}>\n            <Form/>\n        </Page>\n    );\n};\n\nexport default PageForm\n","import { httpVideo } from \"./index\"\nimport HttpResource from \"./http-resource\"\n\nconst castMemberHttp = new HttpResource(httpVideo, \"cast-members\")\n\nexport default castMemberHttp\n","export interface ListResponse<T>{\n    data: T[];\n    links: {\n        first: string;\n        last: string;\n        prev: string | null;\n        next: string | null;\n    };\n    meta: {\n        current_page: number;\n        from: number;\n        last_page: number;\n        path: string;\n        per_page: number;\n        to: number;\n        total: number;\n    };\n}\n\ninterface Timestampable {\n    readonly created_at: string;\n    readonly deleted_at: string | null;\n    readonly updated_at: string;\n}\n\nexport interface Category extends Timestampable{\n    readonly id: string;\n    name: string;\n    description: string;\n    is_active: boolean;\n}\n\nexport interface CastMember extends Timestampable{\n    readonly id: string;\n    name: string;\n    description: string;\n    type: number;\n}\n\nexport const CastMemberTypeMap = {\n    1: 'Diretor',\n    2: 'Ator'\n}\n\nexport interface Genre extends Timestampable{\n    readonly id: string;\n    name: string;\n    description: string;\n    is_active: boolean;\n    categories: Category[];\n}\n\ninterface GenreVideo extends Omit<Genre, 'categories'> {}\n\nexport const VideoFileFieldsMap = {\n    'thumb_file': 'Thumbnail',\n    'banner_file': 'Banner',\n    'trailer_file': 'Trailer',\n    'video_file': 'Principal'\n}\n\nexport interface Video extends Timestampable{\n    readonly id: string;\n    title: string;\n    description: string;\n    year_launched: number;\n    opened: boolean;\n    rating: string;\n    duration: number;\n    genres: GenreVideo[];\n    categories: Category[];\n    cast_members: CastMember[];\n    thumb_file_url: string;\n    banner_file_url: string;\n    trailer_file_url: string;\n    video_file_url: string;\n}\n","import * as React from 'react';\nimport format from 'date-fns/format'\nimport parseISO from 'date-fns/parseISO'\nimport castMemberHttp from '../../util/http/cast-member-http';\nimport { CastMember, ListResponse, CastMemberTypeMap } from '../../util/models';\nimport DefaultTable, { makeActionStyles, MuiDataTableRefComponent, TableColumn } from '../../components/Table'\nimport { useSnackbar } from 'notistack';\nimport { IconButton, MuiThemeProvider } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport EditIcon from '@material-ui/icons/Edit'\nimport * as yup from '../../util/vendor/yup'\nimport useFilter from '../../hooks/useFilter';\nimport { FilterResetButton } from '../../components/Table/FilterResetButton';\nimport { invert } from 'lodash';\nimport DeleteDialog from '../../components/DeleteDialog';\nimport useDeleteCollection from '../../hooks/useDeleteCollection';\nimport LoadingContext from '../../components/loading/LoadingContext';\n\nconst castMemberNames = Object.values(CastMemberTypeMap)\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: 'id',\n        label: 'ID',\n        width: '30%',\n        options: {\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: \"name\",\n        label: \"Nome\",\n        width: \"43%\",\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: \"type\",\n        label: \"Tipo\",\n        options: {\n            filterOptions: {\n                names: castMemberNames\n            },\n            customBodyRender(value, tableMeta, updateValue){\n                return CastMemberTypeMap[value]\n            }\n        },\n        width: \"4%\"\n    },\n    {\n        name: \"created_at\",\n        label: \"Criado em\",\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue){\n                return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n            }\n        },\n        width: '10%',\n    },\n    {\n        name: \"actions\",\n        label: \"Ações\",\n        width: '13%',\n        options: {\n            filter: false,\n            sort: false,\n            customBodyRender: (value, tableMeta) => {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/categories/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon/>\n                    </IconButton>\n                )\n            }\n        }\n    }\n]\n\nconst debounceTime = 300\nconst debounceSearchTime = 300\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\n\nconst Table = () => {\n    const {enqueueSnackbar} = useSnackbar()\n    const subscribed = React.useRef(true)\n    const [data, setData] = React.useState<CastMember[]>([])\n    const loading = React.useContext(LoadingContext)\n    const {openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete } = useDeleteCollection();\n    const tableRef = React.useRef() as React.MutableRefObject<MuiDataTableRefComponent>\n\n    const extraFilter = React.useMemo(() => ({\n            createValidationSchema: () => {\n                return yup.object().shape({\n                    type: yup.string()\n                        .nullable()\n                        .transform(value => {\n                            return !value || !castMemberNames.includes(value) ? undefined : value;\n                        })\n                        .default(null)\n                })\n            },\n            formatSearchParams: (debouncedState) => {\n                return debouncedState.extraFilter\n                ? {\n                    ...(\n                        debouncedState.extraFilter.type &&\n                        {type: debouncedState.extraFilter.type}\n                    )\n                }\n                : undefined\n            },\n            getStateFromURL: (queryParams) => {\n                return {\n                    type: queryParams.get('type')\n                }\n            }\n    }), [])\n    const {columns, filterManager, cleanSearchText, filterState, debouncedFilterState, totalRecords, setTotalRecords} = useFilter({\n        columns: columnsDefinition,\n        debounceTime: debounceTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n        tableRef,\n        extraFilter\n    })\n    const searchText = cleanSearchText(filterState.search)\n\n    const indexColumnType = columns.findIndex(c => c.name === 'type')\n    const columnType = columns[indexColumnType]\n    const typeFilterValue = filterState.extraFilter && filterState.extraFilter.type as never;\n    (columnType.options as any).filterList = typeFilterValue ? [typeFilterValue] : []\n\n    const serverSideFilterList = columns.map(column => [])\n    if(typeFilterValue){\n        serverSideFilterList[indexColumnType] = [typeFilterValue]\n    }\n\n    const getData = React.useCallback(async ({search, page, per_page, sort, dir, type}) => {\n        try{\n            const {data} = await castMemberHttp.list<ListResponse<CastMember>>({\n                queryParams: {\n                    search,\n                    page,\n                    per_page,\n                    sort,\n                    dir,\n                    ...(\n                        type && {type: invert(CastMemberTypeMap)[type]}\n                    )\n                }\n            })\n            if(subscribed.current){\n                setData(data.data)\n                setTotalRecords(data.meta.total)\n                if(openDeleteDialog){\n                    setOpenDeleteDialog(false)\n                }\n            }\n        } catch (error) {\n            console.error(error);\n            if(castMemberHttp.isCancelledRequest(error)){\n                return;\n            }\n            enqueueSnackbar(\n                'Não foi possível carregar as informações',\n                {variant: 'error'}\n            )\n        }\n    }, [enqueueSnackbar, setTotalRecords, openDeleteDialog, setOpenDeleteDialog])\n\n    React.useEffect(() => {\n        subscribed.current = true\n        getData({\n            search: searchText,\n            page: filterState.pagination.page,\n            per_page: filterState.pagination.per_page,\n            sort: filterState.order.sort,\n            dir: filterState.order.dir,\n            ...(\n                debouncedFilterState.extraFilter &&\n                debouncedFilterState.extraFilter.type &&\n                {type: debouncedFilterState.extraFilter.type}\n            )\n        })\n        return () => {\n            subscribed.current = false\n            //executado quando componente estiver desmontado\n        }\n    }, [\n        getData,\n        searchText,\n        filterState.pagination.page,\n        filterState.pagination.per_page,\n        filterState.order,\n        debouncedFilterState.extraFilter\n    ])\n\n    function deleteRows(confirmed: boolean){\n        if(!confirmed){\n            setOpenDeleteDialog(false);\n            return;\n        }\n        const ids = rowsToDelete\n            .data\n            .map(value => data[value.index].id)\n            .join(',');\n        castMemberHttp\n            .deleteCollection({ids})\n            .then(response => {\n                enqueueSnackbar(\n                    'Registros excluídos com sucesso', {variant: 'success'}\n                )\n                if(rowsToDelete.data.length === filterState.pagination.per_page && filterState.pagination.page > 1){\n                    const page = filterState.pagination.page - 2;\n                    filterManager.changePage(page)\n                }else{\n                    getData({\n                        search: searchText,\n                        page: filterState.pagination.page,\n                        per_page: filterState.pagination.per_page,\n                        sort: filterState.order.sort,\n                        dir: filterState.order.dir,\n                        ...(\n                            debouncedFilterState.extraFilter &&\n                            debouncedFilterState.extraFilter.type &&\n                            {type: debouncedFilterState.extraFilter.type}\n                        )\n                    })\n                }\n            })\n            .catch((error) => {\n                console.error(error)\n                enqueueSnackbar(\n                    'Não foi possível excluir os registros', {variant: 'error'}\n                )\n            })\n    }\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length - 1)}>\n            <DeleteDialog open={openDeleteDialog} handleClose={deleteRows}/>\n            <DefaultTable\n                title=\"Listagem de membros\"\n                columns={columns}\n                data={data}\n                loading={loading}\n                debouncedSearchTime={debounceSearchTime}\n                ref={tableRef}\n                options={{\n                    serverSide: true,\n                    responsive: 'vertical',\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    onFilterChange: (column: any, filterList) => {\n                        const columnIndex = columns.findIndex(c => c.name === column)\n                        filterManager.changeExtraFilter({\n                            [column]: filterList[columnIndex].length ? filterList[columnIndex][0] : null\n                        })\n                    },\n                    customToolbar: () => (\n                        <FilterResetButton handleClick={() => filterManager.resetFilter()}/> //default\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) => filterManager.changeColumnSort(changedColumn, direction),\n                    onRowsDelete: (rowsDeleted) => {\n                        setRowsToDelete(rowsDeleted as any);\n                        return false;\n                    }\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table\n","// @flow\nimport { Box, Fab } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport AddIcon from '@material-ui/icons/Add'\nimport Table from './Table';\n\nconst PageList = () => {\n    return (\n        <Page title={'Listagem membros de elenco'}>\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab title=\"Adicionar membro de elenco\" color={'secondary'} size=\"small\" component={Link} to=\"/cast-members/create\">\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList\n","import { FormControl, FormControlLabel, FormHelperText, FormLabel, Radio, RadioGroup, TextField } from '@material-ui/core';\nimport { useSnackbar } from 'notistack';\nimport * as React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { DefaultForm } from '../../components/DefaultForm';\nimport LoadingContext from '../../components/loading/LoadingContext';\nimport SubmitActions from '../../components/SubmitActions';\nimport useSnackbarFormError from '../../hooks/useSnackbarFormError';\nimport castMemberHttp from '../../util/http/cast-member-http';\nimport { CastMember } from '../../util/models';\nimport * as yup from '../../util/vendor/yup'\n\nconst useYupValidationResolver = validationSchema =>\n  React.useCallback(\n    async data => {\n      try {\n        const values = await validationSchema.validate(data, {\n          abortEarly: false\n        });\n\n        return {\n          values,\n          errors: {}\n        };\n      } catch (errors) {\n        return {\n          values: {},\n          errors: errors.inner.reduce(\n            (allErrors, currentError) => ({\n              ...allErrors,\n              [currentError.path]: {\n                type: currentError.type ?? \"validation\",\n                message: currentError.message\n              }\n            }),\n            {}\n          )\n        };\n      }\n    },\n    [validationSchema]\n  );\n\nexport const Form = () => {\n    const validationSchema = React.useMemo(\n        () =>\n          yup.object({\n            name: yup.string().label('Nome').required().max(255),\n            type: yup.number().label('Tipo').required()\n          }),\n        []\n    );\n    const resolver = useYupValidationResolver(validationSchema);\n    const {register, handleSubmit, getValues, setValue, trigger, errors, reset, watch, formState} = useForm<{name: string, type: string}>({resolver})\n\n    useSnackbarFormError(formState.submitCount, errors)\n    const {enqueueSnackbar} = useSnackbar();\n    const history = useHistory()\n    const {id} = useParams<{id:string}>()\n    const [castMember, setCastMember] = React.useState<CastMember | null>(null)\n    const loading = React.useContext(LoadingContext)\n\n    React.useEffect(() => {\n        register({name: \"type\"})\n    }, [register])\n\n    React.useEffect(() => {\n        let isSubscribed = true;\n        if(!id){\n            return\n        }\n        (async function getCastMember(){\n            try{\n                const {data} = await castMemberHttp.get(id)\n                if(isSubscribed){\n                    setCastMember(data.data)\n                    reset(data.data)\n                }\n            } catch (error) {\n                console.error(error);\n                enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    {variant: 'error'}\n                )\n            }\n        })()\n\n        return () => {\n            isSubscribed = false\n        }\n    }, [id, reset, enqueueSnackbar])\n\n    async function onSubmit(formData, event){\n        try {\n            const http = !castMember\n                ? castMemberHttp.create(formData)\n                : castMemberHttp.update(castMember.id, formData)\n                const {data} = await http\n                enqueueSnackbar(\n                    'Membro de Elenco salvo com sucesso',\n                    {variant: 'success'}\n                )\n                setTimeout(() => {\n                    event ? (\n                        id\n                            ? history.replace(`/cast-members/${data.data.id}/edit`)\n                            : history.push(`/cast-members/${data.data.id}/edit`)\n                    ) : history.push('/cast-members')\n                })\n        } catch(error) {\n            console.log(error)\n            enqueueSnackbar(\n                'Erro ao salvar Membro de Elenco',\n                {variant: 'error'}\n            )\n        }\n    }\n\n    return (\n        <DefaultForm onSubmit={handleSubmit(onSubmit)} GridItemProps={{ xs: 12, md: 6 }}>\n            <TextField\n                name=\"name\"\n                label=\"Nome\"\n                fullWidth\n                variant={'outlined'}\n                inputRef={register}\n                disabled={loading}\n                error={errors.name !== undefined}\n                helperText={errors.name && errors.name.message}\n                InputLabelProps={{ shrink: true }}\n            />\n            <FormControl\n                margin={\"normal\"}\n                error={errors.type !== undefined}\n                disabled={loading}\n            >\n                <FormLabel component=\"legend\">Tipo</FormLabel>\n                <RadioGroup\n                    name=\"type\"\n                    onChange={(e) => {\n                        setValue('type', parseInt(e.target.value))\n                    }}\n                    value={watch('type') + \"\"}\n                >\n                    <FormControlLabel value=\"1\" control={<Radio color={\"primary\"}/>} label=\"Diretor\"/>\n                    <FormControlLabel value=\"2\" control={<Radio color={\"primary\"}/>} label=\"Ator\"/>\n                </RadioGroup>\n                {\n                    errors.type && <FormHelperText id=\"type-helper-text\">{errors.type.message}</FormHelperText>\n                }\n            </FormControl>\n            <SubmitActions disabledButtons={loading} handleSave={() => trigger().then(isValid => {\n                 isValid && onSubmit(getValues(), null)\n            })}/>\n        </DefaultForm>\n    );\n};\n","// @flow\nimport * as React from 'react';\nimport { Page } from '../../components/Page';\nimport { Form } from './Form';\ntype Props = {\n\n};\nconst PageForm = (props: Props) => {\n    return (\n        <Page title={'Criar Membros de Elenco'}>\n            <Form/>\n        </Page>\n    );\n};\n\nexport default PageForm\n","import { httpVideo } from \"./index\"\nimport HttpResource from \"./http-resource\"\n\nconst videoHttp = new HttpResource(httpVideo, \"videos\")\n\nexport default videoHttp\n","import * as React from 'react';\nimport format from 'date-fns/format'\nimport parseISO from 'date-fns/parseISO'\nimport { ListResponse, Video } from '../../util/models';\nimport DefaultTable, {makeActionStyles ,TableColumn, MuiDataTableRefComponent} from '../../components/Table'\nimport { useSnackbar } from 'notistack';\nimport { IconButton, MuiThemeProvider } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport EditIcon from '@material-ui/icons/Edit'\nimport { FilterResetButton } from '../../components/Table/FilterResetButton';\nimport useFilter from '../../hooks/useFilter';\nimport videoHttp from '../../util/http/video-http';\nimport useDeleteCollection from '../../hooks/useDeleteCollection';\nimport DeleteDialog from '../../components/DeleteDialog';\nimport LoadingContext from '../../components/loading/LoadingContext';\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: 'id',\n        label: 'ID',\n        width: '30%',\n        options: {\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: \"title\",\n        label: \"Título\",\n        width: \"20%\",\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: \"genres\",\n        label: \"Gêneros\",\n        width: \"14%\",\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender: (value, tableMeta, updateValue) => {\n                return value.map(value => value.name).join(', ')\n            }\n        }\n    },\n    {\n        name: \"categories\",\n        label: \"Categorias\",\n        width: \"14%\",\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender: (value, tableMeta, updateValue) => {\n                return value.map(value => value.name).join(', ')\n            }\n        }\n    },\n    {\n        name: \"created_at\",\n        label: \"Criado em\",\n        width: '10%',\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue){\n                return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n            }\n        }\n    },\n    {\n        name: \"actions\",\n        label: \"Ações\",\n        width: '12%',\n        options: {\n            filter: false,\n            sort: false,\n            customBodyRender: (value, tableMeta) => {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/videos/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon/>\n                    </IconButton>\n                )\n            }\n        }\n    }\n]\n\nconst debounceTime = 300\nconst debounceSearchTime = 300\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\n\nconst Table = () => {\n    const {enqueueSnackbar} = useSnackbar()\n    const subscribed = React.useRef(true)\n    const [data, setData] = React.useState<Video[]>([])\n    const loading = React.useContext(LoadingContext)\n    const tableRef = React.useRef() as React.MutableRefObject<MuiDataTableRefComponent>\n    const {openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete } = useDeleteCollection();\n\n    const {columns, filterManager, filterState, cleanSearchText, totalRecords, setTotalRecords} = useFilter({\n        columns: columnsDefinition,\n        debounceTime: debounceTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n        tableRef\n    })\n\n    const searchText = cleanSearchText(filterState.search)\n\n    const getData = React.useCallback(async ({search, page, per_page, sort, dir}) => {\n        try{\n            const {data} = await videoHttp.list<ListResponse<Video>>({\n                queryParams: {\n                    search,\n                    page,\n                    per_page,\n                    sort,\n                    dir\n                }\n            })\n            if(subscribed.current){\n                setData(data.data)\n                setTotalRecords(data.meta.total)\n                if(openDeleteDialog){\n                    setOpenDeleteDialog(false)\n                }\n            }\n        } catch(error){\n            console.error(error);\n            if(videoHttp.isCancelledRequest(error)){\n                return;\n            }\n            enqueueSnackbar(\n                'Não foi possível carregar as informações',\n                {variant: 'error'}\n            )\n        }\n    }, [enqueueSnackbar, setTotalRecords, openDeleteDialog, setOpenDeleteDialog])\n\n    React.useEffect(() => {\n        subscribed.current = true\n        getData({\n            search: searchText,\n            page: filterState.pagination.page,\n            per_page: filterState.pagination.per_page,\n            sort: filterState.order.sort,\n            dir: filterState.order.dir\n        })\n\n        return () => {\n            subscribed.current = false\n            //executado quando componente estiver desmontado\n        }\n    }, [\n        getData,\n        searchText,\n        filterState.pagination.page,\n        filterState.pagination.per_page,\n        filterState.order\n    ])\n\n    function deleteRows(confirmed: boolean){\n        if(!confirmed){\n            setOpenDeleteDialog(false);\n            return;\n        }\n        const ids = rowsToDelete\n            .data\n            .map(value => data[value.index].id)\n            .join(',');\n        videoHttp\n            .deleteCollection({ids})\n            .then(response => {\n                enqueueSnackbar(\n                    'Registros excluídos com sucesso', {variant: 'success'}\n                )\n                if(rowsToDelete.data.length === filterState.pagination.per_page && filterState.pagination.page > 1){\n                    const page = filterState.pagination.page - 2;\n                    filterManager.changePage(page)\n                }else{\n                    getData({\n                        search: searchText,\n                        page: filterState.pagination.page,\n                        per_page: filterState.pagination.per_page,\n                        sort: filterState.order.sort,\n                        dir: filterState.order.dir\n                    })\n                }\n            })\n            .catch((error) => {\n                console.error(error)\n                enqueueSnackbar(\n                    'Não foi possível excluir os registros', {variant: 'error'}\n                )\n            })\n    }\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length - 1)}>\n            <DeleteDialog open={openDeleteDialog} handleClose={deleteRows}/>\n            <DefaultTable\n                title=\"Listagem de Vídeos\"\n                columns={columns}\n                data={data}\n                loading={loading}\n                debouncedSearchTime={debounceSearchTime}\n                ref={tableRef}\n                options={{\n                    serverSide: true,\n                    responsive: 'vertical',\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    customToolbar: () => (\n                        <FilterResetButton handleClick={() => filterManager.resetFilter()}/> //default\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) => filterManager.changeColumnSort(changedColumn, direction),\n                    onRowsDelete: (rowsDeleted) => {\n                        setRowsToDelete(rowsDeleted as any);\n                        return false;\n                    }\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table\n","import { Box, Fab } from '@material-ui/core';\nimport { Page } from '../../components/Page';\nimport AddIcon from '@material-ui/icons/Add'\nimport { Link } from 'react-router-dom';\nimport Table from './Table';\n\nconst PageList = () => {\n    return (\n        <Page title={'Listagem vídeos'}>\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab title=\"Adicionar vídeo\" color={'secondary'} size=\"small\" component={Link} to=\"/videos/create\">\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList\n","// @flow\nimport { makeStyles, Typography } from '@material-ui/core';\nimport * as React from 'react';\n\nconst useStyles = makeStyles({\n    root: {\n        width: '36px',\n        height: '36px',\n        fontSize: '1.2em',\n        color: '#fff',\n        borderRadius: '4px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n    }\n})\n\nconst backgroundColors = {\n    'L': '#398549',\n    '10': '#20A3D4',\n    '12': '#E79738',\n    '14': '#E35E00',\n    '16': '#D00003',\n    '18': '#000000'\n}\n\ninterface RatingProps {\n    rating: 'L' | '10' | '12' | '14' | '16' | '18'\n}\n\nconst Rating: React.FC<RatingProps> = (props) => {\n    const classes = useStyles();\n    return (\n        <Typography\n            className={classes.root}\n            style={{\n                backgroundColor: backgroundColors[props.rating]\n             }}\n        >\n            {props.rating}\n        </Typography>\n    );\n};\n\nexport default Rating;\n","import { Box, FormControl, FormControlLabel, FormControlLabelProps, FormControlProps, FormHelperText, FormLabel, Radio, RadioGroup } from '@material-ui/core';\nimport * as React from 'react';\nimport Rating from '../../../components/Rating';\n\ninterface RatingFieldProps {\n    value: string;\n    setValue: (value) => void;\n    disabled: boolean;\n    error: any;\n    FormControlProps?: FormControlProps\n}\n\nconst ratings:FormControlLabelProps[] = [\n    {value: \"L\", control: <Radio color=\"primary\"/>, label: <Rating rating={'L'}/>, labelPlacement: \"top\"},\n    {value: \"10\", control: <Radio color=\"primary\"/>, label: <Rating rating={'10'}/>, labelPlacement: \"top\"},\n    {value: \"12\", control: <Radio color=\"primary\"/>, label: <Rating rating={'12'}/>, labelPlacement: \"top\"},\n    {value: \"14\", control: <Radio color=\"primary\"/>, label: <Rating rating={'14'}/>, labelPlacement: \"top\"},\n    {value: \"16\", control: <Radio color=\"primary\"/>, label: <Rating rating={'16'}/>, labelPlacement: \"top\"},\n    {value: \"18\", control: <Radio color=\"primary\"/>, label: <Rating rating={'18'}/>, labelPlacement: \"top\"},\n]\n\nexport const RatingField: React.FC<RatingFieldProps> = (props) => {\n    const {value, setValue, error, disabled} = props;\n\n    return (\n        <FormControl\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                <FormLabel component=\"legend\">Classificação</FormLabel>\n                <Box paddingTop={1}>\n                    <RadioGroup\n                        name=\"rating\"\n                        onChange={(e) => {\n                            setValue(e.target.value)\n                        }}\n                        value={value}\n                        row\n                    >\n                        {\n                            ratings.map(\n                                (props, key) => <FormControlLabel key={key} {...props}/>\n                            )\n                        }\n                    </RadioGroup>\n                </Box>\n                {error && <FormHelperText>{error.message}</FormHelperText>}\n            </FormControl>\n    );\n};\n","import { InputAdornment, TextField, TextFieldProps } from '@material-ui/core';\nimport React, { MutableRefObject, RefAttributes, useImperativeHandle, useRef, useState } from 'react';\n\nexport interface InputFileProps extends RefAttributes<InputFileComponent> {\n    ButtonFile: React.ReactNode;\n    InputFileProps?: React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>;\n    TextFieldProps?: TextFieldProps;\n}\n\nexport interface InputFileComponent {\n    openWindow: () => void;\n    clear: () => void;\n}\n\nconst InputFile = React.forwardRef<InputFileComponent, InputFileProps>((props, ref) => {\n    const fileRef = useRef() as MutableRefObject<HTMLInputElement>;\n    const [filename, setFilename] = useState(\"\");\n\n    const textFieldProps: TextFieldProps = {\n        variant:'outlined',\n        ...props.TextFieldProps,\n        InputProps:{\n            // ...(\n            //     props.TextFieldProps && props.TextFieldProps.InputProps && {...props.TextFieldProps.InputProps}\n            // ),\n            ...props.TextFieldProps?.InputProps,\n            readOnly: true,\n            endAdornment: (\n                <InputAdornment position={'end'}>\n                    {props.ButtonFile}\n                </InputAdornment>\n            )\n         },\n         value: filename\n    };\n\n    const inputFileProps = {\n        ...props.InputFileProps,\n        hidden: true,\n        ref: fileRef,\n        onChange(event){\n            const files = event.target.files;\n            if(files.length){\n                setFilename(Array.from(files).map((file: any) => file.name).join(', '))\n            }\n            if(props.InputFileProps && props.InputFileProps.onChange){\n                props.InputFileProps.onChange(event)\n            }\n        }\n    };\n\n    useImperativeHandle(ref, () => ({\n        openWindow: () => fileRef.current.click(),\n        clear: () => setFilename(\"\")\n    }));\n\n    return (\n        <>\n            <input type=\"file\" {...inputFileProps}/>\n            <TextField {...textFieldProps}/>\n        </>\n    );\n});\n\nexport default InputFile\n","// @flow\nimport { Button, FormControl, FormControlProps, FormHelperText } from '@material-ui/core';\nimport * as React from 'react';\nimport InputFile, { InputFileComponent } from '../../../components/InputFile';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\n\ninterface UploadFieldProps {\n    accept: string;\n    label: string;\n    setValue: (value) => void;\n    error?: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps\n}\n\nexport interface UploadFieldComponent {\n    clear: () => void\n}\n\nexport const UploadField = React.forwardRef<UploadFieldComponent, UploadFieldProps>((props, ref) => {\n    const fileRef = React.useRef() as React.MutableRefObject<InputFileComponent>;\n\n    const { accept, label, setValue, error, disabled} = props;\n\n    React.useImperativeHandle(ref, () => ({\n        clear: () => fileRef.current.clear()\n    }))\n\n    return (\n        <FormControl\n                error={error !== undefined}\n                disabled={disabled === true}\n                fullWidth\n                margin={\"normal\"}\n                {...props.FormControlProps}\n            >\n                <InputFile\n                    ref={fileRef}\n                    TextFieldProps={{\n                        label: label,\n                        InputLabelProps: {shrink: true},\n                        style:{backgroundColor: \"#FFFFFF\"}\n                    }}\n                    InputFileProps={{\n                        accept,\n                        onChange(event){\n                            const files = (event.target.files as any);\n                            files.length && setValue(files[0])\n                        }\n                        }}\n                    ButtonFile={\n                        <Button\n                            endIcon={<CloudUploadIcon/>}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                            onClick={() => fileRef.current.openWindow()}\n                        >\n                            Adicionar\n                        </Button>\n                    }\n                />\n                {error && <FormHelperText>{error.message}</FormHelperText>}\n            </FormControl>\n    );\n});\n","import { CircularProgress, TextField, TextFieldProps } from '@material-ui/core';\nimport { Autocomplete, AutocompleteProps } from '@material-ui/lab';\nimport * as React from 'react';\nimport { useDebounce } from 'use-debounce/lib';\n\ninterface AsyncAutocompleteProps {\n    fetchOptions: (searchText) => Promise<any>\n    debounceTime?: number;\n    TextFieldProps?: TextFieldProps\n    AutocompleteProps?: Omit<AutocompleteProps<any, any, any, any>, 'renderInput' | 'options'>\n}\n\nexport interface AsyncAutocompleteComponent {\n    clear: () => void\n}\n\nconst AsyncAutocomplete = React.forwardRef<AsyncAutocompleteComponent, AsyncAutocompleteProps>((props, ref) => {\n    const {AutocompleteProps, debounceTime = 300, fetchOptions} = props;\n    const {freeSolo = false, onOpen, onClose, onInputChange} = AutocompleteProps as any;\n    const [open, setOpen] = React.useState(false)\n    const [searchText, setSearchText] = React.useState(\"\")\n    const [debouncedSearchText] = useDebounce(searchText, debounceTime)\n    const [loading, setLoading] = React.useState(false)\n    const [options, setOptions] = React.useState([])\n\n    const textFieldProps: TextFieldProps = {\n        margin: 'normal',\n        variant: 'outlined',\n        fullWidth: true,\n        InputLabelProps: {shrink: true},\n        ...(props.TextFieldProps && {...props.TextFieldProps})\n    }\n\n    const autocompleteProps: AutocompleteProps<any, any, any, any> = {\n        loadingText: 'Carregando...',\n        noOptionsText: 'Nenhum item encontrado',\n        ...(AutocompleteProps && {...AutocompleteProps}),\n        open,\n        options,\n        loading: loading,\n        inputValue: searchText,\n        onOpen(){\n            setOpen(true)\n            onOpen && onOpen()\n        },\n        onClose(){\n            setOpen(false)\n            onClose && onClose()\n        },\n        onInputChange(event, value){\n            setSearchText(value)\n            onInputChange && onInputChange();\n        },\n        renderInput:params => {\n            return <TextField\n                {...params}\n                {...textFieldProps}\n                InputProps={{\n                    ...params.InputProps,\n                    endAdornment: (\n                        <>\n                            {loading && <CircularProgress color={\"inherit\"} size={20}/>}\n                            {params.InputProps.endAdornment}\n                        </>\n                    )\n                 }}\n\n            />\n        }\n    }\n\n    React.useEffect(() => {\n        if(!open && !freeSolo){\n            setOptions([])\n        }\n    }, [open, freeSolo])\n\n    React.useEffect(() => {\n        if(!open){\n            return;\n        }\n        if(debouncedSearchText === \"\" && freeSolo)\n        {\n            return;\n        }\n        let isSubscribed = true;\n        (async() => {\n          setLoading(true);\n          try {\n            const data = await fetchOptions(debouncedSearchText);\n            if (isSubscribed) {\n              setOptions(data);\n            }\n        } finally {\n            setLoading(false);\n        }\n        })();\n        return () => {\n          isSubscribed = false;\n        };\n    }, [freeSolo, debouncedSearchText, open, fetchOptions]);\n\n    React.useImperativeHandle(ref, () => ({\n        clear: () => {\n            setSearchText(\"\")\n            setOptions([])\n        }\n    }))\n\n    return (\n        <Autocomplete {...autocompleteProps}/>\n    );\n});\n\nexport default AsyncAutocomplete;\n","import { Grid, Theme, createStyles, makeStyles } from \"@material-ui/core\";\nimport { GridProps } from \"@material-ui/core/Grid\";\nimport React from \"react\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return createStyles({\n        root: {\n            backgroundColor: \"#F1F1F1\",\n            borderRadius: \"4px\",\n            padding: theme.spacing(1, 1),\n            color: theme.palette.secondary.main,\n        },\n    });\n});\n\ninterface GridSelectedProps extends GridProps {}\n\nconst GridSelected: React.FC<GridSelectedProps> = (props) => {\n    const classes = useStyles();\n    return <Grid container wrap=\"wrap\" className={classes.root} {...props}>\n        {props.children}\n    </Grid>\n};\n\nexport default GridSelected;\n","import { Grid, IconButton } from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { GridProps } from \"@material-ui/core/Grid\";\nimport React from \"react\";\n\ninterface GridSelectedItemProps extends GridProps {\n    onDelete: () => void;\n}\n\nconst GridSelectedItem: React.FC<GridSelectedItemProps> = (props) => {\n    const {onDelete, children, ...other} = props;\n    return (\n        <Grid item {...other}>\n            <Grid container alignItems={\"center\"} spacing={3}>\n                <Grid item xs={1}>\n                    <IconButton size=\"small\" color={\"inherit\"} onClick={onDelete}>\n                        <DeleteIcon />\n                    </IconButton>\n                </Grid>\n                <Grid item xs={10} md={11}>\n                    {children}\n                </Grid>\n            </Grid>\n        </Grid>\n    );\n};\n\nexport default GridSelectedItem;\n","import { useSnackbar } from \"notistack\";\n\nconst useCollectionManager = (collection: any[], setCollection: (item) => void) => {\n    const snackbar = useSnackbar();\n    return {\n        addItem(item){\n            if(!item || item === \"\"){\n                return;\n            }\n            const exists = collection.find(i => i.id === item.id)\n            if(exists){\n                snackbar.enqueueSnackbar('Item já adicionado', {variant: 'info'})\n                return;\n            }\n            collection.unshift(item);\n            setCollection(collection);\n        },\n        removeItem(item){\n            const index = collection.findIndex(i => i.id === item.id)\n            if(index === -1){\n                return;\n            }\n            collection.splice(index, 1);\n            setCollection(collection);\n        }\n    }\n}\n\nexport default useCollectionManager;\n","import { useSnackbar } from \"notistack\";\nimport axios from 'axios';\nimport { useCallback } from \"react\";\n\nconst useHttpHandled = () => {\n    const {enqueueSnackbar} = useSnackbar();\n    return useCallback(async (request: Promise<any>) => {\n        try{\n            const {data} = await request;\n            return data;\n        }catch(e){\n            console.log(e)\n            if(!axios.isCancel(e)){\n                enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    {variant: 'error'}\n                );\n            }\n            throw e;\n        }\n    }, [enqueueSnackbar])\n}\n\nexport default useHttpHandled;\n","import { Category, Genre } from \"./models\";\n\nexport function getGenresFromCategory(genres: Genre[], category: Category){\n    return genres.filter(\n        genre => genre.categories.filter(cat => cat.id === category.id).length !== 0\n    )\n}\n","import { FormControl, FormControlProps, FormHelperText, makeStyles, Theme, Typography, useTheme } from '@material-ui/core';\nimport { grey } from '@material-ui/core/colors';\nimport * as React from 'react';\nimport AsyncAutocomplete, { AsyncAutocompleteComponent } from '../../../components/AsyncAutocomplete';\nimport GridSelected from '../../../components/GridSelected';\nimport GridSelectedItem from '../../../components/GridSelectedItem';\nimport useCollectionManager from '../../../hooks/useCollectionManager';\nimport useHttpHandled from '../../../hooks/useHttpHandled';\nimport categoryHttp from '../../../util/http/category-http';\nimport { getGenresFromCategory } from '../../../util/model-filters';\nimport { Genre } from '../../../util/models';\n\ninterface CategoryFieldProps {\n    categories: any[];\n    setCategories: (categories) => void;\n    genres: Genre[] | any[];\n    error: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps\n};\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    genresSubtitle: {\n        color: grey[800],\n        fontSize: \"0.8rem\",\n    },\n}));\n\nexport interface CategoryFieldComponent {\n    clear: () => void\n}\n\nconst CategoryField = React.forwardRef<CategoryFieldComponent, CategoryFieldProps>((props, ref) => {\n    const {categories, setCategories, genres, error, disabled} = props;\n    const classes = useStyles();\n    const autocompleteHttp = useHttpHandled();\n    const {addItem, removeItem} = useCollectionManager(categories, setCategories);\n    const autocompleteRef = React.useRef() as React.MutableRefObject<AsyncAutocompleteComponent>\n    const theme = useTheme()\n\n    const fetchOptions =  React.useCallback((searchText) => {\n        return autocompleteHttp(\n            categoryHttp\n                .list({\n                    queryParams: {\n                        genres: genres.map(genre => genre.id).join(','), all: \"\"\n                    }\n                })\n        ).then(data => data.data)\n    }, [autocompleteHttp, genres])\n\n    React.useImperativeHandle(ref, () => ({\n        clear: () => autocompleteRef.current.clear()\n    }))\n\n    return (\n        <>\n            <AsyncAutocomplete\n                ref={autocompleteRef}\n                fetchOptions={fetchOptions}\n                AutocompleteProps={{\n                    // autoSelect: true,\n                    clearOnEscape: true,\n                    getOptionSelected: (option, value) => option.id === value.id,\n                    getOptionLabel: option => option.name,\n                    onChange: (event, value) => addItem(value),\n                    disabled: disabled === true || !genres.length\n                }}\n                TextFieldProps={{\n                    label: 'Categorias',\n                    error: error !== undefined\n                }}\n            />\n            <FormHelperText style={{ height: theme.spacing(3) }}>\n                Escolha pelo menos uma categoria de cada gênero\n            </FormHelperText>\n            <FormControl\n                margin={\"normal\"}\n                fullWidth\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                <GridSelected>\n                    {\n                        categories.map((category, key) => {\n                            const genresFromCategory = getGenresFromCategory(genres, category)\n                                .map(genre => genre.name).join(',')\n                            return (\n                                <GridSelectedItem key={key} onDelete={() => removeItem(category)} xs={12}>\n                                    <Typography noWrap={true}>{category.name}</Typography>\n                                    <Typography noWrap={true} className={classes.genresSubtitle}>Gêneros: {genresFromCategory}</Typography>\n                                </GridSelectedItem>\n                            )\n                        })\n                    }\n                </GridSelected>\n                {\n                    error && <FormHelperText>{error.message}</FormHelperText>\n                }\n            </FormControl>\n        </>\n    );\n});\n\nexport default CategoryField;\n","import { FormControl, FormControlProps, FormHelperText, Typography, useTheme } from '@material-ui/core';\nimport * as React from 'react';\nimport AsyncAutocomplete, { AsyncAutocompleteComponent } from '../../../components/AsyncAutocomplete';\nimport GridSelected from '../../../components/GridSelected';\nimport GridSelectedItem from '../../../components/GridSelectedItem';\nimport useCollectionManager from '../../../hooks/useCollectionManager';\nimport useHttpHandled from '../../../hooks/useHttpHandled';\nimport genreHttp from '../../../util/http/genre-http';\nimport { getGenresFromCategory } from '../../../util/model-filters';\n\ninterface GenreFieldProps {\n    genres: any[];\n    setGenres: (genres) => void;\n    categories: any[],\n    setCategories: (categories) => void;\n    error: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps\n};\n\nexport interface GenreFieldComponent {\n    clear: () => void\n}\n\nconst GenreField = React.forwardRef<GenreFieldComponent, GenreFieldProps>((props, ref) => {\n    const {genres, setGenres, categories, setCategories,error, disabled} = props;\n    const autocompleteHttp = useHttpHandled();\n    const {addItem, removeItem} = useCollectionManager(genres, setGenres);\n    const {removeItem: removeCategory} = useCollectionManager(categories, setCategories);\n    const autocompleteRef = React.useRef() as React.MutableRefObject<AsyncAutocompleteComponent>\n    const theme = useTheme()\n\n    const fetchOptions = React.useCallback((searchText) => {\n        return autocompleteHttp(\n            genreHttp\n                .list({\n                    queryParams: {\n                        search: searchText, all: \"\"\n                    }\n                })\n        ).then(data => data.data)\n    }, [autocompleteHttp])\n\n    React.useImperativeHandle(ref, () => ({\n        clear: () => autocompleteRef.current.clear()\n    }))\n\n    return (\n        <>\n            <AsyncAutocomplete\n            ref={autocompleteRef}\n                fetchOptions={fetchOptions}\n                AutocompleteProps={{\n                    // autoSelect: true,\n                    clearOnEscape: true,\n                    freeSolo: true,\n                    getOptionSelected: (option, value) => option.id === value.id,\n                    getOptionLabel: option => option.name,\n                    onChange: (event, value) => addItem(value),\n                    disabled\n\n                }}\n                TextFieldProps={{\n                    label: 'Gêneros',\n                    error: error !== undefined\n                }}\n            />\n            <FormHelperText style={{ height: theme.spacing(3) }}>\n                Escolha os gêneros do vídeo\n            </FormHelperText>\n            <FormControl\n                margin={\"normal\"}\n                fullWidth\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                <GridSelected>\n                    {\n                        genres.map((genre, key) => (\n                            <GridSelectedItem key={key} onDelete={() => {\n                                const categoriesWithOneGenre = categories.filter(category => {\n                                    const genresFromCategory = getGenresFromCategory(genres, category)\n                                    return genresFromCategory.length === 1  && genres[0].id === genre.id\n                                });\n                                categoriesWithOneGenre.forEach(cat => removeCategory(cat))\n                                removeItem(genre)\n                            }} xs={12}>\n                                <Typography noWrap={true}>{genre.name}</Typography>\n                            </GridSelectedItem>\n                        ))\n                    }\n                </GridSelected>\n                {\n                    error && <FormHelperText>{error.message}</FormHelperText>\n                }\n            </FormControl>\n        </>\n    );\n});\n\nexport default GenreField;\n","import { FormControl, FormControlProps, FormHelperText, Typography } from \"@material-ui/core\";\nimport React, { MutableRefObject, RefAttributes, useCallback, useImperativeHandle, useRef } from \"react\";\nimport AsyncAutocomplete, { AsyncAutocompleteComponent } from \"../../../components/AsyncAutocomplete\";\nimport GridSelected from \"../../../components/GridSelected\";\nimport GridSelectedItem from \"../../../components/GridSelectedItem\";\nimport useCollectionManager from \"../../../hooks/useCollectionManager\";\nimport useHttpHandled from \"../../../hooks/useHttpHandled\";\nimport castMemberHttp from \"../../../util/http/cast-member-http\";\n\ninterface CastMemberFieldProps extends RefAttributes<CastMemberFieldProps> {\n    castMembers: any[];\n    setCastMembers: (castMembers) => void;\n    error: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps\n};\n\nexport interface CastMemberFieldComponent {\n    clear: () => void\n}\n\nconst CastMemberField = React.forwardRef<CastMemberFieldComponent, CastMemberFieldProps>((props, ref) => {\n    const {castMembers, setCastMembers, error, disabled} = props;\n    const autocompleteHttp = useHttpHandled();\n    const {addItem, removeItem} = useCollectionManager(castMembers, setCastMembers);\n    const autocompleteRef = useRef() as MutableRefObject<AsyncAutocompleteComponent>\n\n    const fetchOptions = useCallback((searchText) => {\n        return autocompleteHttp(\n            castMemberHttp\n                .list({\n                    queryParams: {\n                        search: searchText, all: \"\"\n                    }\n                })\n        ).then(data => data.data)\n    }, [autocompleteHttp])\n\n    useImperativeHandle(ref, () => ({\n        clear: () => autocompleteRef.current.clear()\n    }))\n\n    return (\n        <>\n            <AsyncAutocomplete\n                ref={autocompleteRef}\n                fetchOptions={fetchOptions}\n                AutocompleteProps={{\n                    // autoSelect: true,\n                    clearOnEscape: true,\n                    freeSolo: true,\n                    getOptionSelected: (option, value) => option.id === value.id,\n                    getOptionLabel: option => option.name,\n                    onChange: (event, value) => addItem(value),\n                    disabled\n\n                }}\n                TextFieldProps={{\n                    label: 'Elenco',\n                    error: error !== undefined\n                }}\n            />\n            <FormControl\n                margin={\"normal\"}\n                fullWidth\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                <GridSelected>\n                    {\n                        castMembers.map((castMember, key) => (\n                            <GridSelectedItem key={key} onDelete={() => removeItem(castMember)} xs={6}>\n                                <Typography noWrap={true}>{castMember.name}</Typography>\n                            </GridSelectedItem>\n                        ))\n                    }\n                </GridSelected>\n                {\n                    error && <FormHelperText>{error.message}</FormHelperText>\n                }\n            </FormControl>\n        </>\n    );\n});\n\nexport default CastMemberField;\n","import { createActions, createReducer } from 'reduxsauce'\nimport update from 'immutability-helper'\nimport * as Typings from './types'\n\nexport const {Types, Creators} = createActions<{\n    ADD_UPLOAD: string,\n    REMOVE_UPLOAD: string,\n    UPDATE_PROGRESS: string,\n    SET_UPLOAD_ERROR: string\n}, {\n    addUpload(payload: Typings.AddUploadAction['payload']): Typings.AddUploadAction\n    removeUpload(payload: Typings.RemoveUploadAction['payload']): Typings.RemoveUploadAction\n    updateProgress(payload: Typings.UpdateProgressAction['payload']): Typings.UpdateProgressAction\n    setUploadError(payload: Typings.SetUploadErrorAction['payload']): Typings.SetUploadErrorAction\n}>\n({\n    addUpload: ['payload'],\n    removeUpload: ['payload'],\n    updateProgress: ['payload'],\n    setUploadError: ['payload']\n})\n\nexport const INITIAL_STATE: Typings.UploadState = {\n    uploads: []\n}\n\nconst reducer = createReducer<Typings.UploadState, Typings.Actions>(INITIAL_STATE, {\n    [Types.ADD_UPLOAD]: addUpload,\n    [Types.REMOVE_UPLOAD]: removeUpload,\n    [Types.UPDATE_PROGRESS]: updateProgress,\n    [Types.SET_UPLOAD_ERROR]: setUploadError,\n})\n\nexport default reducer\n\nfunction addUpload(state = INITIAL_STATE, action: Typings.AddUploadAction): Typings.UploadState{\n    if(!action.payload.files.length){\n        return state;\n    }\n\n    const index = findIndexUpload(state, action.payload.video.id);\n    if(index !== -1 && state.uploads[index].progress < 1){\n        return state;\n    }\n\n    const uploads = index === -1 ? state.uploads : update(state.uploads, {$splice: [[index, 1]]});\n\n    return {\n        uploads: [\n            ...uploads,\n            {\n                video: action.payload.video,\n                progress: 0,\n                files: action.payload.files.map(file => ({\n                    fileField: file.fileField,\n                    filename: file.file.name,\n                    progress: 0\n                }))\n            }\n        ]\n    }\n}\n\nfunction removeUpload(state: Typings.UploadState = INITIAL_STATE, action: Typings.RemoveUploadAction): Typings.UploadState{\n    const uploads = state.uploads.filter(upload => upload.video.id !== action.payload.id);\n    if(uploads.length === state.uploads.length){\n        return state;\n    }\n    return {\n        uploads\n    }\n}\n\nfunction updateProgress(state: Typings.UploadState = INITIAL_STATE, action: Typings.UpdateProgressAction): Typings.UploadState{\n    const videoId = action.payload.video.id;\n    const fileField = action.payload.fileField;\n    const {indexUpload, indexFile} = findIndexUploadAndFile(state, videoId, fileField)\n\n    if(typeof indexUpload === 'undefined'){\n        return state;\n    }\n\n    const upload = state.uploads[indexUpload];\n    const file = upload.files[indexFile];\n\n    if(file.progress === action.payload.progress){\n        return state;\n    }\n\n    const uploads = update(state.uploads, {\n        [indexUpload]: {\n            $apply(upload){\n                const files = update(upload.files, {\n                    [indexFile]: {\n                        $set: {...file, progress: action.payload.progress}\n                    }\n                })\n                const progress = calculateGlobalProgress(files);\n                return {...upload, progress, files}\n            },\n\n        }\n    })\n\n    return {uploads}\n}\n\nfunction setUploadError(state: Typings.UploadState = INITIAL_STATE, action: Typings.SetUploadErrorAction): Typings.UploadState{\n    const videoId = action.payload.video.id;\n    const fileField = action.payload.fileField;\n    const {indexUpload, indexFile} = findIndexUploadAndFile(state, videoId, fileField)\n\n    if(typeof indexUpload === 'undefined'){\n        return state;\n    }\n\n    const upload = state.uploads[indexUpload];\n    const file = upload.files[indexFile];\n\n    const uploads = update(state.uploads, {\n        [indexUpload]: {\n            files: {\n                [indexFile]: {\n                    $set: {...file, error: action.payload.error, progress: 1}\n                }\n            },\n\n        }\n    })\n\n    return {uploads}\n}\n\nfunction findIndexUploadAndFile(state: Typings.UploadState, videoId, fileField): { indexUpload?, indexFile? }{\n    const indexUpload = findIndexUpload(state, videoId);\n    if(indexUpload === -1){\n        return {};\n    }\n    const upload = state.uploads[indexUpload];\n    const indexFile = findIndexFile(upload.files, fileField);\n    return indexFile === -1 ? {} : {indexUpload, indexFile};\n}\n\nfunction calculateGlobalProgress(files: Array<{progress}>){\n    const countFiles = files.length;\n    if(!countFiles){\n        return 0;\n    }\n    const sumProgress = files.reduce((sum, file) => sum + file.progress, 0)\n\n    return sumProgress / countFiles;\n}\n\nfunction findIndexUpload(state: Typings.UploadState, id: string){\n    return state.uploads.findIndex((upload) => upload.video.id === id);\n}\n\nfunction findIndexFile(files: Array<{fileField}>, fileField: string){\n    return files.findIndex(file => file.fileField === fileField);\n}\n","import { FileUpload, Upload } from \"./types\";\n\nexport function countInProgress(uploads: Upload[]){\n    return uploads.filter(upload => !isFinished(upload)).length\n}\n\nexport function isFinished(obj: Upload | FileUpload): boolean{\n    return obj.progress === 1 || hasError(obj);\n}\n\nexport function hasError(obj: Upload | FileUpload): boolean{\n    if(isUploadType(obj)){\n        const upload = obj as Upload;\n        return upload.files.some(file => file.error)\n    }else{\n        const file = obj as FileUpload;\n        return file.error !== undefined\n    }\n}\n\nexport function isUploadType(obj: Upload | FileUpload){\n    return 'video' in obj;\n}\n","import { Fade, IconButton, ListItemSecondaryAction, makeStyles, Theme } from '@material-ui/core';\nimport * as React from 'react';\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { Upload } from '../../store/upload/types';\nimport { useDispatch } from 'react-redux';\nimport { Creators } from '../../store/upload';\nimport { hasError, isFinished } from '../../store/upload/getters';\nimport { useDebounce } from 'use-debounce/lib';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    successIcon: {\n        color: theme.palette.success.main\n    },\n    errorIcon: {\n        color: theme.palette.error.main\n    },\n    deleteIcon: {\n        color: theme.palette.primary.main\n    }\n}))\n\ninterface UploadActionProps {\n    upload: Upload;\n    hover: boolean;\n}\n\nexport const UploadAction: React.FC<UploadActionProps> = (props) => {\n    const {upload, hover} = props\n    const classes = useStyles()\n    const dispatch = useDispatch();\n    const error = hasError(upload)\n    const [show, setShow] = React.useState(false)\n    const [debouncedShow] = useDebounce(show, 2500)\n\n    React.useEffect(() => {\n        setShow(isFinished(upload))\n    }, [upload])\n\n    return (\n        debouncedShow ? (\n            <Fade in={show} timeout={{ enter: 1000 }}>\n                <ListItemSecondaryAction>\n                    <span hidden={hover}>\n                        {\n                            upload.progress === 1 && !error && (\n                                <IconButton className={classes.successIcon} edge={\"end\"}>\n                                    <CheckCircleIcon/>\n                                </IconButton>\n                            )\n                        }\n                        {\n                            error && (\n                                <IconButton className={classes.errorIcon} edge={\"end\"}>\n                                    <ErrorIcon/>\n                                </IconButton>\n                            )\n                        }\n                    </span>\n                    <span hidden={!hover}>\n                        <IconButton className={classes.deleteIcon} edge={\"end\"} onClick={() => dispatch(Creators.removeUpload({id: upload.video.id}))}>\n                            <DeleteIcon/>\n                        </IconButton>\n                    </span>\n                </ListItemSecondaryAction>\n            </Fade>\n        ) : null\n\n    );\n};\n","// @flow\nimport { CircularProgress, Fade, makeStyles, Theme } from '@material-ui/core';\nimport { grey } from '@material-ui/core/colors';\nimport * as React from 'react';\nimport { hasError } from '../store/upload/getters';\nimport { FileUpload, Upload } from '../store/upload/types';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    progressContainer: {\n        position: 'relative'\n    },\n    progressBackground: {\n        color: grey[\"300\"]\n    },\n    progress: {\n        position: 'absolute',\n        left: 0\n    }\n}))\n\ninterface UploadProgressProps {\n    uploadOrFile: Upload | FileUpload;\n    size: number;\n};\nconst UploadProgress:React.FC<UploadProgressProps> = (props) => {\n    const {uploadOrFile, size} = props\n    const classes = useStyles()\n    const error = hasError(uploadOrFile)\n\n    return (\n        <Fade in={uploadOrFile.progress < 1} timeout={{ enter: 100, exit: 2000 }}>\n            <div className={classes.progressContainer}>\n                <CircularProgress variant=\"static\" className={classes.progressBackground} value={100} size={size}/>\n                <CircularProgress variant=\"static\" className={classes.progress} value={error ? 0 : uploadOrFile.progress * 100} size={size}/>\n            </div>\n        </Fade>\n    );\n};\n\nexport default UploadProgress;\n","import { Divider, ListItem, ListItemIcon, ListItemText, makeStyles, Theme, Tooltip, Typography } from \"@material-ui/core\";\nimport MovieIcon from \"@material-ui/icons/Movie\";\nimport React, { useState } from \"react\";\nimport { UploadAction } from \"./UploadAction\";\nimport UploadProgress from \"../UploadProgress\";\nimport { Upload } from \"../../store/upload/types\";\nimport { hasError } from \"../../store/upload/getters\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    listItem: {\n        paddingTop: '7px',\n        paddingBottom: '7px',\n        height: '53px'\n    },\n    movieIcon: {\n        color: theme.palette.error.main,\n        minWidth: '40px'\n    },\n    listItemText: {\n        marginLeft: '6px',\n        marginRight: '24px',\n        color: theme.palette.text.secondary\n    }\n}))\n\ninterface UploadItemProps {\n    upload: Upload;\n}\n\nconst UploadItem: React.FC<UploadItemProps> = (props) => {\n    const {upload} = props;\n    const classes = useStyles()\n    const error = hasError(upload)\n    const [itemHover, setItemHover] = useState(false)\n\n    return (\n        <>\n            <Tooltip disableFocusListener disableTouchListener title={error ? 'Não foi possível fazer o upload, clique para mais detalhes' : \"\"} placement={'left'}>\n                <ListItem\n                    className={classes.listItem}\n                    button\n                    onMouseOver={() => setItemHover(true)}\n                    onMouseLeave={() => setItemHover(false)}\n                >\n                    <ListItemIcon className={classes.movieIcon}>\n                        <MovieIcon/>\n                    </ListItemIcon>\n                    <ListItemText className={classes.listItemText} primary={\n                        <Typography noWrap={true} variant={'subtitle2'} color={\"inherit\"}>{upload.video.title}</Typography>\n                    }>\n                    </ListItemText>\n                    <UploadProgress size={30} uploadOrFile={upload}/>\n                    <UploadAction upload={upload} hover={itemHover}/>\n                </ListItem>\n            </Tooltip>\n            <Divider component=\"li\" />\n        </>\n    )\n}\n\nexport default UploadItem;\n","import { Card, CardActions, Collapse, IconButton, List, makeStyles, Theme, Typography } from \"@material-ui/core\"\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport React, { useState } from \"react\";\nimport { useSnackbar } from \"notistack\";\nimport classnames from \"classnames\";\nimport UploadItem from \"./UploadItem\";\nimport { Upload, UploadModule } from \"../../store/upload/types\";\nimport { useSelector } from \"react-redux\";\nimport { countInProgress } from \"../../store/upload/getters\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    card: {\n        width: 450,\n    },\n    cardActionRoot: {\n        padding: '8px 8px 8px 16px',\n        backgroundColor: theme.palette.primary.main\n    },\n    title: {\n        fontWeight: 'bold',\n        color: theme.palette.primary.contrastText\n    },\n    icons: {\n        marginLeft: 'auto !important',\n        color: theme.palette.primary.contrastText\n    },\n    expand: {\n        transform: 'rotate(0deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest\n        })\n    },\n    expandOpen: {\n        transform: 'rotate(180deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest\n        })\n    },\n    list: {\n        paddingTop: 0,\n        paddingBottom: 0\n    }\n}))\ninterface SnackbarUploadProps{\n    id: string | number;\n}\n\nconst SnackbarUpload = React.forwardRef<any, SnackbarUploadProps>((props, ref) =>{\n    const {id} = props;\n    const classes = useStyles();\n    const {closeSnackbar} = useSnackbar();\n    const [expanded, setExpanded] = useState(true)\n\n    const uploads = useSelector<UploadModule, Upload[]>(\n        (state) => state.upload.uploads\n    )\n\n    const totalInProgress = countInProgress(uploads)\n\n    return (\n        <Card ref={ref} className={classes.card}>\n            <CardActions classes={{  root: classes.cardActionRoot }}>\n                <Typography variant=\"subtitle2\" className={classes.title}>\n                    Fazendo upload de {totalInProgress} vídeo(s)\n                </Typography>\n                <div className={classes.icons}>\n                    <IconButton color={\"inherit\"} onClick={() => setExpanded(!expanded)} className={classnames(classes.expand, {[classes.expandOpen]: !expanded})}>\n                        <ExpandMoreIcon />\n                    </IconButton>\n                    <IconButton color={\"inherit\"} onClick={() => closeSnackbar(id)}>\n                        <CloseIcon />\n                    </IconButton>\n                </div>\n            </CardActions>\n            <Collapse in={expanded}>\n                <List className={classes.list}>\n                    {\n                        uploads.map((upload, key) => (\n                            <UploadItem key={key} upload={upload}/>\n                        ))\n                    }\n                </List>\n            </Collapse>\n        </Card>\n    )\n});\n\nexport default SnackbarUpload\n","import { Card, CardContent, Checkbox, FormControlLabel, Grid, makeStyles, TextField, Theme, Typography, useMediaQuery, useTheme } from '@material-ui/core';\nimport { useSnackbar } from 'notistack';\nimport * as React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useHistory, useParams } from 'react-router';\nimport SubmitActions from '../../../components/SubmitActions';\nimport videoHttp from '../../../util/http/video-http';\nimport { Video, VideoFileFieldsMap } from '../../../util/models';\nimport * as yup from '../../../util/vendor/yup'\nimport { RatingField } from './RatingField';\nimport { UploadField } from './UploadField';\nimport CategoryField, { CategoryFieldComponent } from \"./CategoryField\";\nimport GenreField, { GenreFieldComponent } from \"./GenreField\";\nimport CastMemberField, { CastMemberFieldComponent } from './CastMemberField';\nimport { omit, zipObject } from 'lodash';\nimport { InputFileComponent } from '../../../components/InputFile';\nimport { DefaultForm } from '../../../components/DefaultForm';\nimport useSnackbarFormError from '../../../hooks/useSnackbarFormError';\nimport LoadingContext from '../../../components/loading/LoadingContext';\nimport SnackbarUpload from '../../../components/SnackbarUpload';\nimport { useDispatch } from 'react-redux';\nimport { FileInfo } from '../../../store/upload/types';\nimport { Creators } from '../../../store/upload';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    cardUpload: {\n        borderRadius: \"4px\",\n        backgroundColor: \"#F5F5F5\",\n        margin: theme.spacing(2, 0)\n    },\n    cardOpened: {\n        borderRadius: \"4px\",\n        backgroundColor: \"#F5F5F5\",\n    },\n    cardContentOpened: {\n        paddingBottom: theme.spacing(2) + 'px !important'\n    },\n}))\n\nconst useYupValidationResolver = validationSchema =>\n    React.useCallback(\n        async data => {\n        try {\n            const values = await validationSchema.validate(data, {\n            abortEarly: false\n            });\n\n            return {\n            values,\n            errors: {}\n            };\n        } catch (errors) {\n            return {\n            values: {},\n            errors: errors.inner.reduce(\n                (allErrors, currentError) => ({\n                ...allErrors,\n                [currentError.path]: {\n                    type: currentError.type ?? \"validation\",\n                    message: currentError.message\n                }\n                }),\n                {}\n            )\n            };\n        }\n        },\n        [validationSchema]\n    );\n\nconst fileFields = Object.keys(VideoFileFieldsMap);\n\nexport const Form = () => {\n    const validationSchema = yup.object().shape({\n        title: yup.string()\n            .label('Título')\n            .required()\n            .max(255),\n        description: yup.string()\n            .label('Sinopse')\n            .required(),\n        year_launched: yup.number()\n            .label('Ano de Lançamento')\n            .required()\n            .min(1),\n        duration: yup.number()\n            .required().min(1),\n        genres: yup.array()\n            .label('Gêneros')\n            .test({\n            message: \"Cada Gênero escolhido precisa ter, pelo menos, uma categoria selecionada\",\n            test: (value, ctx) => {\n                if (!value) {\n                    return false;\n                }\n                return value.every(\n                    v =>\n                        v.categories.filter(cat => {\n                            const categories = ctx.parent.categories;\n                            return (\n                                categories && categories.map(c => c.id).includes(cat.id)\n                            );\n                        }).length !== 0\n                    );\n                },\n            }),\n        categories: yup.array().label('Categories').required(),\n        rating: yup.string()\n            .label('Classificação')\n            .required()\n    })\n\n    const resolver = useYupValidationResolver(validationSchema);\n\n    const { register, handleSubmit, getValues, setValue, errors, reset, watch, trigger, formState } = useForm<Video>({\n        resolver,\n        defaultValues: {\n            rating: undefined,\n            genres: [],\n            categories: [],\n            cast_members: [],\n            opened: false\n        }\n    })\n\n    useSnackbarFormError(formState.submitCount, errors)\n\n    const classes = useStyles()\n    const {enqueueSnackbar} = useSnackbar();\n    const history = useHistory()\n    const dispatch = useDispatch();\n    const {id} = useParams<{id:string}>()\n    const [video, setVideo] = React.useState<Video | null>(null)\n    const loading = React.useContext(LoadingContext)\n    const theme = useTheme();\n    const isGreaterMd = useMediaQuery(theme.breakpoints.up('md'));\n    const castMemberRef = React.useRef() as React.MutableRefObject<CastMemberFieldComponent>\n    const genreRef = React.useRef() as React.MutableRefObject<GenreFieldComponent>\n    const categoryRef = React.useRef() as React.MutableRefObject<CategoryFieldComponent>\n    const uploadsRef = React.useRef(\n        zipObject(fileFields, fileFields.map(() => React.createRef()))\n    ) as React.MutableRefObject<{[key: string]: React.MutableRefObject<InputFileComponent>}>;\n\n    const resetForm = React.useCallback((data) => {\n        Object.keys(uploadsRef.current).forEach(\n            field => uploadsRef.current[field].current.clear()\n        );\n        castMemberRef.current.clear();\n        genreRef.current.clear();\n        categoryRef.current.clear();\n        reset(data);\n    }, [reset, uploadsRef, castMemberRef, genreRef, categoryRef])\n\n    React.useEffect(() => {\n        ['rating', 'opened', 'genres', 'categories', 'cast_members', ...fileFields].forEach(name => register({name}));\n    }, [register])\n\n    React.useEffect(() => {\n        enqueueSnackbar('', {\n            key: 'snackbar-upload',\n            persist: true,\n            anchorOrigin: {\n                vertical: 'bottom',\n                horizontal: 'right'\n            },\n            content: (key, message) => {\n                const id = key as any;\n                return <SnackbarUpload id={id} />\n            }\n        })\n        if(!id){\n            return\n        }\n        let isSubscribed = true;\n        (async () => {\n            try{\n                const {data} = await videoHttp.get(id)\n                if(isSubscribed){\n                    setVideo(data.data)\n                    resetForm(data.data)\n                }\n            } catch (error) {\n                console.error(error);\n                enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    {variant: 'error'}\n                )\n            }\n        })()\n\n        return () => {\n            isSubscribed = false\n        }\n    }, [id, resetForm, enqueueSnackbar])\n\n    async function onSubmit(formData: Video, event) {\n        const sendData = omit(\n            formData, [...fileFields, \"genres\", \"categories\", \"cast_members\"]\n        );\n\n        sendData[\"cast_members_id\"] = formData[\"cast_members\"].map((cast_member) => cast_member.id);\n        sendData[\"categories_id\"] = formData[\"categories\"].map((category) => category.id);\n        sendData[\"genres_id\"] = formData[\"genres\"].map((genre) => genre.id);\n\n        try {\n            const http = !video\n                ? videoHttp.create(sendData)\n                : videoHttp.update(video.id, sendData);\n\n            const { data } = await http;\n            enqueueSnackbar(\"Video salvo com sucesso!\", {variant: \"success\"});\n            uploadFiles(data.data)\n            id && resetForm(video);\n            setTimeout(() => {\n                event ? (!id && history.push(`/videos/${data.data.id}/edit`)) : history.push('/videos')\n            });\n        } catch (error) {\n            console.log(error);\n            enqueueSnackbar(\"Falha ao salvar Video\", {variant: \"error\"});\n        }\n    }\n\n    function uploadFiles(video){\n        const files: FileInfo[] = fileFields\n            .filter(fileField => getValues()[fileField])\n            .map(fileField => ({fileField, file: getValues()[fileField]}))\n\n            if(!files.length){\n                return;\n            }\n\n        dispatch(Creators.addUpload({video, files}))\n\n        enqueueSnackbar('', {\n            key: 'snackbar-upload',\n            persist: true,\n            anchorOrigin: {\n                vertical: 'bottom',\n                horizontal: 'right'\n            },\n            content: (key, message) => {\n                const id = key as any;\n                return <SnackbarUpload id={id}/>\n            }\n        })\n    }\n\n    return (\n        <DefaultForm onSubmit={handleSubmit(onSubmit)} GridItemProps={{ xs: 12 }}>\n            <Grid container spacing={5}>\n                <Grid item xs={12} md={6}>\n                    <TextField\n                        name=\"title\"\n                        label=\"Título\"\n                        fullWidth\n                        variant={'outlined'}\n                        inputRef={register}\n                        disabled={loading}\n                        error={errors.title !== undefined}\n                        helperText={errors.title && errors.title.message}\n                        InputLabelProps={{ shrink:true }}\n                    />\n                    <TextField\n                        name=\"description\"\n                        label=\"Sinopse\"\n                        multiline\n                        rows=\"4\"\n                        fullWidth\n                        variant='outlined'\n                        margin='normal'\n                        inputRef={register}\n                        disabled={loading}\n                        InputLabelProps={{ shrink:true }}\n                        error={errors.description !== undefined}\n                        helperText={errors.description && errors.description.message}\n                    />\n                    <Grid container spacing={1}>\n                        <Grid item xs={6}>\n                            <TextField\n                                name=\"year_launched\"\n                                label=\"Ano de Lançamento\"\n                                type=\"number\"\n                                fullWidth\n                                variant='outlined'\n                                margin='normal'\n                                inputRef={register}\n                                disabled={loading}\n                                InputLabelProps={{ shrink:true }}\n                                error={errors.year_launched !== undefined}\n                                helperText={errors.year_launched && errors.year_launched.message}\n                            />\n                        </Grid>\n                        <Grid item xs={6}>\n                            <TextField\n                                name=\"duration\"\n                                label=\"Duração\"\n                                type=\"number\"\n                                fullWidth\n                                variant='outlined'\n                                margin='normal'\n                                inputRef={register}\n                                disabled={loading}\n                                InputLabelProps={{ shrink:true }}\n                                error={errors.duration !== undefined}\n                                helperText={errors.duration && errors.duration.message}\n                            />\n                        </Grid>\n                    </Grid>\n                    <CastMemberField\n                        ref={castMemberRef}\n                        castMembers={watch('cast_members')}\n                        setCastMembers={(value) => setValue('cast_members', value, { shouldValidate: true })}\n                        error={errors.cast_members}\n                        disabled={loading}\n                    />\n                    <Grid container spacing={2}>\n                        <Grid item md={6} xs={12}>\n                            <GenreField\n                                genres={watch('genres')}\n                                setGenres={(value) => setValue('genres', value, { shouldValidate: true })}\n                                categories={watch('categories')}\n                                setCategories={(value) => setValue('categories', value, { shouldValidate: true })}\n                                error={errors.genres}\n                                disabled={loading}\n                            />\n                        </Grid>\n                        <Grid item md={6} xs={12}>\n                            <CategoryField\n                                categories={watch('categories')}\n                                setCategories={(value) => setValue('categories', value, { shouldValidate: true })}\n                                genres={watch('genres')}\n                                error={errors.categories}\n                                disabled={loading}\n                            />\n                        </Grid>\n                    </Grid>\n                </Grid>\n                <Grid item xs={12} md={6}>\n                    <RatingField\n                        value={watch('rating')}\n                        setValue={(value) => setValue('rating', value, { shouldValidate: true })}\n                        error={errors.rating}\n                        disabled={loading}\n                        FormControlProps={{\n                            margin: isGreaterMd ? 'none' : 'normal'\n                        }}\n                    />\n                    <Card className={classes.cardUpload}>\n                        <CardContent>\n                            <Typography color=\"primary\" variant=\"h6\">\n                                Imagens\n                            </Typography>\n                            <UploadField\n                                ref={uploadsRef.current['thumb_file']}\n                                accept={'image/*'}\n                                label={'Thumb'}\n                                setValue={(value) => setValue('thumb_file', value)}\n                            />\n                            <UploadField\n                                ref={uploadsRef.current['banner_file']}\n                                accept={'image/*'}\n                                label={'Banner'}\n                                setValue={(value) => setValue('banner_file', value)}\n                            />\n                        </CardContent>\n                    </Card>\n                    <Card className={classes.cardUpload}>\n                         <CardContent>\n                             <Typography color=\"primary\" variant=\"h6\">\n                                 Vídeos\n                             </Typography>\n                            <UploadField\n                                ref={uploadsRef.current['trailer_file']}\n                                accept={'video/mp4'}\n                                label={'Trailer'}\n                                setValue={(value) => setValue('trailer_file', value)}\n                            />\n                            <UploadField\n                                ref={uploadsRef.current['video_file']}\n                                accept={'video/mp4'}\n                                label={'Principal'}\n                                setValue={(value) => setValue('video_file', value)}\n                            />\n                         </CardContent>\n                    </Card>\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                name=\"opened\"\n                                color={'primary'}\n                                onChange={\n                                    () => setValue('opened' as never, !getValues()['opened'])\n                                }\n                                checked={watch('opened')}\n                                disabled={loading}\n                            />\n                        }\n                        label={\n                            <Typography color=\"primary\" variant={'subtitle2'}>\n                                Quero que este conteúdo apareça na seção lançamentos\n                            </Typography>\n                        }\n                        labelPlacement=\"end\"\n                    />\n                </Grid>\n            </Grid>\n            <SubmitActions disabledButtons={loading} handleSave={() => trigger().then(isValid => {\n                isValid && onSubmit(getValues(), null)\n            })}/>\n        </DefaultForm>\n    );\n};\n","import { useParams } from 'react-router';\nimport { Page } from '../../components/Page';\nimport { Form } from './Form';\n\nexport const PageForm = () => {\n    const {id} = useParams<{id:string}>();\n    return (\n        <Page title={!id ? 'Criar vídeo' : 'Editar vídeo'}>\n            <Form/>\n        </Page>\n    );\n};\n\nexport default PageForm;\n","import * as React from 'react';\nimport { Page } from '../components/Page';\ninterface DashboardProps {\n\n};\nconst Dashboard = (props: DashboardProps) => {\n    return (\n        <Page title=\"Dashboard\">\n\n        </Page>\n    );\n};\n\nexport default Dashboard\n","import { Divider, Fade, IconButton, Theme, makeStyles} from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport { Link } from \"react-router-dom\";\nimport { useDebounce } from \"use-debounce/lib\";\nimport { FileUpload, Upload } from \"../../store/upload/types\";\nimport { Creators } from \"../../store/upload\";\nimport { useDispatch } from \"react-redux\";\nimport { hasError, isFinished, isUploadType } from \"../../store/upload/getters\";\n\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return {\n        successIcon: {\n            color: theme.palette.success.main,\n            marginLeft: theme.spacing(1),\n        },\n        errorIcon: {\n            color: theme.palette.error.main,\n            marginLeft: theme.spacing(1),\n        },\n        divider: {\n            height: \"20px\",\n            marginLeft: theme.spacing(1),\n            marginRight: theme.spacing(1),\n        },\n    };\n});\n\ninterface UploadActionProps {\n    uploadOrFile: Upload | FileUpload\n}\n\nconst UploadAction: React.FC<UploadActionProps> = (props) => {\n    const {uploadOrFile} = props;\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const [show, setShow] = useState(false)\n    const [debouncedShow] = useDebounce(show, 2500)\n    const error = hasError(uploadOrFile)\n    const videoId = (uploadOrFile as any).video.id ? (uploadOrFile as any).video.id : \"\"\n    const activeActions = isUploadType(uploadOrFile)\n\n    React.useEffect(() => {\n        setShow(isFinished(uploadOrFile))\n    }, [uploadOrFile])\n\n    return (\n        debouncedShow ? (\n            <Fade in={show} timeout={{ enter: 1000 }}>\n                <>\n                    {\n                        uploadOrFile.progress === 1 && !error &&\n                        <CheckCircleIcon className={classes.successIcon} />\n                    }\n                    { error && <ErrorIcon className={classes.errorIcon} />}\n                    { activeActions && (\n                        <>\n                            <Divider className={classes.divider} orientation={\"vertical\"} />\n                            <IconButton\n                                onClick={() => dispatch(Creators.removeUpload({id: videoId}))}\n                            >\n                                <DeleteIcon color={\"primary\"} />\n                            </IconButton>\n                            <IconButton component={Link} to={`/videos/${videoId}/edit`}>\n                                <EditIcon color={\"primary\"} />\n                            </IconButton>\n                        </>\n                    )}\n                </>\n            </Fade>\n        ) : null\n    )\n};\n\nexport default UploadAction;\n","import { Grid, ListItem, Theme, Typography, makeStyles} from \"@material-ui/core\";\nimport ImageIcon from \"@material-ui/icons/Image\";\nimport MovieIcon from \"@material-ui/icons/Movie\";\nimport React from \"react\";\nimport UploadAction from \"./UploadAction\";\nimport UploadProgress from \"../../components/UploadProgress\";\nimport { FileUpload, Upload } from \"../../store/upload/types\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return {\n        gridTitle: {\n            display: \"flex\",\n            color: \"#999999\",\n        },\n        icon: {\n            color: theme.palette.error.main,\n            minWidth: \"40px\",\n        },\n    };\n});\n\ninterface UploadItemProps {\n    uploadOrFile: Upload | FileUpload\n}\n\nconst UploadItem: React.FC<UploadItemProps> = (props) => {\n    const {uploadOrFile} = props;\n    const classes = useStyles();\n    function makeIcon() {\n        if (true) {\n            return <MovieIcon className={classes.icon} />;\n        }\n        return <ImageIcon className={classes.icon} />;\n    }\n    return (\n        <ListItem>\n            <Grid container alignItems={\"center\"}>\n                <Grid className={classes.gridTitle} item xs={12} md={9}>\n                    {makeIcon()}\n                    <Typography color={\"inherit\"}>{props.children}</Typography>\n                </Grid>\n                <Grid item xs={12} md={3}>\n                    <Grid container direction={\"row\"} alignItems={\"center\"} justify={\"flex-end\"}>\n                        <UploadProgress size={48} uploadOrFile={uploadOrFile} />\n                        <UploadAction uploadOrFile={uploadOrFile}/>\n                    </Grid>\n                </Grid>\n            </Grid>\n        </ListItem>\n    );\n};\n\nexport default UploadItem;\n","import { Card, CardContent, Divider, ExpansionPanel, ExpansionPanelDetails, ExpansionPanelSummary, Grid, List, makeStyles, Theme, Typography } from \"@material-ui/core\";\nimport { Page } from \"../../components/Page\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport UploadItem from \"./UploadItem\";\nimport { useSelector } from \"react-redux\";\nimport { Upload, UploadModule } from \"../../store/upload/types\";\nimport React from \"react\";\nimport { VideoFileFieldsMap } from \"../../util/models\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return {\n        panelSummary: {\n            backgroundColor: theme.palette.primary.main,\n            color: theme.palette.primary.contrastText,\n        },\n        expandedIcon: {\n            color: theme.palette.primary.contrastText,\n        },\n    };\n});\n\nconst Uploads = () => {\n    const classes = useStyles();\n    const uploads = useSelector<UploadModule, Upload[]>(\n        (state) => state.upload.uploads\n    )\n\n    return (\n        <Page title={'Upload'}>\n           {\n                uploads.map((upload, key) => (\n                    <Card elevation={5} key={key}>\n                        <CardContent>\n                            <UploadItem uploadOrFile={upload}>\n                                {upload.video.title}\n                            </UploadItem>\n                            <ExpansionPanel style={{ margin: 0 }}>\n                                <ExpansionPanelSummary\n                                    className={classes.panelSummary}\n                                    expandIcon={<ExpandMoreIcon className={classes.expandedIcon} />}\n                                >\n                                    <Typography>Ver detalhes</Typography>\n                                </ExpansionPanelSummary>\n                                <ExpansionPanelDetails style={{ padding: '0px' }}>\n                                    <Grid item xs={12}>\n                                        <List dense={true} style={{  padding: '0px' }}>\n                                            {\n                                                upload.files.map((file, key) => (\n                                                    <React.Fragment key={key}>\n                                                        <Divider/>\n                                                        <UploadItem uploadOrFile={file}>\n                                                            {`${VideoFileFieldsMap[file.fileField]} - ${file.filename}`}\n                                                        </UploadItem>\n                                                    </React.Fragment>\n                                                ))\n                                            }\n                                        </List>\n                                    </Grid>\n                                </ExpansionPanelDetails>\n                            </ExpansionPanel>\n                        </CardContent>\n                    </Card>\n                ))\n            }\n        </Page>\n    )\n\n}\n\nexport default Uploads;\n","import { RouteProps } from 'react-router-dom'\nimport CategoryList from '../pages/category/PageList'\nimport CategoryForm from '../pages/category/PageForm'\nimport GenreList from '../pages/genre/PageList'\nimport GenreForm from '../pages/genre/PageForm'\nimport CastMemberList from '../pages/cast-member/PageList'\nimport CastMemberForm from '../pages/cast-member/PageForm'\nimport VideoList from '../pages/video/PageList'\nimport VideoForm from '../pages/video/PageForm'\nimport Dashboard from '../pages/Dashboard'\nimport UploadPage from '../pages/uploads'\n\nexport interface MyRouteProps extends RouteProps {\n    name: string\n    label: string\n}\n\nconst routes:MyRouteProps[] = [\n    {\n        name: 'dashboard',\n        label: 'Dashboard',\n        path: '/',\n        component: Dashboard,\n        exact: true\n    },\n    {\n        name: 'categories.list',\n        label: 'Listar Categorias',\n        path: '/categories',\n        component: CategoryList,\n        exact: true\n    },\n    {\n        name: 'categories.create',\n        label: 'Criar Categoria',\n        path: '/categories/create',\n        component: CategoryForm,\n        exact: true\n    },\n    {\n        name: 'categories.edit',\n        label: 'Editar Categoria',\n        path: '/categories/:id/edit',\n        component: CategoryForm,\n        exact: true\n    },\n    {\n        name: 'genres.list',\n        label: 'Listar Gêneros',\n        path: '/genres',\n        component: GenreList,\n        exact: true\n    },\n    {\n        name: 'genres.create',\n        label: 'Criar Gênero',\n        path: '/genres/create',\n        component: GenreForm,\n        exact: true\n    },\n    {\n        name: 'genres.edit',\n        label: 'Editar Gênero',\n        path: '/genres/:id/edit',\n        component: GenreForm,\n        exact: true\n    },\n    {\n        name: 'cast_members.list',\n        label: 'Listar Membros de Elenco',\n        path: '/cast-members',\n        component: CastMemberList,\n        exact: true\n    },\n    {\n        name: 'cast_members.create',\n        label: 'Criar Membro de elenco',\n        path: '/cast-members/create',\n        component: CastMemberForm,\n        exact: true\n    },\n    {\n        name: 'cast_members.edit',\n        label: 'Editar membro de elenco',\n        path: '/cast-members/:id/edit',\n        component: CastMemberForm,\n        exact: true\n    },\n    {\n        name: 'videos.list',\n        label: 'Listar Vídeos',\n        path: '/videos',\n        component: VideoList,\n        exact: true\n    },\n    {\n        name: 'videos.create',\n        label: 'Criar Vídeos',\n        path: '/videos/create',\n        component: VideoForm,\n        exact: true\n    },\n    {\n        name: 'videos.edit',\n        label: 'Editar Vídeo',\n        path: '/videos/:id/edit',\n        component: VideoForm,\n        exact: true\n    },\n    {\n        name: 'uploads',\n        label: 'Uploads',\n        path: '/uploads',\n        component: UploadPage,\n        exact: true\n    },\n]\n\nexport default routes\n","import React from 'react';\nimport Link, { LinkProps } from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\nimport MuiBreadcrumbs from '@material-ui/core/Breadcrumbs';\nimport { Route } from 'react-router';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Location } from 'history'\nimport routes from '../routes';\nimport RouteParser from 'route-parser'\nimport { Box, Container, makeStyles, Theme } from '@material-ui/core';\n\nconst breadcrumbNameMap: {[key: string]: string} = {};\nroutes.forEach( route => breadcrumbNameMap[route.path as string] = route.label)\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  linkRouter: {\n    color: theme.palette.secondary.main,\n    \"&:focus, &:active\": {\n      color: theme.palette.secondary.main\n    },\n    \"&:hover\": {\n      color: theme.palette.secondary.dark\n    }\n  }\n}));\n\ninterface LinkRouterProps extends LinkProps {\n    to: string\n    replace?: boolean\n}\n\nconst LinkRouter = (props: LinkRouterProps) => <Link {...props} component={RouterLink} />;\n\nexport default function Breadcrumbs() {\n  const classes = useStyles();\n\n  function makeBreadcrumb(location: Location){\n    const pathnames = location.pathname.split('/').filter((x) => x);\n    pathnames.unshift('/')\n    return (\n      <MuiBreadcrumbs aria-label=\"breadcrumb\">\n        {\n          pathnames.map((value, index) => {\n            const last = index === pathnames.length - 1;\n            const to = `${pathnames.slice(0, index + 1).join('/').replace('//', '/')}`;\n            const route = Object.keys(breadcrumbNameMap).find(path => new RouteParser(path).match(to))\n\n            if(route === undefined){\n              return false\n            }\n\n            return last ? (\n              <Typography color=\"textPrimary\" key={to}>\n                {breadcrumbNameMap[route]}\n              </Typography>\n            ) : (\n              <LinkRouter color=\"inherit\" to={to} key={to} className={classes.linkRouter}>\n                {breadcrumbNameMap[route]}\n              </LinkRouter>\n            );\n          })\n        }\n      </MuiBreadcrumbs>\n    );\n  }\n\n  return (\n      <Container>\n        <Box paddingBottom={2} paddingTop={2}>\n          <Route>\n            {\n              ({location}: {location: Location}) => makeBreadcrumb(location)\n            }\n          </Route>\n        </Box>\n\n      </Container>\n  );\n}\n","import * as React from 'react';\nimport { IconButton, Menu as MuiMenu, MenuItem  } from '@material-ui/core';\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport routes, {MyRouteProps} from '../../routes';\nimport { Link } from 'react-router-dom';\n\nconst listRoutes = {\n    'dashboard': 'Dashboard',\n    'categories.list': 'Categorias',\n    'genres.list': 'Gêneros',\n    'cast_members.list': 'Membros de elenco',\n    'videos.list': 'Vídeos',\n    'uploads': 'Uploads'\n}\nconst menuRoutes = routes.filter(route => Object.keys(listRoutes).includes(route.name))\n\nexport const Menu = () => {\n\n\n    const [anchorEl, setAnchorEl] = React.useState(null)\n    const open = Boolean(anchorEl)\n\n    const handleOpen = (event:any) => setAnchorEl(event.currentTarget)\n    const handleClose = () => setAnchorEl(null)\n    return (\n        <React.Fragment>\n            <IconButton color=\"inherit\" edge=\"start\" aria-label=\"open drawer\" aria-controls=\"menu-appbar\" aria-haspopup=\"true\" onClick={handleOpen}>\n                <MenuIcon/>\n            </IconButton>\n            <MuiMenu\n                id=\"menu-appbar\"\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n                transformOrigin={{ vertical: 'top', horizontal: 'center' }}\n                getContentAnchorEl={null}\n            >\n                {\n                    Object.keys(listRoutes).map(\n                        (routeName, key) => {\n                            const route = menuRoutes.find(route=>route.name === routeName) as MyRouteProps\n                            return (\n                                <MenuItem key={key} component={Link} to={route.path as string} onClick={handleClose}>{route.label}</MenuItem>\n                            )\n                        }\n                    )\n                }\n\n            </MuiMenu>\n        </React.Fragment>\n\n    );\n};\n","import { AppBar, Button, makeStyles, Theme, Toolbar, Typography } from '@material-ui/core';\nimport * as React from 'react';\nimport logo from '../../static/img/logo.png';\nimport {Menu} from './Menu'\n\n//xs, sm, md, lg, xl\nconst useStyles = makeStyles((theme: Theme) => ({\n    toolbar: {\n        backgroundColor: '#000000'\n    },\n    title: {\n        flexGrow: 1,\n        textAlign: 'center'\n    },\n    logo: {\n        width: 100,\n        [theme.breakpoints.up('sm')]: {\n            width: 170\n        }\n    }\n}))\n\nexport const Navbar: React.FC = () => {\n    const classes = useStyles();\n\n    return (\n        <AppBar>\n            <Toolbar className={classes.toolbar}>\n                <Menu/>\n                <Typography className={classes.title}>\n                    <img src={logo} alt=\"CodeFlix\" className={classes.logo}/>\n                </Typography>\n                <Button color=\"inherit\">Login</Button>\n            </Toolbar>\n        </AppBar>\n    );\n};\n","export default \"data:image/png;base64,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\"","import { Route, Switch } from 'react-router-dom';\nimport routes from './index';\n\nexport const AppRouter = ()=> {\n    return (\n        <Switch>\n            {\n                routes.map(\n                    (route, key) => (\n                        <Route\n                            key={key}\n                            path={route.path}\n                            component={route.component}\n                            exact={route.exact === true}\n                        />\n                    )\n                )\n            }\n        </Switch>\n    );\n};\n\nexport default AppRouter\n","import { Fade, LinearProgress, MuiThemeProvider, Theme } from '@material-ui/core';\nimport { useContext } from 'react';\nimport LoadingContext from './loading/LoadingContext';\n\nfunction makeLocalTheme(theme: Theme): Theme{\n    return {\n        ...theme,\n        palette: {\n            ...theme.palette,\n            primary: theme.palette.error,\n            type: 'dark'\n        }\n    }\n}\n\nconst Spinner = () => {\n    const loading = useContext(LoadingContext)\n    return (\n        <MuiThemeProvider theme={makeLocalTheme}>\n            <Fade in={loading}>\n                <LinearProgress color={'primary'} style={{position: 'fixed', width:'100%', zIndex: 9999}}/>\n            </Fade>\n        </MuiThemeProvider>\n    );\n};\n\nexport default Spinner;\n","import * as React from 'react';\nimport LoadingContext from './LoadingContext';\nimport { addGlobalRequestInterceptor, addGlobalResponseInterceptor, removeGlobalRequestInterceptor, removeGlobalResponseInterceptor } from '../../util/http';\n\nexport const LoadingProvider = (props) => {\n    const [loading, setLoading] = React.useState<boolean>(false);\n    const [countRequest, setCountRequest] = React.useState(0);\n\n    React.useMemo(() => {\n        let isSubscribed = true\n        const requestIds = addGlobalRequestInterceptor((config) => {\n            if(isSubscribed && !config.headers.hasOwnProperty('x-ignore-loading')){\n                setLoading(true)\n                setCountRequest((prevCountRequest) => prevCountRequest + 1)\n            }\n            return config\n        })\n        const responseIds = addGlobalResponseInterceptor((response) => {\n            if(isSubscribed && !response.config.headers.hasOwnProperty('x-ignore-loading')){\n                decrementCountRequest()\n\n            }\n            return response\n        }, (error) => {\n            if(isSubscribed && !error.config.headers.hasOwnProperty('x-ignore-loading')){\n                decrementCountRequest()\n\n            }\n            return Promise.reject(error)\n        })\n        return () => {\n            isSubscribed = false;\n            removeGlobalRequestInterceptor(requestIds);\n            removeGlobalResponseInterceptor(responseIds);\n        }\n    }, [])\n\n    React.useEffect(() => {\n        if(!countRequest){\n            setLoading(false)\n        }\n    }, [countRequest])\n\n    function decrementCountRequest(){\n        setCountRequest((prevCountRequest) => prevCountRequest - 1)\n    }\n\n    return (\n        <LoadingContext.Provider value={loading}>\n            {props.children}\n        </LoadingContext.Provider>\n    );\n};\n","import { Box, CssBaseline, MuiThemeProvider } from '@material-ui/core';\nimport { SnackbarProvider } from './components/SnackbarProvider';\nimport React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport './App.css';\nimport Breadcrumbs from './components/Breadcrumbs';\nimport { Navbar } from './components/Navbar';\nimport AppRouter from './routes/AppRouter';\nimport theme from './theme';\nimport Spinner from './components/Spinner';\nimport { LoadingProvider } from './components/loading/LoadingProvider';\n\nfunction App() {\n  return (\n      <React.Fragment>\n          <LoadingProvider>\n          <MuiThemeProvider theme={theme}>\n            <SnackbarProvider>\n                <CssBaseline/>\n                <BrowserRouter basename=\"/admin\">\n                    <Spinner/>\n                    <Navbar/>\n                    <Box paddingTop={'70px'}>\n                        <Breadcrumbs/>\n                        <AppRouter/>\n                    </Box>\n                </BrowserRouter>\n            </SnackbarProvider>\n          </MuiThemeProvider>\n          </LoadingProvider>\n      </React.Fragment>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { Types, Creators } from './index'\nimport { eventChannel, END } from 'redux-saga';\nimport { actionChannel, take, call, put } from 'redux-saga/effects'\nimport { AddUploadAction, FileInfo } from './types';\nimport { Video } from '../../util/models';\nimport videoHttp from '../../util/http/video-http';\n\nexport function* uploadWatcherSaga(){\n    const newFilesChannel = yield actionChannel(Types.ADD_UPLOAD);\n\n    while(true){\n        const {payload}:AddUploadAction = yield take(newFilesChannel);\n        for(const fileInfo of payload.files ){\n            try{\n                const response = yield call(uploadFile, {video: payload.video, fileInfo})\n                console.log(response)\n            }catch(e){\n                console.log(e);\n            }\n        }\n    }\n}\n\nfunction* uploadFile({video, fileInfo}: {video: Video, fileInfo: FileInfo}){\n    const channel = yield call(sendUpload, {id: video.id, fileInfo});\n    while(true){\n        try {\n            const {progress, response} = yield take(channel);\n            if(response){\n                return response;\n            }\n            yield put(Creators.updateProgress({\n                video,\n                fileField: fileInfo.fileField,\n                progress\n            }))\n        } catch (e) {\n            yield put(Creators.setUploadError({\n                video,\n                fileField: fileInfo.fileField,\n                error: e\n            }))\n            throw e;\n\n        }\n\n    }\n}\n\nfunction sendUpload({id, fileInfo}: {id: string, fileInfo: FileInfo}){\n    return eventChannel(emitter => {\n        videoHttp.partialUpdate(id, {\n            _method: 'PATCH',\n            [fileInfo.fileField]: fileInfo.file\n        }, {\n            http:{\n                usePost: true\n            },\n            config: {\n                headers: {\n                    'x-ignore-loading': true\n                },\n                onUploadProgress(progressEvent: ProgressEvent){\n                    if(progressEvent.lengthComputable){\n                        const progress = progressEvent.loaded / progressEvent.total;\n                        emitter({progress});// 0 a 1\n                    }\n\n                }\n            }\n        }).then(response => emitter({response}))\n        .catch(error => emitter(error))\n        .finally(() => emitter(END))\n\n        const unsubscribe = () => {}\n        return unsubscribe;\n    })\n}\n","import { all } from 'redux-saga/effects'\nimport { uploadWatcherSaga } from './upload/sagas'\n\nexport default function* rootSaga(){\n    yield all([\n        uploadWatcherSaga()\n    ])\n}\n","import { createStore, applyMiddleware, combineReducers } from \"redux\";\nimport createSagaMiddleware from 'redux-saga'\nimport rootSaga from \"./root-saga\";\nimport upload from \"./upload\";\n\n\nconst sagaMiddleware = createSagaMiddleware();\nconst store = createStore(\n    combineReducers({\n        upload\n    }),\n    applyMiddleware(sagaMiddleware)\n)\n\nsagaMiddleware.run(rootSaga)\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nReactDOM.render(\n  <React.StrictMode>\n      <Provider store={store}>\n        <App />\n      </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}