(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{544:function(e,t,r){},549:function(e,t,r){},985:function(e,t,r){"use strict";r.r(t);var a=r(2),n=r(0),o=r.n(n),c=r(20),i=r.n(c),s=(r(544),r(1015)),l=r(1021),u=r(328),d=r(7),p=r(35),b=r(329),j=r(247),f=r(187),h=r.n(f),m=Object(b.a)((function(e){return{variantSuccess:{backgroundColor:e.palette.success.main},variantError:{backgroundColor:e.palette.error.main},variantInfo:{backgroundColor:e.palette.primary.main}}})),g=function(e){var t,r={classes:m(),autoHideDuration:3e3,maxSnack:3,anchorOrigin:{horizontal:"right",vertical:"top"},children:{},preventDuplicate:!0,ref:function(e){return t=e},action:function(e){return Object(a.jsx)(j.a,{color:"inherit",style:{fontSize:20},onClick:function(){return t.closeSnackbar(e)},children:Object(a.jsx)(h.a,{})})}},n=Object(d.a)(Object(d.a)({},r),e);return Object(a.jsx)(p.a,Object(d.a)(Object(d.a)({},n),{},{children:e.children}))},O=r(33),x=(r(549),r(1037)),v=r(86),y=r(1043),C=r(22),P=r(1032),k=r(1014),w=Object(b.a)({title:{color:"#999999"}}),F=function(e){var t=w();return Object(a.jsx)("div",{children:Object(a.jsxs)(k.a,{children:[Object(a.jsx)(v.a,{className:t.title,component:"h1",variant:"h5",children:e.title}),Object(a.jsx)(u.a,{paddingTop:2,children:e.children})]})})},S=r(114),R=r.n(S),T=r(18),I=r(12),D=r.n(I),A=r(21),E=r(14),N=r(112),L=r.n(N),B=r(113),M=r.n(B),_=r(41),q=r(127),V=r.n(q),U=V.a.create({baseURL:"http://localhost:8000/api"}),z=[U];var G=r(29),W=r(30),H=r(514),Y=function(){function e(t,r){Object(G.a)(this,e),this.http=t,this.resource=r,this.cancelList=null}return Object(W.a)(e,[{key:"list",value:function(e){this.cancelList&&this.cancelList.cancel("list request cancelled"),this.cancelList=V.a.CancelToken.source();var t={cancelToken:this.cancelList.token};return e&&e.queryParams&&(t.params=e.queryParams),this.http.get(this.resource,t)}},{key:"get",value:function(e){return this.http.get("".concat(this.resource,"/").concat(e))}},{key:"create",value:function(e){var t=this.makeSendData(e);return this.http.post(this.resource,t)}},{key:"update",value:function(e,t,r){var a=t;this.containsFile(t)&&(a=this.getFormData(t));var n=r||{},o=n.http,c=n.config;return r&&o&&o.usePost?this.http.post("".concat(this.resource,"/").concat(e),a,c):this.http.put("".concat(this.resource,"/").concat(e),a,c)}},{key:"partialUpdate",value:function(e,t,r){var a=t;this.containsFile(t)&&(a=this.getFormData(t));var n=r||{},o=n.http,c=n.config;return r&&o&&o.usePost?this.http.post("".concat(this.resource,"/").concat(e),a,c):this.http.patch("".concat(this.resource,"/").concat(e),a,c)}},{key:"delete",value:function(e){return this.http.delete("".concat(this.resource,"/").concat(e))}},{key:"deleteCollection",value:function(e){var t={};return e&&(t.params=e),this.http.delete("".concat(this.resource),t)}},{key:"isCancelledRequest",value:function(e){return V.a.isCancel(e)}},{key:"makeSendData",value:function(e){return this.containsFile(e)?this.getFormData(e):e}},{key:"getFormData",value:function(e){return Object(H.serialize)(e,{booleansAsIntegers:!0})}},{key:"containsFile",value:function(e){return 0!==Object.values(e).filter((function(e){return e instanceof File})).length}}]),e}(),Q=new Y(U,"categories"),X=r(140),Z=r(508),K=r(144),J=r(147),$={primary:{main:"#79aec8",contrastText:"#ffffff"},secondary:{main:"#4db5ab",contrastText:"#ffffff",dark:"#055a52"},background:{default:"#fafafa"},error:{main:K.a[500]},success:{main:J.a[500],contrastText:"#fff"}},ee=Object(X.a)({palette:$,overrides:{MUIDataTable:{paper:{boxShadow:"none"}},MUIDataTableToolbar:{root:{minHeight:"58px",backgroundColor:$.background.default},icon:{color:$.primary.main,"&:hover, &:active, &:focus":{color:$.secondary.dark}},iconActive:{color:$.secondary.dark,"&:hover, &:active, &:focus":{color:$.secondary.dark}}},MUIDataTableHeadCell:{fixedHeader:{paddingTop:8,paddingBlock:8,backgroundColor:$.primary.main,color:"#ffffff","&[aria-sort]":{backgroundColor:"#459ac4"}},sortActive:{color:"#ffffff"},sortAction:{alignItems:"center"},sortLabelRoot:{"& svg":{color:"#ffffff !important"}}},MUIDataTableSelectCell:{headerCell:{backgroundColor:$.primary.main,"& span":{color:"#ffffff !important"}}},MUIDataTableBodyCell:{root:{color:$.secondary.main,"&:hover, &:active, &:focus":{color:$.secondary.main}}},MUIDataTableToolbarSelect:{title:{color:$.primary.main},iconButton:{color:$.primary.main}},MUIDataTableBodyRow:{root:{"&:nth-child(odd)":{backgroundColor:$.background.default}}},MUIDataTablePagination:{root:{color:$.secondary.main}},MuiChip:{root:{marginBottom:"16px !important"}}}}),te=Object(X.a)({palette:{primary:ee.palette.success,secondary:ee.palette.error}}),re=function(){return Object(a.jsx)(s.a,{theme:te,children:Object(a.jsx)(Z.a,{label:"Sim",color:"primary"})})},ae=function(){return Object(a.jsx)(s.a,{theme:te,children:Object(a.jsx)(Z.a,{label:"N\xe3o",color:"secondary"})})},ne=r(515),oe=r.n(ne),ce=r(58),ie=r(23),se=r(1034),le=r(152),ue=r(55),de=r(56),pe=r(251),be=r(460),je=r(334),fe=r.n(je),he=r(335),me=r.n(he),ge=r(5),Oe=function(e){Object(ue.a)(r,e);var t=Object(de.a)(r);function r(e){var a;Object(G.a)(this,r),(a=t.call(this,e)).handleTextChange=function(e){var t=e.target.value;a.setState({text:t},(function(){return a.debouncedOnSearch(t)}))},a.debouncedOnSearch=function(e){a.props.onSearch(e)},a.onKeyDown=function(e){27===e.keyCode&&a.props.onHide()};var n=a.props.searchText,o=n;return n&&void 0!==n.value&&(o=n.value),a.state={text:o},a.debouncedOnSearch=Object(ce.debounce)(a.debouncedOnSearch.bind(Object(le.a)(a)),a.props.debounceTime),a}return Object(W.a)(r,[{key:"componentDidUpdate",value:function(e,t,r){var a=this,n=this.props.searchText;if(n&&void 0!==n.value&&e.searchText!==this.props.searchText){var o=n.value;if(o)this.setState({text:o},(function(){return a.props.onSearch(o)}));else try{this.props.onHide()}catch(c){}}}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"render",value:function(){var e=this,t=this.props,r=t.classes,n=t.options,o=t.onHide,c=t.searchText,i=this.state.text;return c&&void 0!==c.value&&(i=c.value),Object(a.jsx)(pe.a,{appear:!0,in:!0,timeout:300,children:Object(a.jsxs)("div",{className:r.main,ref:function(t){return e.rootRef=t},children:[Object(a.jsx)(fe.a,{className:r.searchIcon}),Object(a.jsx)(be.a,{className:r.searchText,autoFocus:!0,InputProps:{"data-test-id":n.textLabels.toolbar.search},inputProps:{"aria-label":n.textLabels.toolbar.search},value:i||"",onChange:this.handleTextChange,fullWidth:!0,inputRef:function(t){return e.searchField=t},placeholder:n.searchPlaceholder}),Object(a.jsx)(j.a,{className:r.clearIcon,onClick:o,children:Object(a.jsx)(me.a,{})})]})})}}]),r}(o.a.PureComponent),xe=Object(ge.a)((function(e){return{main:{display:"flex",flex:"1 0 auto"},searchIcon:{color:e.palette.text.secondary,marginTop:"10px",marginRight:"8px"},searchText:{flex:"0.8 0"},clearIcon:{"&:hover":{color:e.palette.error.main}}}}),{name:"MUIDataTableSearch"})(Oe),ve=n.forwardRef((function(e,t){var r,n,o=Object(ce.cloneDeep)(Object(ie.a)()),c=Object(se.a)(o.breakpoints.down("sm")),i=(r=e.debouncedSearchTime,{print:!1,download:!1,textLabels:{body:{noMatch:"Nenhum registro encontrado",toolTip:"Classificar"},pagination:{next:"Pr\xf3xima p\xe1gina",previous:"P\xe1gina anterior",rowsPerPage:"Por p\xe1gina:",displayRows:"de"},toolbar:{search:"Busca",downloadCsv:"Download CSV",print:"Imprimir",viewColumns:"Ver Colunas",filterTable:"Filtrar Tabelas"},filter:{all:"Todos",title:"FILTROS",reset:"LIMPAR"},viewColumns:{title:"Ver Colunas",titleAria:"Ver/Esconder Colunas da Tabela"},selectedRows:{text:"registro(s) selecionados",delete:"Excluir",deleteAria:"Excluir registros selecionados"}},customSearchRender:function(e,t,n,o){return Object(a.jsx)(xe,{searchText:e,onSearch:t,onHide:n,options:o,debounceTime:r})}}),l=Object(ce.merge)({options:Object(ce.cloneDeep)(i)},e,{columns:(n=e.columns,function(e){e.forEach((function(e,t){e.width&&(o.overrides.MUIDataTableHeadCell.fixedHeader["&:nth-child(".concat(t+2,")")]={width:e.width})}))}(n),n.map((function(e){return Object(ce.omit)(e,"width")})))});!function(){var e=l.options.textLabels;e.body.noMatch=!0===l.loading?"Carregando...":e.body.noMatch}(),l.options.responsive=c?"vertical":"standard";var u=Object(d.a)(Object(d.a)({},Object(ce.omit)(l,"loading")),{},{ref:t});return Object(a.jsx)(s.a,{theme:o,children:Object(a.jsx)(oe.a,Object(d.a)({},u))})}));function ye(e){return function(t){var r=Object(ce.cloneDeep)(t),a='&[data-testid^="MuiDataTableBodyCell-'.concat(e,'"]');return r.overrides.MUIDataTableBodyCell.root[a]={paddingTop:"0px",passingBottom:"0px"},r}}var Ce=r(96),Pe=r.n(Ce),ke=r(461),we=r(520),Fe=r.n(we),Se=Object(b.a)((function(e){return{iconButton:e.overrides.MUIDataTableToolbar.icon}})),Re=function(e){var t=Se();return Object(a.jsx)(ke.a,{title:"Limpar Busca",children:Object(a.jsx)(j.a,{className:t.iconButton,onClick:e.handleClick,children:Object(a.jsx)(Fe.a,{})})})},Te=r(238);Object(Te.e)({mixed:{required:"${path} \xe9 requerido",notType:"${path} \xe9 inv\xe1lido"},string:{max:"${path} precisa ter no m\xe1ximo ${max} caracteres"},number:{min:"${path} precisa ser no m\xednimo ${min}"},array:{min:"Em ${path}, precisa escolher pelo menos ${min} item"}});var Ie,De=r(156),Ae=Object(De.createActions)({setSearch:["payload"],setPage:["payload"],setPerPage:["payload"],setOrder:["payload"],setReset:["payload"],updateExtraFilter:["payload"]}),Ee=Ae.Types,Ne=Ae.Creators,Le={search:null,pagination:{page:1,per_page:10},order:{sort:null,dir:null}},Be=Object(De.createReducer)(Le,(Ie={},Object(T.a)(Ie,Ee.SET_SEARCH,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;return Object(d.a)(Object(d.a)({},e),{},{search:t.payload.search,pagination:Object(d.a)(Object(d.a)({},e.pagination),{},{page:1})})})),Object(T.a)(Ie,Ee.SET_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;return Object(d.a)(Object(d.a)({},e),{},{pagination:Object(d.a)(Object(d.a)({},e.pagination),{},{page:t.payload.page})})})),Object(T.a)(Ie,Ee.SET_PER_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;return Object(d.a)(Object(d.a)({},e),{},{pagination:Object(d.a)(Object(d.a)({},e.pagination),{},{per_page:t.payload.per_page})})})),Object(T.a)(Ie,Ee.SET_ORDER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;return Object(d.a)(Object(d.a)({},e),{},{pagination:Object(d.a)(Object(d.a)({},e.pagination),{},{page:1}),order:{sort:t.payload.sort,dir:t.payload.dir}})})),Object(T.a)(Ie,Ee.SET_RESET,(function(){var e=arguments.length>1?arguments[1]:void 0;return e.payload.state})),Object(T.a)(Ie,Ee.UPDATE_EXTRA_FILTER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;return Object(d.a)(Object(d.a)({},e),{},{extraFilter:Object(d.a)(Object(d.a)({},e.extraFilter),t.payload)})})),Ie));var Me=r(1045);function _e(e){var t=Object(C.f)(),r=Object(C.g)(),a=r.search,o=r.pathname,c=r.state,i=e.rowsPerPageOptions,s=e.rowsPerPage,l=e.columns,u=e.extraFilter,p=Object(n.useMemo)((function(){return Te.d().shape(Object(d.a)({search:Te.f().transform((function(e){return e||void 0})).default(""),pagination:Te.d().shape({page:Te.c().transform((function(e){return isNaN(e)||parseInt(e)<1?void 0:e})).default(1),per_page:Te.c().transform((function(e){return isNaN(e)||!i.includes(parseInt(e))?void 0:e})).default(s)}),order:Te.d().shape({sort:Te.f().nullable().transform((function(e){return l.filter((function(e){return!e.options||!1!==e.options.sort})).map((function(e){return e.name})).includes(e)?e:void 0})).default(null),dir:Te.f().nullable().transform((function(e){return e&&["asc","desc"].includes(e.toLowerCase())?e:void 0})).default(null)})},u&&{extraFilter:u.createValidationSchema()}))}),[i,s,l,u]),b=Object(n.useMemo)((function(){var e=new URLSearchParams(a.substr(1));return p.cast(Object(d.a)({search:e.get("search"),pagination:{page:e.get("page"),per_page:e.get("per_page")},order:{sort:e.get("sort"),dir:e.get("dir")}},u&&{extraFilter:u.getStateFromURL(e)}))}),[a,p,u]),j=Object(n.useCallback)((function(e){var t=e;return e&&void 0!==e.value&&(t=e.value),t}),[]),f=Object(n.useCallback)((function(e,t){var r=j(e.search);return Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},r&&""!==r&&{search:r}),1!==e.pagination.page&&{page:e.pagination.page}),15!==e.pagination.per_page&&{per_page:e.pagination.per_page}),e.order.sort&&{sort:e.order.sort,dir:e.order.dir}),t&&t.formatSearchParams(e))}),[j]),h=b,m=Object(n.useReducer)(Be,h),g=Object(E.a)(m,2),O=g[0],x=g[1],v=new qe(Object(d.a)(Object(d.a)({},e),{},{state:O,dispatch:x,schema:p})),y=Object(Me.a)(O,e.debounceTime),P=Object(E.a)(y,1)[0],k=Object(n.useState)(0),w=Object(E.a)(k,2),F=w[0],S=w[1];return Object(n.useEffect)((function(){t.replace({pathname:o,search:"?"+new URLSearchParams(f(b,u)),state:b})}),[t,o,f,b,u]),Object(n.useEffect)((function(){var e={pathname:o,search:"?"+new URLSearchParams(f(P,u)),state:Object(d.a)(Object(d.a)({},P),{},{search:j(P.search)})},r=c,a=P;Object(ce.isEqual)(r,a)||t.push(e)}),[t,o,c,f,j,P,u]),v.applyOrderInColumns(),{columns:v.columns,cleanSearchText:j,filterManager:v,filterState:O,debouncedFilterState:P,dispatch:x,totalRecords:F,setTotalRecords:S}}var qe=function(){function e(t){Object(G.a)(this,e),this.schema=void 0,this.state=void 0,this.dispatch=void 0,this.columns=void 0,this.rowsPerPage=void 0,this.tableRef=void 0;var r=t.schema,a=t.columns,n=t.rowsPerPage,o=t.tableRef,c=t.dispatch,i=t.state;this.schema=r,this.columns=a,this.rowsPerPage=n,this.tableRef=o,this.dispatch=c,this.state=i}return Object(W.a)(e,[{key:"resetTablePagination",value:function(){this.tableRef.current.changePage(0),this.tableRef.current.changeRowsPerPage(this.rowsPerPage)}},{key:"changeSearch",value:function(e){this.dispatch(Ne.setSearch({search:e}))}},{key:"changePage",value:function(e){this.dispatch(Ne.setPage({page:e+1}))}},{key:"changeRowsPerPage",value:function(e){this.dispatch(Ne.setPerPage({per_page:e}))}},{key:"changeColumnSort",value:function(e,t){this.dispatch(Ne.setOrder({sort:e,dir:t.includes("desc")?"desc":"asc"})),this.resetTablePagination()}},{key:"changeExtraFilter",value:function(e){this.dispatch(Ne.updateExtraFilter(e))}},{key:"resetFilter",value:function(){var e=Object(d.a)(Object(d.a)({},this.schema.cast({})),{},{search:{value:null,update:!0}});this.dispatch(Ne.setReset({state:e})),this.resetTablePagination()}},{key:"applyOrderInColumns",value:function(){var e=this;this.columns=this.columns.map((function(t){return t.name===e.state.order.sort?Object(d.a)(Object(d.a)({},t),{},{options:Object(d.a)(Object(d.a)({},t.options),{},{sortDirection:e.state.order.dir})}):t}))}}]),e}(),Ve=function(){var e=Object(n.useState)(!1),t=Object(E.a)(e,2),r=t[0],a=t[1],o=Object(n.useState)({data:[]}),c=Object(E.a)(o,2),i=c[0],s=c[1];return Object(n.useEffect)((function(){i.data.length&&a(!0)}),[i]),{openDeleteDialog:r,setOpenDeleteDialog:a,rowsToDelete:i,setRowsToDelete:s}},Ue=r(1022),ze=r(1027),Ge=r(1025),We=r(1026),He=r(1024),Ye=r(449),Qe=function(e){var t=e.open,r=e.handleClose;return Object(a.jsxs)(Ue.a,{open:t,onClose:function(){return r(!1)},children:[Object(a.jsx)(ze.a,{children:"Exclus\xe3o de Registros"}),Object(a.jsx)(Ge.a,{children:Object(a.jsx)(We.a,{children:"Deseja Realmente excluir este(s) registro(s)"})}),Object(a.jsxs)(He.a,{children:[Object(a.jsx)(Ye.a,{onClick:function(){return r(!1)},color:"primary",children:"Cancelar"}),Object(a.jsx)(Ye.a,{onClick:function(){return r(!0)},color:"primary",autoFocus:!0,children:"Excluir"})]})]})},Xe=Object(n.createContext)(!1),Ze=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",width:"43%",options:{filter:!1}},{name:"is_active",label:"Ativo?",options:{filterOptions:{names:["Sim","N\xe3o"]},customBodyRender:function(e,t,r){return e?Object(a.jsx)(re,{}):Object(a.jsx)(ae,{})}},width:"4%"},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e,t,r){return Object(a.jsx)("span",{children:L()(M()(e),"dd/MM/yyyy")})}}},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{filter:!1,sort:!1,customBodyRender:function(e,t){return Object(a.jsx)(j.a,{color:"secondary",component:O.b,to:"/categories/".concat(t.rowData[0],"/edit"),children:Object(a.jsx)(Pe.a,{})})}}}],Ke=[15,25,50],Je=function(){var e=Object(p.b)().enqueueSnackbar,t=n.useRef(!0),r=n.useState([]),o=Object(E.a)(r,2),c=o[0],i=o[1],l=n.useContext(Xe),u=n.useRef(),b=Ve(),j=b.openDeleteDialog,f=b.setOpenDeleteDialog,h=b.rowsToDelete,m=b.setRowsToDelete,g=_e({columns:Ze,debounceTime:300,rowsPerPage:15,rowsPerPageOptions:Ke,tableRef:u}),O=g.columns,x=g.filterManager,v=g.cleanSearchText,y=g.filterState,C=g.debouncedFilterState,P=g.totalRecords,k=g.setTotalRecords,w=v(y.search),F=n.useCallback(function(){var r=Object(A.a)(D.a.mark((function r(a){var n,o,c,s,l,u,p,b;return D.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a.search,o=a.page,c=a.per_page,s=a.sort,l=a.dir,u=a.is_active,r.prev=1,r.next=4,Q.list({queryParams:Object(d.a)({search:n,page:o,per_page:c,sort:s,dir:l},u&&{is_active:u})});case 4:p=r.sent,b=p.data,t.current&&(i(b.data),k(b.meta.total),j&&f(!1)),r.next=15;break;case 9:if(r.prev=9,r.t0=r.catch(1),console.error(r.t0),!Q.isCancelledRequest(r.t0)){r.next=14;break}return r.abrupt("return");case 14:e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 15:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}(),[e,f,j,k]);return n.useEffect((function(){return t.current=!0,F(Object(d.a)({search:w,page:y.pagination.page,per_page:y.pagination.per_page,sort:y.order.sort,dir:y.order.dir},C.extraFilter&&C.extraFilter.is_active&&{is_active:C.extraFilter.is_active})),function(){t.current=!1}}),[F,w,y.pagination.page,y.pagination.per_page,y.order,C.extraFilter]),Object(a.jsxs)(s.a,{theme:ye(Ze.length-1),children:[Object(a.jsx)(Qe,{open:j,handleClose:function(t){if(t){var r=h.data.map((function(e){return c[e.index].id})).join(",");Q.deleteCollection({ids:r}).then((function(t){if(e("Registros exclu\xeddos com sucesso",{variant:"success"}),h.data.length===y.pagination.per_page&&y.pagination.page>1){var r=y.pagination.page-2;x.changePage(r)}else F(Object(d.a)({search:v(y.search),page:y.pagination.page,per_page:y.pagination.per_page,sort:y.order.sort,dir:y.order.dir},C.extraFilter&&C.extraFilter.is_active&&{is_active:C.extraFilter.is_active}))})).catch((function(t){console.error(t),e("N\xe3o foi poss\xedvel excluir os registros",{variant:"error"})}))}else f(!1)}}),Object(a.jsx)(ve,{title:"Listagem de categorias",columns:O,data:c,loading:l,debouncedSearchTime:300,ref:u,options:{serverSide:!0,responsive:"vertical",searchText:y.search,page:y.pagination.page-1,rowsPerPage:y.pagination.per_page,rowsPerPageOptions:Ke,count:P,onFilterChange:function(e,t){var r=O.findIndex((function(t){return t.name===e}));x.changeExtraFilter(Object(T.a)({},e,t[r].length?t[r][0]:null))},customToolbar:function(){return Object(a.jsx)(Re,{handleClick:function(){return x.resetFilter()}})},onSearchChange:function(e){return x.changeSearch(e)},onChangePage:function(e){return x.changePage(e)},onChangeRowsPerPage:function(e){return x.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return x.changeColumnSort(e,t)},onRowsDelete:function(e){return m(e),!1}}})]})},$e=function(){return Object(a.jsxs)(F,{title:"Listagem categorias",children:[Object(a.jsx)(u.a,{dir:"rtl",paddingBottom:2,children:Object(a.jsx)(P.a,{title:"Adicionar categoria",color:"secondary",size:"small",component:O.b,to:"/categories/create",children:Object(a.jsx)(R.a,{})})}),Object(a.jsx)(u.a,{children:Object(a.jsx)(Je,{})})]})},et=r(450),tt=r(507),rt=r(115),at=Object(b.a)((function(e){return{submit:{margin:e.spacing(1)}}})),nt=function(e){var t={className:at().submit,color:"secondary",variant:"contained",disabled:void 0!==e.disabledButtons&&e.disabledButtons};return Object(a.jsxs)(u.a,{dir:"ltf",children:[Object(a.jsx)(Ye.a,Object(d.a)(Object(d.a)({color:"primary"},t),{},{onClick:e.handleSave,children:"Salvar"})),Object(a.jsx)(Ye.a,Object(d.a)(Object(d.a)({},t),{},{type:"submit",children:"Salvar e continuar editando"}))]})},ot=r(270),ct=r(1033),it=Object(b.a)((function(e){return{gridItem:{padding:e.spacing(1,0)}}})),st=function(e){var t=it(),r=e.GridContainerProps,n=e.GridItemProps,o=Object(ot.a)(e,["GridContainerProps","GridItemProps"]);return Object(a.jsx)("form",Object(d.a)(Object(d.a)({},o),{},{children:Object(a.jsx)(ct.a,Object(d.a)(Object(d.a)({container:!0},r),{},{children:Object(a.jsx)(ct.a,Object(d.a)(Object(d.a)({item:!0},n),{},{className:t.gridItem,children:e.children}))}))}))},lt=function(e,t){var r=Object(p.b)().enqueueSnackbar;Object(n.useEffect)((function(){var a=0!==Object.keys(t).length;e>0&&a&&r("Formul\xe1rio inv\xe1lido. Reveja os campos marcados em vermelho.",{variant:"error"})}),[e,t,r])},ut=function(){var e=function(e){return n.useCallback(function(){var t=Object(A.a)(D.a.mark((function t(r){var a;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.validate(r,{abortEarly:!1});case 3:return a=t.sent,t.abrupt("return",{values:a,errors:{}});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{values:{},errors:t.t0.inner.reduce((function(e,t){var r;return Object(d.a)(Object(d.a)({},e),{},Object(T.a)({},t.path,{type:null!==(r=t.type)&&void 0!==r?r:"validation",message:t.message}))}),{})});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),[e])}(n.useMemo((function(){return Te.d({name:Te.f().label("Nome").required().max(255)})}),[])),t=Object(rt.a)({resolver:e,defaultValues:{is_active:!0}}),r=t.register,o=t.handleSubmit,c=t.getValues,i=t.setValue,s=t.trigger,l=t.errors,u=t.reset,b=t.watch,j=t.formState;lt(j.submitCount,l);var f=Object(p.b)().enqueueSnackbar,h=Object(C.f)(),m=Object(C.h)().id,g=n.useState(null),O=Object(E.a)(g,2),x=O[0],v=O[1],y=n.useContext(Xe);function P(e,t){return k.apply(this,arguments)}function k(){return(k=Object(A.a)(D.a.mark((function e(t,r){var a,n,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=x?Q.update(x.id,t):Q.create(t),e.next=4,a;case 4:n=e.sent,o=n.data,f("Categoria salva com sucesso",{variant:"success"}),setTimeout((function(){r?m?h.replace("/categories/".concat(o.data.id,"/edit")):h.push("/categories/".concat(o.data.id,"/edit")):h.push("/categories")})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),f("Erro ao salvar categoria",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return n.useEffect((function(){r({name:"is_active"})}),[r]),n.useEffect((function(){var e=!0;if(m)return function(){var t=Object(A.a)(D.a.mark((function t(){var r,a;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.get(m);case 3:r=t.sent,a=r.data,e&&(v(a.data),u(a.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),f("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[m,u,f]),Object(a.jsxs)(st,{onSubmit:o(P),GridItemProps:{xs:12,md:6},children:[Object(a.jsx)(be.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",inputRef:r,disabled:y,error:void 0!==l.name,helperText:l.name&&l.name.message,InputLabelProps:{shrink:!0}}),Object(a.jsx)(be.a,{name:"description",label:"Descri\xe7\xe3o",multiline:!0,rows:"4",fullWidth:!0,variant:"outlined",margin:"normal",inputRef:r,disabled:y,InputLabelProps:{shrink:!0}}),Object(a.jsx)(et.a,{disabled:y,control:Object(a.jsx)(tt.a,{name:"is_active",color:"primary",onChange:function(){return i("is_active",!c().is_active)},checked:b("is_active"),disabled:y}),label:"Ativo?",labelPlacement:"end"}),Object(a.jsx)(nt,{disabledButtons:y,handleSave:function(){return s().then((function(e){e&&P(c(),null)}))}})]})},dt=function(e){var t=Object(C.h)().id;return Object(a.jsx)(F,{title:t?"Editar categoria":"Criar Categoria",children:Object(a.jsx)(ut,{})})},pt=new Y(U,"genres"),bt=[{name:"id",label:"ID",width:"27%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",width:"16%",options:{filter:!1}},{name:"categories",label:"Categorias",options:{filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e,t,r){return e.map((function(e){return e.name})).join(", ")}},width:"30%"},{name:"is_active",label:"Ativo?",options:{filterOptions:{names:["Sim","N\xe3o"]},customBodyRender:function(e,t,r){return e?Object(a.jsx)(re,{}):Object(a.jsx)(ae,{})}},width:"4%"},{name:"created_at",label:"Criado em",options:{filter:!1,customBodyRender:function(e,t,r){return Object(a.jsx)("span",{children:L()(M()(e),"dd/MM/yyyy")})}},width:"10%"},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{filter:!1,sort:!1,customBodyRender:function(e,t){return Object(a.jsx)(j.a,{color:"secondary",component:O.b,to:"/categories/".concat(t.rowData[0],"/edit"),children:Object(a.jsx)(Pe.a,{})})}}}],jt=[15,25,50],ft=function(){var e=Object(p.b)().enqueueSnackbar,t=n.useRef(!0),r=n.useState([]),o=Object(E.a)(r,2),c=o[0],i=o[1],l=n.useContext(Xe),u=n.useState(),b=Object(E.a)(u,2),j=(b[0],b[1]),f=n.useRef(),h=Ve(),m=h.openDeleteDialog,g=h.setOpenDeleteDialog,O=h.rowsToDelete,x=h.setRowsToDelete,v=n.useMemo((function(){return{createValidationSchema:function(){return Te.d().shape({categories:Te.b().nullable().transform((function(e){return e&&""!==e?e.split(","):void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(d.a)({},e.extraFilter.categories&&{categories:e.extraFilter.categories.join(",")}):void 0},getStateFromURL:function(e){return{categories:e.get("categories")}}}}),[]),y=_e({columns:bt,debounceTime:300,rowsPerPage:15,rowsPerPageOptions:jt,tableRef:f,extraFilter:v}),C=y.columns,P=y.filterManager,k=y.cleanSearchText,w=y.filterState,F=y.debouncedFilterState,S=y.totalRecords,R=y.setTotalRecords,I=C.findIndex((function(e){return"categories"===e.name})),N=C[I],L=w.extraFilter&&w.extraFilter.categories;N.options.filterList=L||[];var B=C.map((function(e){return[]}));L&&(B[I]=L);var M=k(F.search),_=n.useCallback(function(){var r=Object(A.a)(D.a.mark((function r(a){var n,o,c,s,l,u,p,b,j;return D.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a.search,o=a.page,c=a.per_page,s=a.sort,l=a.dir,u=a.categories,p=a.is_active,r.prev=1,r.next=4,pt.list({queryParams:Object(d.a)(Object(d.a)({search:n,page:o,per_page:c,sort:s,dir:l},u&&{categories:u}),p&&{is_active:p})});case 4:b=r.sent,j=b.data,t.current&&(i(j.data),R(j.meta.total),m&&g(!1)),r.next=15;break;case 9:if(r.prev=9,r.t0=r.catch(1),console.error(r.t0),!pt.isCancelledRequest(r.t0)){r.next=14;break}return r.abrupt("return");case 14:e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 15:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}(),[e,g,m,R]);return n.useEffect((function(){var t=!0;Object(A.a)(D.a.mark((function r(){var a,n;return D.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Q.list({queryParams:{all:""}});case 3:a=r.sent,n=a.data,t&&(j(n.data),N.options.filterOptions.names=n.data.map((function(e){return e.name}))),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),console.error(r.t0),e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 12:return r.abrupt("return",(function(){t=!1}));case 13:case"end":return r.stop()}}),r,null,[[0,8]])})))()}),[N,e]),n.useEffect((function(){return t.current=!0,_(Object(d.a)(Object(d.a)({search:M,page:w.pagination.page,per_page:w.pagination.per_page,sort:w.order.sort,dir:w.order.dir},F.extraFilter&&F.extraFilter.categories&&{categories:F.extraFilter.categories.join(",")}),F.extraFilter&&F.extraFilter.is_active&&{is_active:"Sim"===F.extraFilter.is_active[0]?1:0})),function(){t.current=!1}}),[_,M,w.pagination.page,w.pagination.per_page,w.order,F.extraFilter]),Object(a.jsxs)(s.a,{theme:ye(bt.length-1),children:[Object(a.jsx)(Qe,{open:m,handleClose:function(t){if(t){var r=O.data.map((function(e){return c[e.index].id})).join(",");pt.deleteCollection({ids:r}).then((function(t){if(e("Registros exclu\xeddos com sucesso",{variant:"success"}),O.data.length===w.pagination.per_page&&w.pagination.page>1){var r=w.pagination.page-2;P.changePage(r)}else _(Object(d.a)(Object(d.a)({search:k(w.search),page:w.pagination.page,per_page:w.pagination.per_page,sort:w.order.sort,dir:w.order.dir},F.extraFilter&&F.extraFilter.categories&&{categories:F.extraFilter.categories.join(",")}),F.extraFilter&&F.extraFilter.is_active&&{is_active:"Sim"===F.extraFilter.is_active[0]?1:0}))})).catch((function(t){console.error(t),e("N\xe3o foi poss\xedvel excluir os registros",{variant:"error"})}))}else g(!1)}}),Object(a.jsx)(ve,{title:"Listagem de g\xeaneros",columns:C,data:c,loading:l,debouncedSearchTime:300,ref:f,options:{serverSide:!0,responsive:"vertical",searchText:w.search,page:w.pagination.page-1,rowsPerPage:w.pagination.per_page,rowsPerPageOptions:jt,count:S,onFilterChange:function(e,t){var r=C.findIndex((function(t){return t.name===e}));P.changeExtraFilter(Object(T.a)({},e,t[r].length?t[r]:null))},customToolbar:function(){return Object(a.jsx)(Re,{handleClick:function(){return P.resetFilter()}})},onSearchChange:function(e){return P.changeSearch(e)},onChangePage:function(e){return P.changePage(e)},onChangeRowsPerPage:function(e){return P.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return P.changeColumnSort(e,t)},onRowsDelete:function(e){return x(e),!1}}})]})},ht=function(){return Object(a.jsxs)(F,{title:"Listagem g\xeaneros",children:[Object(a.jsx)(u.a,{dir:"rtl",paddingBottom:2,children:Object(a.jsx)(P.a,{title:"Adicionar g\xeanero",color:"secondary",size:"small",component:O.b,to:"/genres/create",children:Object(a.jsx)(R.a,{})})}),Object(a.jsx)(u.a,{children:Object(a.jsx)(ft,{})})]})},mt=r(452),gt=function(){var e=function(e){return n.useCallback(function(){var t=Object(A.a)(D.a.mark((function t(r){var a;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.validate(r,{abortEarly:!1});case 3:return a=t.sent,t.abrupt("return",{values:a,errors:{}});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{values:{},errors:t.t0.inner.reduce((function(e,t){var r;return Object(d.a)(Object(d.a)({},e),{},Object(T.a)({},t.path,{type:null!==(r=t.type)&&void 0!==r?r:"validation",message:t.message}))}),{})});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),[e])}(n.useMemo((function(){return Te.d({name:Te.f().label("Nome").required().max(255),categories_id:Te.a().label("Categorias").required().min(1)})}),[])),t=Object(rt.a)({resolver:e,defaultValues:{categories_id:[]}}),r=t.register,o=t.handleSubmit,c=t.getValues,i=t.setValue,s=t.trigger,l=t.errors,u=t.reset,b=t.watch,j=t.formState;lt(j.submitCount,l);var f=Object(p.b)().enqueueSnackbar,h=Object(C.f)(),m=Object(C.h)().id,g=n.useState(null),O=Object(E.a)(g,2),x=O[0],v=O[1],y=n.useState([]),P=Object(E.a)(y,2),k=P[0],w=P[1],F=n.useContext(Xe);function S(e,t){return R.apply(this,arguments)}function R(){return(R=Object(A.a)(D.a.mark((function e(t,r){var a,n,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=x?pt.update(x.id,t):pt.create(t),e.next=4,a;case 4:n=e.sent,o=n.data,f("G\xeanero salvo com sucesso",{variant:"success"}),setTimeout((function(){r?m?h.replace("/genres/".concat(o.data.id,"/edit")):h.push("/genres/".concat(o.data.id,"/edit")):h.push("/genres")})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),f("Erro ao salvar G\xeanero",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return n.useEffect((function(){r({name:"categories_id"})}),[r]),n.useEffect((function(){var e=!0;return function(){var t=Object(A.a)(D.a.mark((function t(){var r,a,n,o,c,i;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[Q.list({queryParams:{all:""}})],m&&r.push(pt.get(m)),t.prev=2,t.next=5,Promise.all(r);case 5:a=t.sent,n=Object(E.a)(a,2),o=n[0],c=n[1],e&&(w(o.data.data),m&&(v(c.data.data),i=c.data.data.categories.map((function(e){return e.id})),u(Object(d.a)(Object(d.a)({},c.data.data),{},{categories_id:i})))),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),console.error(t.t0),f("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[m,u,f]),Object(a.jsxs)(st,{onSubmit:o(S),GridItemProps:{xs:12,md:6},children:[Object(a.jsx)(be.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",inputRef:r,disabled:F,error:void 0!==l.name,helperText:l.name&&l.name.message,InputLabelProps:{shrink:!0}}),Object(a.jsx)(be.a,{name:"description",label:"Descri\xe7\xe3o",multiline:!0,rows:"4",fullWidth:!0,variant:"outlined",margin:"normal",inputRef:r,disabled:F,InputLabelProps:{shrink:!0}}),Object(a.jsxs)(be.a,{select:!0,name:"categories_id",value:b("categories_id"),label:"Categories",margin:"normal",variant:"outlined",fullWidth:!0,onChange:function(e){i("categories_id",e.target.value)},SelectProps:{multiple:!0},disabled:F,error:void 0!==l.categories_id,helperText:l.categories_id&&l.categories_id.message,InputLabelProps:{shrink:!0},children:[Object(a.jsx)(mt.a,{value:"",disabled:!0,children:Object(a.jsx)("em",{children:"Selecione categorias"})}),k.map((function(e,t){return Object(a.jsx)(mt.a,{value:e.id,children:e.name},t)}))]}),Object(a.jsx)(tt.a,{name:"is_active",inputRef:r,defaultChecked:!0}),"Ativo?",Object(a.jsx)(nt,{disabledButtons:F,handleSave:function(){return s().then((function(e){e&&S(c(),null)}))}})]})},Ot=function(e){return Object(a.jsx)(F,{title:"Criar G\xeanero",children:Object(a.jsx)(gt,{})})},xt=new Y(U,"cast-members"),vt={1:"Diretor",2:"Ator"},yt={thumb_file:"Thumbnail",banner_file:"Banner",trailer_file:"Trailer",video_file:"Principal"},Ct=Object.values(vt),Pt=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",width:"43%",options:{filter:!1}},{name:"type",label:"Tipo",options:{filterOptions:{names:Ct},customBodyRender:function(e,t,r){return vt[e]}},width:"4%"},{name:"created_at",label:"Criado em",options:{filter:!1,customBodyRender:function(e,t,r){return Object(a.jsx)("span",{children:L()(M()(e),"dd/MM/yyyy")})}},width:"10%"},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{filter:!1,sort:!1,customBodyRender:function(e,t){return Object(a.jsx)(j.a,{color:"secondary",component:O.b,to:"/categories/".concat(t.rowData[0],"/edit"),children:Object(a.jsx)(Pe.a,{})})}}}],kt=[15,25,50],wt=function(){var e=Object(p.b)().enqueueSnackbar,t=n.useRef(!0),r=n.useState([]),o=Object(E.a)(r,2),c=o[0],i=o[1],l=n.useContext(Xe),u=Ve(),b=u.openDeleteDialog,j=u.setOpenDeleteDialog,f=u.rowsToDelete,h=u.setRowsToDelete,m=n.useRef(),g=n.useMemo((function(){return{createValidationSchema:function(){return Te.d().shape({type:Te.f().nullable().transform((function(e){return e&&Ct.includes(e)?e:void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(d.a)({},e.extraFilter.type&&{type:e.extraFilter.type}):void 0},getStateFromURL:function(e){return{type:e.get("type")}}}}),[]),O=_e({columns:Pt,debounceTime:300,rowsPerPage:15,rowsPerPageOptions:kt,tableRef:m,extraFilter:g}),x=O.columns,v=O.filterManager,y=O.cleanSearchText,C=O.filterState,P=O.debouncedFilterState,k=O.totalRecords,w=O.setTotalRecords,F=y(C.search),S=x.findIndex((function(e){return"type"===e.name})),R=x[S],I=C.extraFilter&&C.extraFilter.type;R.options.filterList=I?[I]:[];var N=x.map((function(e){return[]}));I&&(N[S]=[I]);var L=n.useCallback(function(){var r=Object(A.a)(D.a.mark((function r(a){var n,o,c,s,l,u,p,f;return D.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a.search,o=a.page,c=a.per_page,s=a.sort,l=a.dir,u=a.type,r.prev=1,r.next=4,xt.list({queryParams:Object(d.a)({search:n,page:o,per_page:c,sort:s,dir:l},u&&{type:Object(ce.invert)(vt)[u]})});case 4:p=r.sent,f=p.data,t.current&&(i(f.data),w(f.meta.total),b&&j(!1)),r.next=15;break;case 9:if(r.prev=9,r.t0=r.catch(1),console.error(r.t0),!xt.isCancelledRequest(r.t0)){r.next=14;break}return r.abrupt("return");case 14:e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 15:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}(),[e,w,b,j]);return n.useEffect((function(){return t.current=!0,L(Object(d.a)({search:F,page:C.pagination.page,per_page:C.pagination.per_page,sort:C.order.sort,dir:C.order.dir},P.extraFilter&&P.extraFilter.type&&{type:P.extraFilter.type})),function(){t.current=!1}}),[L,F,C.pagination.page,C.pagination.per_page,C.order,P.extraFilter]),Object(a.jsxs)(s.a,{theme:ye(Pt.length-1),children:[Object(a.jsx)(Qe,{open:b,handleClose:function(t){if(t){var r=f.data.map((function(e){return c[e.index].id})).join(",");xt.deleteCollection({ids:r}).then((function(t){if(e("Registros exclu\xeddos com sucesso",{variant:"success"}),f.data.length===C.pagination.per_page&&C.pagination.page>1){var r=C.pagination.page-2;v.changePage(r)}else L(Object(d.a)({search:F,page:C.pagination.page,per_page:C.pagination.per_page,sort:C.order.sort,dir:C.order.dir},P.extraFilter&&P.extraFilter.type&&{type:P.extraFilter.type}))})).catch((function(t){console.error(t),e("N\xe3o foi poss\xedvel excluir os registros",{variant:"error"})}))}else j(!1)}}),Object(a.jsx)(ve,{title:"Listagem de membros",columns:x,data:c,loading:l,debouncedSearchTime:300,ref:m,options:{serverSide:!0,responsive:"vertical",searchText:C.search,page:C.pagination.page-1,rowsPerPage:C.pagination.per_page,rowsPerPageOptions:kt,count:k,onFilterChange:function(e,t){var r=x.findIndex((function(t){return t.name===e}));v.changeExtraFilter(Object(T.a)({},e,t[r].length?t[r][0]:null))},customToolbar:function(){return Object(a.jsx)(Re,{handleClick:function(){return v.resetFilter()}})},onSearchChange:function(e){return v.changeSearch(e)},onChangePage:function(e){return v.changePage(e)},onChangeRowsPerPage:function(e){return v.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return v.changeColumnSort(e,t)},onRowsDelete:function(e){return h(e),!1}}})]})},Ft=function(){return Object(a.jsxs)(F,{title:"Listagem membros de elenco",children:[Object(a.jsx)(u.a,{dir:"rtl",paddingBottom:2,children:Object(a.jsx)(P.a,{title:"Adicionar membro de elenco",color:"secondary",size:"small",component:O.b,to:"/cast-members/create",children:Object(a.jsx)(R.a,{})})}),Object(a.jsx)(u.a,{children:Object(a.jsx)(wt,{})})]})},St=r(330),Rt=r(996),Tt=r(453),It=r(1041),Dt=r(995),At=function(){var e=function(e){return n.useCallback(function(){var t=Object(A.a)(D.a.mark((function t(r){var a;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.validate(r,{abortEarly:!1});case 3:return a=t.sent,t.abrupt("return",{values:a,errors:{}});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{values:{},errors:t.t0.inner.reduce((function(e,t){var r;return Object(d.a)(Object(d.a)({},e),{},Object(T.a)({},t.path,{type:null!==(r=t.type)&&void 0!==r?r:"validation",message:t.message}))}),{})});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),[e])}(n.useMemo((function(){return Te.d({name:Te.f().label("Nome").required().max(255),type:Te.c().label("Tipo").required()})}),[])),t=Object(rt.a)({resolver:e}),r=t.register,o=t.handleSubmit,c=t.getValues,i=t.setValue,s=t.trigger,l=t.errors,u=t.reset,b=t.watch,j=t.formState;lt(j.submitCount,l);var f=Object(p.b)().enqueueSnackbar,h=Object(C.f)(),m=Object(C.h)().id,g=n.useState(null),O=Object(E.a)(g,2),x=O[0],v=O[1],y=n.useContext(Xe);function P(e,t){return k.apply(this,arguments)}function k(){return(k=Object(A.a)(D.a.mark((function e(t,r){var a,n,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=x?xt.update(x.id,t):xt.create(t),e.next=4,a;case 4:n=e.sent,o=n.data,f("Membro de Elenco salvo com sucesso",{variant:"success"}),setTimeout((function(){r?m?h.replace("/cast-members/".concat(o.data.id,"/edit")):h.push("/cast-members/".concat(o.data.id,"/edit")):h.push("/cast-members")})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),f("Erro ao salvar Membro de Elenco",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return n.useEffect((function(){r({name:"type"})}),[r]),n.useEffect((function(){var e=!0;if(m)return function(){var t=Object(A.a)(D.a.mark((function t(){var r,a;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xt.get(m);case 3:r=t.sent,a=r.data,e&&(v(a.data),u(a.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),f("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[m,u,f]),Object(a.jsxs)(st,{onSubmit:o(P),GridItemProps:{xs:12,md:6},children:[Object(a.jsx)(be.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",inputRef:r,disabled:y,error:void 0!==l.name,helperText:l.name&&l.name.message,InputLabelProps:{shrink:!0}}),Object(a.jsxs)(St.a,{margin:"normal",error:void 0!==l.type,disabled:y,children:[Object(a.jsx)(Rt.a,{component:"legend",children:"Tipo"}),Object(a.jsxs)(Tt.a,{name:"type",onChange:function(e){i("type",parseInt(e.target.value))},value:b("type")+"",children:[Object(a.jsx)(et.a,{value:"1",control:Object(a.jsx)(It.a,{color:"primary"}),label:"Diretor"}),Object(a.jsx)(et.a,{value:"2",control:Object(a.jsx)(It.a,{color:"primary"}),label:"Ator"})]}),l.type&&Object(a.jsx)(Dt.a,{id:"type-helper-text",children:l.type.message})]}),Object(a.jsx)(nt,{disabledButtons:y,handleSave:function(){return s().then((function(e){e&&P(c(),null)}))}})]})},Et=function(e){return Object(a.jsx)(F,{title:"Criar Membros de Elenco",children:Object(a.jsx)(At,{})})},Nt=new Y(U,"videos"),Lt=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"title",label:"T\xedtulo",width:"20%",options:{filter:!1}},{name:"genres",label:"G\xeaneros",width:"14%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,r){return e.map((function(e){return e.name})).join(", ")}}},{name:"categories",label:"Categorias",width:"14%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,r){return e.map((function(e){return e.name})).join(", ")}}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e,t,r){return Object(a.jsx)("span",{children:L()(M()(e),"dd/MM/yyyy")})}}},{name:"actions",label:"A\xe7\xf5es",width:"12%",options:{filter:!1,sort:!1,customBodyRender:function(e,t){return Object(a.jsx)(j.a,{color:"secondary",component:O.b,to:"/videos/".concat(t.rowData[0],"/edit"),children:Object(a.jsx)(Pe.a,{})})}}}],Bt=[15,25,50],Mt=function(){var e=Object(p.b)().enqueueSnackbar,t=n.useRef(!0),r=n.useState([]),o=Object(E.a)(r,2),c=o[0],i=o[1],l=n.useContext(Xe),u=n.useRef(),d=Ve(),b=d.openDeleteDialog,j=d.setOpenDeleteDialog,f=d.rowsToDelete,h=d.setRowsToDelete,m=_e({columns:Lt,debounceTime:300,rowsPerPage:15,rowsPerPageOptions:Bt,tableRef:u}),g=m.columns,O=m.filterManager,x=m.filterState,v=m.cleanSearchText,y=m.totalRecords,C=m.setTotalRecords,P=v(x.search),k=n.useCallback(function(){var r=Object(A.a)(D.a.mark((function r(a){var n,o,c,s,l,u,d;return D.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a.search,o=a.page,c=a.per_page,s=a.sort,l=a.dir,r.prev=1,r.next=4,Nt.list({queryParams:{search:n,page:o,per_page:c,sort:s,dir:l}});case 4:u=r.sent,d=u.data,t.current&&(i(d.data),C(d.meta.total),b&&j(!1)),r.next=15;break;case 9:if(r.prev=9,r.t0=r.catch(1),console.error(r.t0),!Nt.isCancelledRequest(r.t0)){r.next=14;break}return r.abrupt("return");case 14:e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 15:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}(),[e,C,b,j]);return n.useEffect((function(){return t.current=!0,k({search:P,page:x.pagination.page,per_page:x.pagination.per_page,sort:x.order.sort,dir:x.order.dir}),function(){t.current=!1}}),[k,P,x.pagination.page,x.pagination.per_page,x.order]),Object(a.jsxs)(s.a,{theme:ye(Lt.length-1),children:[Object(a.jsx)(Qe,{open:b,handleClose:function(t){if(t){var r=f.data.map((function(e){return c[e.index].id})).join(",");Nt.deleteCollection({ids:r}).then((function(t){if(e("Registros exclu\xeddos com sucesso",{variant:"success"}),f.data.length===x.pagination.per_page&&x.pagination.page>1){var r=x.pagination.page-2;O.changePage(r)}else k({search:P,page:x.pagination.page,per_page:x.pagination.per_page,sort:x.order.sort,dir:x.order.dir})})).catch((function(t){console.error(t),e("N\xe3o foi poss\xedvel excluir os registros",{variant:"error"})}))}else j(!1)}}),Object(a.jsx)(ve,{title:"Listagem de V\xeddeos",columns:g,data:c,loading:l,debouncedSearchTime:300,ref:u,options:{serverSide:!0,responsive:"vertical",searchText:x.search,page:x.pagination.page-1,rowsPerPage:x.pagination.per_page,rowsPerPageOptions:Bt,count:y,customToolbar:function(){return Object(a.jsx)(Re,{handleClick:function(){return O.resetFilter()}})},onSearchChange:function(e){return O.changeSearch(e)},onChangePage:function(e){return O.changePage(e)},onChangeRowsPerPage:function(e){return O.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return O.changeColumnSort(e,t)},onRowsDelete:function(e){return h(e),!1}}})]})},_t=function(){return Object(a.jsxs)(F,{title:"Listagem v\xeddeos",children:[Object(a.jsx)(u.a,{dir:"rtl",paddingBottom:2,children:Object(a.jsx)(P.a,{title:"Adicionar v\xeddeo",color:"secondary",size:"small",component:O.b,to:"/videos/create",children:Object(a.jsx)(R.a,{})})}),Object(a.jsx)(u.a,{children:Object(a.jsx)(Mt,{})})]})},qt=r(26),Vt=r(1017),Ut=r(1019),zt=Object(b.a)({root:{width:"36px",height:"36px",fontSize:"1.2em",color:"#fff",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"}}),Gt={L:"#398549",10:"#20A3D4",12:"#E79738",14:"#E35E00",16:"#D00003",18:"#000000"},Wt=function(e){var t=zt();return Object(a.jsx)(v.a,{className:t.root,style:{backgroundColor:Gt[e.rating]},children:e.rating})},Ht=[{value:"L",control:Object(a.jsx)(It.a,{color:"primary"}),label:Object(a.jsx)(Wt,{rating:"L"}),labelPlacement:"top"},{value:"10",control:Object(a.jsx)(It.a,{color:"primary"}),label:Object(a.jsx)(Wt,{rating:"10"}),labelPlacement:"top"},{value:"12",control:Object(a.jsx)(It.a,{color:"primary"}),label:Object(a.jsx)(Wt,{rating:"12"}),labelPlacement:"top"},{value:"14",control:Object(a.jsx)(It.a,{color:"primary"}),label:Object(a.jsx)(Wt,{rating:"14"}),labelPlacement:"top"},{value:"16",control:Object(a.jsx)(It.a,{color:"primary"}),label:Object(a.jsx)(Wt,{rating:"16"}),labelPlacement:"top"},{value:"18",control:Object(a.jsx)(It.a,{color:"primary"}),label:Object(a.jsx)(Wt,{rating:"18"}),labelPlacement:"top"}],Yt=function(e){var t=e.value,r=e.setValue,n=e.error,o=e.disabled;return Object(a.jsxs)(St.a,Object(d.a)(Object(d.a)({error:void 0!==n,disabled:!0===o},e.FormControlProps),{},{children:[Object(a.jsx)(Rt.a,{component:"legend",children:"Classifica\xe7\xe3o"}),Object(a.jsx)(u.a,{paddingTop:1,children:Object(a.jsx)(Tt.a,{name:"rating",onChange:function(e){r(e.target.value)},value:t,row:!0,children:Ht.map((function(e,t){return Object(a.jsx)(et.a,Object(d.a)({},e),t)}))})}),n&&Object(a.jsx)(Dt.a,{children:n.message})]}))},Qt=r(1035),Xt=o.a.forwardRef((function(e,t){var r,o=Object(n.useRef)(),c=Object(n.useState)(""),i=Object(E.a)(c,2),s=i[0],l=i[1],u=Object(d.a)(Object(d.a)({variant:"outlined"},e.TextFieldProps),{},{InputProps:Object(d.a)(Object(d.a)({},null===(r=e.TextFieldProps)||void 0===r?void 0:r.InputProps),{},{readOnly:!0,endAdornment:Object(a.jsx)(Qt.a,{position:"end",children:e.ButtonFile})}),value:s}),p=Object(d.a)(Object(d.a)({},e.InputFileProps),{},{hidden:!0,ref:o,onChange:function(t){var r=t.target.files;r.length&&l(Array.from(r).map((function(e){return e.name})).join(", ")),e.InputFileProps&&e.InputFileProps.onChange&&e.InputFileProps.onChange(t)}});return Object(n.useImperativeHandle)(t,(function(){return{openWindow:function(){return o.current.click()},clear:function(){return l("")}}})),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",Object(d.a)({type:"file"},p)),Object(a.jsx)(be.a,Object(d.a)({},u))]})})),Zt=r(524),Kt=r.n(Zt),Jt=n.forwardRef((function(e,t){var r=n.useRef(),o=e.accept,c=e.label,i=e.setValue,s=e.error,l=e.disabled;return n.useImperativeHandle(t,(function(){return{clear:function(){return r.current.clear()}}})),Object(a.jsxs)(St.a,Object(d.a)(Object(d.a)({error:void 0!==s,disabled:!0===l,fullWidth:!0,margin:"normal"},e.FormControlProps),{},{children:[Object(a.jsx)(Xt,{ref:r,TextFieldProps:{label:c,InputLabelProps:{shrink:!0},style:{backgroundColor:"#FFFFFF"}},InputFileProps:{accept:o,onChange:function(e){var t=e.target.files;t.length&&i(t[0])}},ButtonFile:Object(a.jsx)(Ye.a,{endIcon:Object(a.jsx)(Kt.a,{}),variant:"contained",color:"primary",onClick:function(){return r.current.openWindow()},children:"Adicionar"})}),s&&Object(a.jsx)(Dt.a,{children:s.message})]}))})),$t=r(141),er=r(1020),tr=r(1042),rr=r(154),ar=n.forwardRef((function(e,t){var r=e.AutocompleteProps,o=e.debounceTime,c=void 0===o?300:o,i=e.fetchOptions,s=r,l=s.freeSolo,u=void 0!==l&&l,p=s.onOpen,b=s.onClose,j=s.onInputChange,f=n.useState(!1),h=Object(E.a)(f,2),m=h[0],g=h[1],O=n.useState(""),x=Object(E.a)(O,2),v=x[0],y=x[1],C=Object(rr.useDebounce)(v,c),P=Object(E.a)(C,1)[0],k=n.useState(!1),w=Object(E.a)(k,2),F=w[0],S=w[1],R=n.useState([]),T=Object(E.a)(R,2),I=T[0],N=T[1],L=Object(d.a)({margin:"normal",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0}},e.TextFieldProps&&Object(d.a)({},e.TextFieldProps)),B=Object(d.a)(Object(d.a)({loadingText:"Carregando...",noOptionsText:"Nenhum item encontrado"},r&&Object(d.a)({},r)),{},{open:m,options:I,loading:F,inputValue:v,onOpen:function(){g(!0),p&&p()},onClose:function(){g(!1),b&&b()},onInputChange:function(e,t){y(t),j&&j()},renderInput:function(e){return Object(a.jsx)(be.a,Object(d.a)(Object(d.a)(Object(d.a)({},e),L),{},{InputProps:Object(d.a)(Object(d.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(a.Fragment,{children:[F&&Object(a.jsx)(er.a,{color:"inherit",size:20}),e.InputProps.endAdornment]})})}))}});return n.useEffect((function(){m||u||N([])}),[m,u]),n.useEffect((function(){if(m&&(""!==P||!u)){var e=!0;return Object(A.a)(D.a.mark((function t(){var r;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(!0),t.prev=1,t.next=4,i(P);case 4:r=t.sent,e&&N(r);case 6:return t.prev=6,S(!1),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[1,,6,9]])})))(),function(){e=!1}}}),[u,P,m,i]),n.useImperativeHandle(t,(function(){return{clear:function(){y(""),N([])}}})),Object(a.jsx)(tr.a,Object(d.a)({},B))})),nr=r(268),or=Object(b.a)((function(e){return Object(nr.a)({root:{backgroundColor:"#F1F1F1",borderRadius:"4px",padding:e.spacing(1,1),color:e.palette.secondary.main}})})),cr=function(e){var t=or();return Object(a.jsx)(ct.a,Object(d.a)(Object(d.a)({container:!0,wrap:"wrap",className:t.root},e),{},{children:e.children}))},ir=r(124),sr=r.n(ir),lr=function(e){var t=e.onDelete,r=e.children,n=Object(ot.a)(e,["onDelete","children"]);return Object(a.jsx)(ct.a,Object(d.a)(Object(d.a)({item:!0},n),{},{children:Object(a.jsxs)(ct.a,{container:!0,alignItems:"center",spacing:3,children:[Object(a.jsx)(ct.a,{item:!0,xs:1,children:Object(a.jsx)(j.a,{size:"small",color:"inherit",onClick:t,children:Object(a.jsx)(sr.a,{})})}),Object(a.jsx)(ct.a,{item:!0,xs:10,md:11,children:r})]})}))},ur=function(e,t){var r=Object(p.b)();return{addItem:function(a){a&&""!==a&&(e.find((function(e){return e.id===a.id}))?r.enqueueSnackbar("Item j\xe1 adicionado",{variant:"info"}):(e.unshift(a),t(e)))},removeItem:function(r){var a=e.findIndex((function(e){return e.id===r.id}));-1!==a&&(e.splice(a,1),t(e))}}},dr=function(){var e=Object(p.b)().enqueueSnackbar;return Object(n.useCallback)(function(){var t=Object(A.a)(D.a.mark((function t(r){var a,n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r;case 3:return a=t.sent,n=a.data,t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(0),console.log(t.t0),V.a.isCancel(t.t0)||e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),[e])};function pr(e,t){return e.filter((function(e){return 0!==e.categories.filter((function(e){return e.id===t.id})).length}))}var br,jr=Object(b.a)((function(e){return{genresSubtitle:{color:$t.a[800],fontSize:"0.8rem"}}})),fr=n.forwardRef((function(e,t){var r=e.categories,o=e.setCategories,c=e.genres,i=e.error,s=e.disabled,l=jr(),u=dr(),p=ur(r,o),b=p.addItem,j=p.removeItem,f=n.useRef(),h=Object(ie.a)(),m=n.useCallback((function(e){return u(Q.list({queryParams:{genres:c.map((function(e){return e.id})).join(","),all:""}})).then((function(e){return e.data}))}),[u,c]);return n.useImperativeHandle(t,(function(){return{clear:function(){return f.current.clear()}}})),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ar,{ref:f,fetchOptions:m,AutocompleteProps:{clearOnEscape:!0,getOptionSelected:function(e,t){return e.id===t.id},getOptionLabel:function(e){return e.name},onChange:function(e,t){return b(t)},disabled:!0===s||!c.length},TextFieldProps:{label:"Categorias",error:void 0!==i}}),Object(a.jsx)(Dt.a,{style:{height:h.spacing(3)},children:"Escolha pelo menos uma categoria de cada g\xeanero"}),Object(a.jsxs)(St.a,Object(d.a)(Object(d.a)({margin:"normal",fullWidth:!0,error:void 0!==i,disabled:!0===s},e.FormControlProps),{},{children:[Object(a.jsx)(cr,{children:r.map((function(e,t){var r=pr(c,e).map((function(e){return e.name})).join(",");return Object(a.jsxs)(lr,{onDelete:function(){return j(e)},xs:12,children:[Object(a.jsx)(v.a,{noWrap:!0,children:e.name}),Object(a.jsxs)(v.a,{noWrap:!0,className:l.genresSubtitle,children:["G\xeaneros: ",r]})]},t)}))}),i&&Object(a.jsx)(Dt.a,{children:i.message})]}))]})})),hr=n.forwardRef((function(e,t){var r=e.genres,o=e.setGenres,c=e.categories,i=e.setCategories,s=e.error,l=e.disabled,u=dr(),p=ur(r,o),b=p.addItem,j=p.removeItem,f=ur(c,i).removeItem,h=n.useRef(),m=Object(ie.a)(),g=n.useCallback((function(e){return u(pt.list({queryParams:{search:e,all:""}})).then((function(e){return e.data}))}),[u]);return n.useImperativeHandle(t,(function(){return{clear:function(){return h.current.clear()}}})),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ar,{ref:h,fetchOptions:g,AutocompleteProps:{clearOnEscape:!0,freeSolo:!0,getOptionSelected:function(e,t){return e.id===t.id},getOptionLabel:function(e){return e.name},onChange:function(e,t){return b(t)},disabled:l},TextFieldProps:{label:"G\xeaneros",error:void 0!==s}}),Object(a.jsx)(Dt.a,{style:{height:m.spacing(3)},children:"Escolha os g\xeaneros do v\xeddeo"}),Object(a.jsxs)(St.a,Object(d.a)(Object(d.a)({margin:"normal",fullWidth:!0,error:void 0!==s,disabled:!0===l},e.FormControlProps),{},{children:[Object(a.jsx)(cr,{children:r.map((function(e,t){return Object(a.jsx)(lr,{onDelete:function(){c.filter((function(t){return 1===pr(r,t).length&&r[0].id===e.id})).forEach((function(e){return f(e)})),j(e)},xs:12,children:Object(a.jsx)(v.a,{noWrap:!0,children:e.name})},t)}))}),s&&Object(a.jsx)(Dt.a,{children:s.message})]}))]})})),mr=o.a.forwardRef((function(e,t){var r=e.castMembers,o=e.setCastMembers,c=e.error,i=e.disabled,s=dr(),l=ur(r,o),u=l.addItem,p=l.removeItem,b=Object(n.useRef)(),j=Object(n.useCallback)((function(e){return s(xt.list({queryParams:{search:e,all:""}})).then((function(e){return e.data}))}),[s]);return Object(n.useImperativeHandle)(t,(function(){return{clear:function(){return b.current.clear()}}})),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ar,{ref:b,fetchOptions:j,AutocompleteProps:{clearOnEscape:!0,freeSolo:!0,getOptionSelected:function(e,t){return e.id===t.id},getOptionLabel:function(e){return e.name},onChange:function(e,t){return u(t)},disabled:i},TextFieldProps:{label:"Elenco",error:void 0!==c}}),Object(a.jsxs)(St.a,Object(d.a)(Object(d.a)({margin:"normal",fullWidth:!0,error:void 0!==c,disabled:!0===i},e.FormControlProps),{},{children:[Object(a.jsx)(cr,{children:r.map((function(e,t){return Object(a.jsx)(lr,{onDelete:function(){return p(e)},xs:6,children:Object(a.jsx)(v.a,{noWrap:!0,children:e.name})},t)}))}),c&&Object(a.jsx)(Dt.a,{children:c.message})]}))]})})),gr=r(1018),Or=r(530),xr=r(997),vr=r(267),yr=r.n(vr),Cr=r(525),Pr=r.n(Cr),kr=r(998),wr=r(1038),Fr=r(451),Sr=r(1028),Rr=r(266),Tr=r.n(Rr),Ir=r(531),Dr=r(1039),Ar=r(264),Er=r.n(Ar),Nr=r(265),Lr=r.n(Nr),Br=r(79),Mr=r(195),_r=r.n(Mr),qr=Object(De.createActions)({addUpload:["payload"],removeUpload:["payload"],updateProgress:["payload"],setUploadError:["payload"]}),Vr=qr.Types,Ur=qr.Creators,zr={uploads:[]},Gr=Object(De.createReducer)(zr,(br={},Object(T.a)(br,Vr.ADD_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr,t=arguments.length>1?arguments[1]:void 0;if(!t.payload.files.length)return e;var r=Yr(e,t.payload.video.id);if(-1!==r&&e.uploads[r].progress<1)return e;var a=-1===r?e.uploads:_r()(e.uploads,{$splice:[[r,1]]});return{uploads:[].concat(Object(qt.a)(a),[{video:t.payload.video,progress:0,files:t.payload.files.map((function(e){return{fileField:e.fileField,filename:e.file.name,progress:0}}))}])}})),Object(T.a)(br,Vr.REMOVE_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr,t=arguments.length>1?arguments[1]:void 0,r=e.uploads.filter((function(e){return e.video.id!==t.payload.id}));if(r.length===e.uploads.length)return e;return{uploads:r}})),Object(T.a)(br,Vr.UPDATE_PROGRESS,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr,t=arguments.length>1?arguments[1]:void 0,r=t.payload.video.id,a=t.payload.fileField,n=Wr(e,r,a),o=n.indexUpload,c=n.indexFile;if("undefined"===typeof o)return e;var i=e.uploads[o],s=i.files[c];if(s.progress===t.payload.progress)return e;var l=_r()(e.uploads,Object(T.a)({},o,{$apply:function(e){var r=_r()(e.files,Object(T.a)({},c,{$set:Object(d.a)(Object(d.a)({},s),{},{progress:t.payload.progress})})),a=Hr(r);return Object(d.a)(Object(d.a)({},e),{},{progress:a,files:r})}}));return{uploads:l}})),Object(T.a)(br,Vr.SET_UPLOAD_ERROR,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr,t=arguments.length>1?arguments[1]:void 0,r=t.payload.video.id,a=t.payload.fileField,n=Wr(e,r,a),o=n.indexUpload,c=n.indexFile;if("undefined"===typeof o)return e;var i=e.uploads[o],s=i.files[c],l=_r()(e.uploads,Object(T.a)({},o,{files:Object(T.a)({},c,{$set:Object(d.a)(Object(d.a)({},s),{},{error:t.payload.error,progress:1})})}));return{uploads:l}})),br));function Wr(e,t,r){var a=Yr(e,t);if(-1===a)return{};var n=function(e,t){return e.findIndex((function(e){return e.fileField===t}))}(e.uploads[a].files,r);return-1===n?{}:{indexUpload:a,indexFile:n}}function Hr(e){var t=e.length;return t?e.reduce((function(e,t){return e+t.progress}),0)/t:0}function Yr(e,t){return e.uploads.findIndex((function(e){return e.video.id===t}))}function Qr(e){return 1===e.progress||Xr(e)}function Xr(e){return Zr(e)?e.files.some((function(e){return e.error})):void 0!==e.error}function Zr(e){return"video"in e}var Kr=Object(b.a)((function(e){return{successIcon:{color:e.palette.success.main},errorIcon:{color:e.palette.error.main},deleteIcon:{color:e.palette.primary.main}}})),Jr=function(e){var t=e.upload,r=e.hover,o=Kr(),c=Object(Br.b)(),i=Xr(t),s=n.useState(!1),l=Object(E.a)(s,2),u=l[0],d=l[1],p=Object(rr.useDebounce)(u,2500),b=Object(E.a)(p,1)[0];return n.useEffect((function(){d(Qr(t))}),[t]),b?Object(a.jsx)(Ir.a,{in:u,timeout:{enter:1e3},children:Object(a.jsxs)(Dr.a,{children:[Object(a.jsxs)("span",{hidden:r,children:[1===t.progress&&!i&&Object(a.jsx)(j.a,{className:o.successIcon,edge:"end",children:Object(a.jsx)(Er.a,{})}),i&&Object(a.jsx)(j.a,{className:o.errorIcon,edge:"end",children:Object(a.jsx)(Lr.a,{})})]}),Object(a.jsx)("span",{hidden:!r,children:Object(a.jsx)(j.a,{className:o.deleteIcon,edge:"end",onClick:function(){return c(Ur.removeUpload({id:t.video.id}))},children:Object(a.jsx)(sr.a,{})})})]})}):null},$r=Object(b.a)((function(e){return{progressContainer:{position:"relative"},progressBackground:{color:$t.a[300]},progress:{position:"absolute",left:0}}})),ea=function(e){var t=e.uploadOrFile,r=e.size,n=$r(),o=Xr(t);return Object(a.jsx)(Ir.a,{in:t.progress<1,timeout:{enter:100,exit:2e3},children:Object(a.jsxs)("div",{className:n.progressContainer,children:[Object(a.jsx)(er.a,{variant:"static",className:n.progressBackground,value:100,size:r}),Object(a.jsx)(er.a,{variant:"static",className:n.progress,value:o?0:100*t.progress,size:r})]})})},ta=Object(b.a)((function(e){return{listItem:{paddingTop:"7px",paddingBottom:"7px",height:"53px"},movieIcon:{color:e.palette.error.main,minWidth:"40px"},listItemText:{marginLeft:"6px",marginRight:"24px",color:e.palette.text.secondary}}})),ra=function(e){var t=e.upload,r=ta(),o=Xr(t),c=Object(n.useState)(!1),i=Object(E.a)(c,2),s=i[0],l=i[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ke.a,{disableFocusListener:!0,disableTouchListener:!0,title:o?"N\xe3o foi poss\xedvel fazer o upload, clique para mais detalhes":"",placement:"left",children:Object(a.jsxs)(kr.a,{className:r.listItem,button:!0,onMouseOver:function(){return l(!0)},onMouseLeave:function(){return l(!1)},children:[Object(a.jsx)(wr.a,{className:r.movieIcon,children:Object(a.jsx)(Tr.a,{})}),Object(a.jsx)(Fr.a,{className:r.listItemText,primary:Object(a.jsx)(v.a,{noWrap:!0,variant:"subtitle2",color:"inherit",children:t.video.title})}),Object(a.jsx)(ea,{size:30,uploadOrFile:t}),Object(a.jsx)(Jr,{upload:t,hover:s})]})}),Object(a.jsx)(Sr.a,{component:"li"})]})},aa=Object(b.a)((function(e){return{card:{width:450},cardActionRoot:{padding:"8px 8px 8px 16px",backgroundColor:e.palette.primary.main},title:{fontWeight:"bold",color:e.palette.primary.contrastText},icons:{marginLeft:"auto !important",color:e.palette.primary.contrastText},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},list:{paddingTop:0,paddingBottom:0}}})),na=o.a.forwardRef((function(e,t){var r=e.id,o=aa(),c=Object(p.b)().closeSnackbar,i=Object(n.useState)(!0),s=Object(E.a)(i,2),l=s[0],u=s[1],d=Object(Br.c)((function(e){return e.upload.uploads})),b=function(e){return e.filter((function(e){return!Qr(e)})).length}(d);return Object(a.jsxs)(Vt.a,{ref:t,className:o.card,children:[Object(a.jsxs)(gr.a,{classes:{root:o.cardActionRoot},children:[Object(a.jsxs)(v.a,{variant:"subtitle2",className:o.title,children:["Fazendo upload de ",b," v\xeddeo(s)"]}),Object(a.jsxs)("div",{className:o.icons,children:[Object(a.jsx)(j.a,{color:"inherit",onClick:function(){return u(!l)},className:Pr()(o.expand,Object(T.a)({},o.expandOpen,!l)),children:Object(a.jsx)(yr.a,{})}),Object(a.jsx)(j.a,{color:"inherit",onClick:function(){return c(r)},children:Object(a.jsx)(h.a,{})})]})]}),Object(a.jsx)(Or.a,{in:l,children:Object(a.jsx)(xr.a,{className:o.list,children:d.map((function(e,t){return Object(a.jsx)(ra,{upload:e},t)}))})})]})})),oa=Object(b.a)((function(e){return{cardUpload:{borderRadius:"4px",backgroundColor:"#F5F5F5",margin:e.spacing(2,0)},cardOpened:{borderRadius:"4px",backgroundColor:"#F5F5F5"},cardContentOpened:{paddingBottom:e.spacing(2)+"px !important"}}})),ca=Object.keys(yt),ia=function(){var e=function(e){return n.useCallback(function(){var t=Object(A.a)(D.a.mark((function t(r){var a;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.validate(r,{abortEarly:!1});case 3:return a=t.sent,t.abrupt("return",{values:a,errors:{}});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{values:{},errors:t.t0.inner.reduce((function(e,t){var r;return Object(d.a)(Object(d.a)({},e),{},Object(T.a)({},t.path,{type:null!==(r=t.type)&&void 0!==r?r:"validation",message:t.message}))}),{})});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),[e])}(Te.d().shape({title:Te.f().label("T\xedtulo").required().max(255),description:Te.f().label("Sinopse").required(),year_launched:Te.c().label("Ano de Lan\xe7amento").required().min(1),duration:Te.c().required().min(1),genres:Te.a().label("G\xeaneros").test({message:"Cada G\xeanero escolhido precisa ter, pelo menos, uma categoria selecionada",test:function(e,t){return!!e&&e.every((function(e){return 0!==e.categories.filter((function(e){var r=t.parent.categories;return r&&r.map((function(e){return e.id})).includes(e.id)})).length}))}}),categories:Te.a().label("Categories").required(),rating:Te.f().label("Classifica\xe7\xe3o").required()})),t=Object(rt.a)({resolver:e,defaultValues:{rating:void 0,genres:[],categories:[],cast_members:[],opened:!1}}),r=t.register,o=t.handleSubmit,c=t.getValues,i=t.setValue,s=t.errors,l=t.reset,u=t.watch,b=t.trigger,j=t.formState;lt(j.submitCount,s);var f=oa(),h=Object(p.b)().enqueueSnackbar,m=Object(C.f)(),g=Object(Br.b)(),O=Object(C.h)().id,x=n.useState(null),y=Object(E.a)(x,2),P=y[0],k=y[1],w=n.useContext(Xe),F=Object(ie.a)(),S=Object(se.a)(F.breakpoints.up("md")),R=n.useRef(),I=n.useRef(),N=n.useRef(),L=n.useRef(Object(ce.zipObject)(ca,ca.map((function(){return n.createRef()})))),B=n.useCallback((function(e){Object.keys(L.current).forEach((function(e){return L.current[e].current.clear()})),R.current.clear(),I.current.clear(),N.current.clear(),l(e)}),[l,L,R,I,N]);function M(e,t){return _.apply(this,arguments)}function _(){return(_=Object(A.a)(D.a.mark((function e(t,r){var a,n,o,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(ce.omit)(t,[].concat(Object(qt.a)(ca),["genres","categories","cast_members"]))).cast_members_id=t.cast_members.map((function(e){return e.id})),a.categories_id=t.categories.map((function(e){return e.id})),a.genres_id=t.genres.map((function(e){return e.id})),e.prev=4,n=P?Nt.update(P.id,a):Nt.create(a),e.next=8,n;case 8:o=e.sent,c=o.data,h("Video salvo com sucesso!",{variant:"success"}),q(c.data),O&&B(P),setTimeout((function(){r?!O&&m.push("/videos/".concat(c.data.id,"/edit")):m.push("/videos")})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0),h("Falha ao salvar Video",{variant:"error"});case 20:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function q(e){var t=ca.filter((function(e){return c()[e]})).map((function(e){return{fileField:e,file:c()[e]}}));t.length&&(g(Ur.addUpload({video:e,files:t})),h("",{key:"snackbar-upload",persist:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},content:function(e,t){var r=e;return Object(a.jsx)(na,{id:r})}}))}return n.useEffect((function(){["rating","opened","genres","categories","cast_members"].concat(Object(qt.a)(ca)).forEach((function(e){return r({name:e})}))}),[r]),n.useEffect((function(){if(h("",{key:"snackbar-upload",persist:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},content:function(e,t){var r=e;return Object(a.jsx)(na,{id:r})}}),O){var e=!0;return Object(A.a)(D.a.mark((function t(){var r,a;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Nt.get(O);case 3:r=t.sent,a=r.data,e&&(k(a.data),B(a.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),h("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){e=!1}}}),[O,B,h]),Object(a.jsxs)(st,{onSubmit:o(M),GridItemProps:{xs:12},children:[Object(a.jsxs)(ct.a,{container:!0,spacing:5,children:[Object(a.jsxs)(ct.a,{item:!0,xs:12,md:6,children:[Object(a.jsx)(be.a,{name:"title",label:"T\xedtulo",fullWidth:!0,variant:"outlined",inputRef:r,disabled:w,error:void 0!==s.title,helperText:s.title&&s.title.message,InputLabelProps:{shrink:!0}}),Object(a.jsx)(be.a,{name:"description",label:"Sinopse",multiline:!0,rows:"4",fullWidth:!0,variant:"outlined",margin:"normal",inputRef:r,disabled:w,InputLabelProps:{shrink:!0},error:void 0!==s.description,helperText:s.description&&s.description.message}),Object(a.jsxs)(ct.a,{container:!0,spacing:1,children:[Object(a.jsx)(ct.a,{item:!0,xs:6,children:Object(a.jsx)(be.a,{name:"year_launched",label:"Ano de Lan\xe7amento",type:"number",fullWidth:!0,variant:"outlined",margin:"normal",inputRef:r,disabled:w,InputLabelProps:{shrink:!0},error:void 0!==s.year_launched,helperText:s.year_launched&&s.year_launched.message})}),Object(a.jsx)(ct.a,{item:!0,xs:6,children:Object(a.jsx)(be.a,{name:"duration",label:"Dura\xe7\xe3o",type:"number",fullWidth:!0,variant:"outlined",margin:"normal",inputRef:r,disabled:w,InputLabelProps:{shrink:!0},error:void 0!==s.duration,helperText:s.duration&&s.duration.message})})]}),Object(a.jsx)(mr,{ref:R,castMembers:u("cast_members"),setCastMembers:function(e){return i("cast_members",e,{shouldValidate:!0})},error:s.cast_members,disabled:w}),Object(a.jsxs)(ct.a,{container:!0,spacing:2,children:[Object(a.jsx)(ct.a,{item:!0,md:6,xs:12,children:Object(a.jsx)(hr,{genres:u("genres"),setGenres:function(e){return i("genres",e,{shouldValidate:!0})},categories:u("categories"),setCategories:function(e){return i("categories",e,{shouldValidate:!0})},error:s.genres,disabled:w})}),Object(a.jsx)(ct.a,{item:!0,md:6,xs:12,children:Object(a.jsx)(fr,{categories:u("categories"),setCategories:function(e){return i("categories",e,{shouldValidate:!0})},genres:u("genres"),error:s.categories,disabled:w})})]})]}),Object(a.jsxs)(ct.a,{item:!0,xs:12,md:6,children:[Object(a.jsx)(Yt,{value:u("rating"),setValue:function(e){return i("rating",e,{shouldValidate:!0})},error:s.rating,disabled:w,FormControlProps:{margin:S?"none":"normal"}}),Object(a.jsx)(Vt.a,{className:f.cardUpload,children:Object(a.jsxs)(Ut.a,{children:[Object(a.jsx)(v.a,{color:"primary",variant:"h6",children:"Imagens"}),Object(a.jsx)(Jt,{ref:L.current.thumb_file,accept:"image/*",label:"Thumb",setValue:function(e){return i("thumb_file",e)}}),Object(a.jsx)(Jt,{ref:L.current.banner_file,accept:"image/*",label:"Banner",setValue:function(e){return i("banner_file",e)}})]})}),Object(a.jsx)(Vt.a,{className:f.cardUpload,children:Object(a.jsxs)(Ut.a,{children:[Object(a.jsx)(v.a,{color:"primary",variant:"h6",children:"V\xeddeos"}),Object(a.jsx)(Jt,{ref:L.current.trailer_file,accept:"video/mp4",label:"Trailer",setValue:function(e){return i("trailer_file",e)}}),Object(a.jsx)(Jt,{ref:L.current.video_file,accept:"video/mp4",label:"Principal",setValue:function(e){return i("video_file",e)}})]})}),Object(a.jsx)(et.a,{control:Object(a.jsx)(tt.a,{name:"opened",color:"primary",onChange:function(){return i("opened",!c().opened)},checked:u("opened"),disabled:w}),label:Object(a.jsx)(v.a,{color:"primary",variant:"subtitle2",children:"Quero que este conte\xfado apare\xe7a na se\xe7\xe3o lan\xe7amentos"}),labelPlacement:"end"})]})]}),Object(a.jsx)(nt,{disabledButtons:w,handleSave:function(){return b().then((function(e){e&&M(c(),null)}))}})]})},sa=function(){var e=Object(C.h)().id;return Object(a.jsx)(F,{title:e?"Editar v\xeddeo":"Criar v\xeddeo",children:Object(a.jsx)(ia,{})})},la=function(e){return Object(a.jsx)(F,{title:"Dashboard"})},ua=r(1029),da=r(1031),pa=r(1030),ba=(r(526),Object(b.a)((function(e){return{successIcon:{color:e.palette.success.main,marginLeft:e.spacing(1)},errorIcon:{color:e.palette.error.main,marginLeft:e.spacing(1)},divider:{height:"20px",marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}))),ja=function(e){var t=e.uploadOrFile,r=ba(),c=Object(Br.b)(),i=Object(n.useState)(!1),s=Object(E.a)(i,2),l=s[0],u=s[1],d=Object(rr.useDebounce)(l,2500),p=Object(E.a)(d,1)[0],b=Xr(t),f=t.video.id?t.video.id:"",h=Zr(t);return o.a.useEffect((function(){u(Qr(t))}),[t]),p?Object(a.jsx)(Ir.a,{in:l,timeout:{enter:1e3},children:Object(a.jsxs)(a.Fragment,{children:[1===t.progress&&!b&&Object(a.jsx)(Er.a,{className:r.successIcon}),b&&Object(a.jsx)(Lr.a,{className:r.errorIcon}),h&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Sr.a,{className:r.divider,orientation:"vertical"}),Object(a.jsx)(j.a,{onClick:function(){return c(Ur.removeUpload({id:f}))},children:Object(a.jsx)(sr.a,{color:"primary"})}),Object(a.jsx)(j.a,{component:O.b,to:"/videos/".concat(f,"/edit"),children:Object(a.jsx)(Pe.a,{color:"primary"})})]})]})}):null},fa=Object(b.a)((function(e){return{gridTitle:{display:"flex",color:"#999999"},icon:{color:e.palette.error.main,minWidth:"40px"}}})),ha=function(e){var t=e.uploadOrFile,r=fa();return Object(a.jsx)(kr.a,{children:Object(a.jsxs)(ct.a,{container:!0,alignItems:"center",children:[Object(a.jsxs)(ct.a,{className:r.gridTitle,item:!0,xs:12,md:9,children:[Object(a.jsx)(Tr.a,{className:r.icon}),Object(a.jsx)(v.a,{color:"inherit",children:e.children})]}),Object(a.jsx)(ct.a,{item:!0,xs:12,md:3,children:Object(a.jsxs)(ct.a,{container:!0,direction:"row",alignItems:"center",justify:"flex-end",children:[Object(a.jsx)(ea,{size:48,uploadOrFile:t}),Object(a.jsx)(ja,{uploadOrFile:t})]})})]})})},ma=Object(b.a)((function(e){return{panelSummary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},expandedIcon:{color:e.palette.primary.contrastText}}})),ga=[{name:"dashboard",label:"Dashboard",path:"/",component:la,exact:!0},{name:"categories.list",label:"Listar Categorias",path:"/categories",component:$e,exact:!0},{name:"categories.create",label:"Criar Categoria",path:"/categories/create",component:dt,exact:!0},{name:"categories.edit",label:"Editar Categoria",path:"/categories/:id/edit",component:dt,exact:!0},{name:"genres.list",label:"Listar G\xeaneros",path:"/genres",component:ht,exact:!0},{name:"genres.create",label:"Criar G\xeanero",path:"/genres/create",component:Ot,exact:!0},{name:"genres.edit",label:"Editar G\xeanero",path:"/genres/:id/edit",component:Ot,exact:!0},{name:"cast_members.list",label:"Listar Membros de Elenco",path:"/cast-members",component:Ft,exact:!0},{name:"cast_members.create",label:"Criar Membro de elenco",path:"/cast-members/create",component:Et,exact:!0},{name:"cast_members.edit",label:"Editar membro de elenco",path:"/cast-members/:id/edit",component:Et,exact:!0},{name:"videos.list",label:"Listar V\xeddeos",path:"/videos",component:_t,exact:!0},{name:"videos.create",label:"Criar V\xeddeos",path:"/videos/create",component:sa,exact:!0},{name:"videos.edit",label:"Editar V\xeddeo",path:"/videos/:id/edit",component:sa,exact:!0},{name:"uploads",label:"Uploads",path:"/uploads",component:function(){var e=ma(),t=Object(Br.c)((function(e){return e.upload.uploads}));return Object(a.jsx)(F,{title:"Upload",children:t.map((function(t,r){return Object(a.jsx)(Vt.a,{elevation:5,children:Object(a.jsxs)(Ut.a,{children:[Object(a.jsx)(ha,{uploadOrFile:t,children:t.video.title}),Object(a.jsxs)(ua.a,{style:{margin:0},children:[Object(a.jsx)(da.a,{className:e.panelSummary,expandIcon:Object(a.jsx)(yr.a,{className:e.expandedIcon}),children:Object(a.jsx)(v.a,{children:"Ver detalhes"})}),Object(a.jsx)(pa.a,{style:{padding:"0px"},children:Object(a.jsx)(ct.a,{item:!0,xs:12,children:Object(a.jsx)(xr.a,{dense:!0,style:{padding:"0px"},children:t.files.map((function(e,t){return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(Sr.a,{}),Object(a.jsx)(ha,{uploadOrFile:e,children:"".concat(yt[e.fileField]," - ").concat(e.filename)})]},t)}))})})})]})]})},r)}))})},exact:!0}],Oa=r(527),xa=r.n(Oa),va={};ga.forEach((function(e){return va[e.path]=e.label}));var ya=Object(b.a)((function(e){return{linkRouter:{color:e.palette.secondary.main,"&:focus, &:active":{color:e.palette.secondary.main},"&:hover":{color:e.palette.secondary.dark}}}})),Ca=function(e){return Object(a.jsx)(x.a,Object(d.a)(Object(d.a)({},e),{},{component:O.b}))};function Pa(){var e=ya();return Object(a.jsx)(k.a,{children:Object(a.jsx)(u.a,{paddingBottom:2,paddingTop:2,children:Object(a.jsx)(C.a,{children:function(t){return function(t){var r=t.pathname.split("/").filter((function(e){return e}));return r.unshift("/"),Object(a.jsx)(y.a,{"aria-label":"breadcrumb",children:r.map((function(t,n){var o=n===r.length-1,c="".concat(r.slice(0,n+1).join("/").replace("//","/")),i=Object.keys(va).find((function(e){return new xa.a(e).match(c)}));return void 0!==i&&(o?Object(a.jsx)(v.a,{color:"textPrimary",children:va[i]},c):Object(a.jsx)(Ca,{color:"inherit",to:c,className:e.linkRouter,children:va[i]},c))}))})}(t.location)}})})})}var ka=r(1016),wa=r(458),Fa=r(516),Sa=r(528),Ra=r.n(Sa),Ta={dashboard:"Dashboard","categories.list":"Categorias","genres.list":"G\xeaneros","cast_members.list":"Membros de elenco","videos.list":"V\xeddeos",uploads:"Uploads"},Ia=ga.filter((function(e){return Object.keys(Ta).includes(e.name)})),Da=function(){var e=n.useState(null),t=Object(E.a)(e,2),r=t[0],o=t[1],c=Boolean(r),i=function(){return o(null)};return Object(a.jsxs)(n.Fragment,{children:[Object(a.jsx)(j.a,{color:"inherit",edge:"start","aria-label":"open drawer","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){return o(e.currentTarget)},children:Object(a.jsx)(Ra.a,{})}),Object(a.jsx)(Fa.a,{id:"menu-appbar",open:c,anchorEl:r,onClose:i,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null,children:Object.keys(Ta).map((function(e,t){var r=Ia.find((function(t){return t.name===e}));return Object(a.jsx)(mt.a,{component:O.b,to:r.path,onClick:i,children:r.label},t)}))})]})},Aa=Object(b.a)((function(e){return{toolbar:{backgroundColor:"#000000"},title:{flexGrow:1,textAlign:"center"},logo:Object(T.a)({width:100},e.breakpoints.up("sm"),{width:170})}})),Ea=function(){var e=Aa();return Object(a.jsx)(ka.a,{children:Object(a.jsxs)(wa.a,{className:e.toolbar,children:[Object(a.jsx)(Da,{}),Object(a.jsx)(v.a,{className:e.title,children:Object(a.jsx)("img",{src:"data:image/png;base64,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",alt:"CodeFlix",className:e.logo})}),Object(a.jsx)(Ye.a,{color:"inherit",children:"Login"})]})})},Na=function(){return Object(a.jsx)(C.c,{children:ga.map((function(e,t){return Object(a.jsx)(C.a,{path:e.path,component:e.component,exact:!0===e.exact},t)}))})},La=r(1036);function Ba(e){return Object(d.a)(Object(d.a)({},e),{},{palette:Object(d.a)(Object(d.a)({},e.palette),{},{primary:e.palette.error,type:"dark"})})}var Ma=function(){var e=Object(n.useContext)(Xe);return Object(a.jsx)(s.a,{theme:Ba,children:Object(a.jsx)(Ir.a,{in:e,children:Object(a.jsx)(La.a,{color:"primary",style:{position:"fixed",width:"100%",zIndex:9999}})})})},_a=function(e){var t=n.useState(!1),r=Object(E.a)(t,2),o=r[0],c=r[1],i=n.useState(0),s=Object(E.a)(i,2),l=s[0],u=s[1];function d(){u((function(e){return e-1}))}return n.useMemo((function(){var e=!0,t=function(e,t){var r,a=[],n=Object(_.a)(z);try{for(n.s();!(r=n.n()).done;){var o=r.value.interceptors.request.use(e,t);a.push(o)}}catch(c){n.e(c)}finally{n.f()}return a}((function(t){return e&&!t.headers.hasOwnProperty("x-ignore-loading")&&(c(!0),u((function(e){return e+1}))),t})),r=function(e,t){var r,a=[],n=Object(_.a)(z);try{for(n.s();!(r=n.n()).done;){var o=r.value.interceptors.response.use(e,t);a.push(o)}}catch(c){n.e(c)}finally{n.f()}return a}((function(t){return e&&!t.config.headers.hasOwnProperty("x-ignore-loading")&&d(),t}),(function(t){return e&&!t.config.headers.hasOwnProperty("x-ignore-loading")&&d(),Promise.reject(t)}));return function(){e=!1,t.forEach((function(e,t){return z[t].interceptors.request.eject(e)})),function(e){e.forEach((function(e,t){return z[t].interceptors.response.eject(e)}))}(r)}}),[]),n.useEffect((function(){l||c(!1)}),[l]),Object(a.jsx)(Xe.Provider,{value:o,children:e.children})};var qa=function(){return Object(a.jsx)(o.a.Fragment,{children:Object(a.jsx)(_a,{children:Object(a.jsx)(s.a,{theme:ee,children:Object(a.jsxs)(g,{children:[Object(a.jsx)(l.a,{}),Object(a.jsxs)(O.a,{basename:"/admin",children:[Object(a.jsx)(Ma,{}),Object(a.jsx)(Ea,{}),Object(a.jsxs)(u.a,{paddingTop:"70px",children:[Object(a.jsx)(Pa,{}),Object(a.jsx)(Na,{})]})]})]})})})})},Va=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,1046)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,o=t.getLCP,c=t.getTTFB;r(e),a(e),n(e),o(e),c(e)}))},Ua=r(99),za=r(194),Ga=r(100),Wa=D.a.mark(Ya),Ha=D.a.mark(Qa);function Ya(){var e,t,r,a,n,o,c;return D.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(Ga.a)(Vr.ADD_UPLOAD);case 2:e=i.sent;case 3:return i.next=6,Object(Ga.e)(e);case 6:t=i.sent,r=t.payload,a=Object(_.a)(r.files),i.prev=9,a.s();case 11:if((n=a.n()).done){i.next=25;break}return o=n.value,i.prev=13,i.next=16,Object(Ga.c)(Qa,{video:r.video,fileInfo:o});case 16:c=i.sent,console.log(c),i.next=23;break;case 20:i.prev=20,i.t0=i.catch(13),console.log(i.t0);case 23:i.next=11;break;case 25:i.next=30;break;case 27:i.prev=27,i.t1=i.catch(9),a.e(i.t1);case 30:return i.prev=30,a.f(),i.finish(30);case 33:i.next=3;break;case 35:case"end":return i.stop()}}),Wa,null,[[9,27,30,33],[13,20]])}function Qa(e){var t,r,a,n,o,c;return D.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.video,r=e.fileInfo,i.next=3,Object(Ga.c)(Xa,{id:t.id,fileInfo:r});case 3:a=i.sent;case 4:return i.prev=5,i.next=8,Object(Ga.e)(a);case 8:if(n=i.sent,o=n.progress,!(c=n.response)){i.next=13;break}return i.abrupt("return",c);case 13:return i.next=15,Object(Ga.d)(Ur.updateProgress({video:t,fileField:r.fileField,progress:o}));case 15:i.next=22;break;case 17:return i.prev=17,i.t0=i.catch(5),i.next=21,Object(Ga.d)(Ur.setUploadError({video:t,fileField:r.fileField,error:i.t0}));case 21:throw i.t0;case 22:i.next=4;break;case 24:case"end":return i.stop()}}),Ha,null,[[5,17]])}function Xa(e){var t=e.id,r=e.fileInfo;return Object(za.c)((function(e){Nt.partialUpdate(t,Object(T.a)({_method:"PATCH"},r.fileField,r.file),{http:{usePost:!0},config:{headers:{"x-ignore-loading":!0},onUploadProgress:function(t){if(t.lengthComputable){var r=t.loaded/t.total;e({progress:r})}}}}).then((function(t){return e({response:t})})).catch((function(t){return e(t)})).finally((function(){return e(za.a)}));return function(){}}))}var Za=D.a.mark(Ka);function Ka(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ga.b)([Ya()]);case 2:case"end":return e.stop()}}),Za)}var Ja=Object(za.b)(),$a=Object(Ua.e)(Object(Ua.c)({upload:Gr}),Object(Ua.a)(Ja));Ja.run(Ka);var en=$a;i.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(Br.a,{store:en,children:Object(a.jsx)(qa,{})})}),document.getElementById("root")),Va()}},[[985,1,2]]]);
//# sourceMappingURL=main.52b57a73.chunk.js.map